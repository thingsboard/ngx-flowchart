{"version":3,"file":"ngx-flowchart.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-flowchart/lib/ngx-flowchart.models.ts","ng://ngx-flowchart/lib/model.service.ts","ng://ngx-flowchart/lib/modelvalidation.service.ts","ng://ngx-flowchart/lib/node-dragging.service.ts","ng://ngx-flowchart/lib/edge-drawing.service.ts","ng://ngx-flowchart/lib/edge-dragging.service.ts","ng://ngx-flowchart/lib/mouseover.service.ts","ng://ngx-flowchart/lib/scrollparent.ts","ng://ngx-flowchart/lib/rectangleselect.service.ts","ng://ngx-flowchart/lib/ngx-flowchart.component.ts","ng://ngx-flowchart/lib/magnet.directive.ts","ng://ngx-flowchart/lib/connector.directive.ts","ng://ngx-flowchart/lib/node.component.ts","ng://ngx-flowchart/lib/default-node.component.ts","ng://ngx-flowchart/lib/ngx-flowchart.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Observable } from 'rxjs';\nimport { InjectionToken, Type } from '@angular/core';\nimport { FcNodeComponent } from './node.component';\n\nexport const FC_NODE_COMPONENT_CONFIG = new InjectionToken<FcNodeComponentConfig>('fc-node.component.config');\n\nexport interface FcNodeComponentConfig {\n  nodeComponentType: Type<FcNodeComponent>;\n}\n\nconst htmlPrefix = 'fc';\nconst leftConnectorType = 'leftConnector';\nconst rightConnectorType = 'rightConnector';\n\nexport const FlowchartConstants = {\n  htmlPrefix,\n  leftConnectorType,\n  rightConnectorType,\n  curvedStyle: 'curved',\n  lineStyle: 'line',\n  dragAnimationRepaint: 'repaint',\n  dragAnimationShadow: 'shadow',\n  canvasClass: htmlPrefix + '-canvas',\n  selectedClass: htmlPrefix + '-selected',\n  editClass: htmlPrefix + '-edit',\n  activeClass: htmlPrefix + '-active',\n  hoverClass: htmlPrefix + '-hover',\n  draggingClass: htmlPrefix + '-dragging',\n  edgeClass: htmlPrefix + '-edge',\n  edgeLabelClass: htmlPrefix + '-edge-label',\n  connectorClass: htmlPrefix + '-connector',\n  magnetClass: htmlPrefix + '-magnet',\n  nodeClass: htmlPrefix + '-node',\n  nodeOverlayClass: htmlPrefix + '-node-overlay',\n  leftConnectorClass: htmlPrefix + '-' + leftConnectorType + 's',\n  rightConnectorClass: htmlPrefix + '-' + rightConnectorType + 's',\n  canvasResizeThreshold: 200,\n  canvasResizeStep: 200\n};\n\n\nexport interface FcCoords {\n  x?: number;\n  y?: number;\n}\n\nexport interface FcRectBox {\n  top: number;\n  left: number;\n  right: number;\n  bottom: number;\n}\n\nexport interface FcConnector {\n  id: string;\n  type: string;\n}\n\nexport interface FcNode extends FcCoords {\n  id: string;\n  name: string;\n  connectors: Array<FcConnector>;\n  readonly?: boolean;\n  [key: string]: any;\n}\n\nexport interface FcEdge {\n  label?: string;\n  source?: string;\n  destination?: string;\n  active?: boolean;\n}\n\nexport interface FcItemInfo {\n  node?: FcNode;\n  edge?: FcEdge;\n}\n\nexport interface FcModel {\n  nodes: Array<FcNode>;\n  edges: Array<FcEdge>;\n}\n\nexport interface UserCallbacks {\n  dropNode?: (event: Event, node: FcNode) => void;\n  createEdge?: (event: Event, edge: FcEdge) => Observable<FcEdge>;\n  edgeAdded?: (edge: FcEdge) => void;\n  nodeRemoved?: (node: FcNode) => void;\n  edgeRemoved?: (edge: FcEdge) => void;\n  edgeDoubleClick?: (event: MouseEvent, edge: FcEdge) => void;\n  edgeMouseOver?: (event: MouseEvent, edge: FcEdge) => void;\n  isValidEdge?: (source: FcConnector, destination: FcConnector) => boolean;\n  edgeEdit?: (event: Event, edge: FcEdge) => void;\n  nodeCallbacks?: UserNodeCallbacks;\n}\n\nexport interface UserNodeCallbacks {\n  nodeEdit?: (event: MouseEvent, node: FcNode) => void;\n  doubleClick?: (event: MouseEvent, node: FcNode) => void;\n  mouseDown?: (event: MouseEvent, node: FcNode) => void;\n  mouseEnter?: (event: MouseEvent, node: FcNode) => void;\n  mouseLeave?: (event: MouseEvent, node: FcNode) => void;\n}\n\nexport interface FcCallbacks {\n  nodeDragstart: (event: DragEvent, node: FcNode) => void;\n  nodeDragend: (event: DragEvent) => void;\n  edgeDragstart: (event: DragEvent, connector: FcConnector) => void;\n  edgeDragend: (event: DragEvent) => void;\n  edgeDrop: (event: DragEvent, targetConnector: FcConnector) => boolean;\n  edgeDragoverConnector: (event: DragEvent, connector: FcConnector) => boolean;\n  edgeDragoverMagnet: (event: DragEvent, connector: FcConnector) => boolean;\n  edgeDragleaveMagnet: (event: DragEvent) => void;\n  nodeMouseOver: (event: MouseEvent, node: FcNode) => void;\n  nodeMouseOut: (event: MouseEvent, node: FcNode) => void;\n  connectorMouseEnter: (event: MouseEvent, connector: FcConnector) => void;\n  connectorMouseLeave: (event: MouseEvent, connector: FcConnector) => void;\n  nodeClicked: (event: MouseEvent, node: FcNode) => void;\n}\n\nexport interface FcAdjacentList {\n  [id: string]: {\n    incoming: number;\n    outgoing: Array<string>;\n  };\n}\n\nclass BaseError {\n  constructor() {\n    Error.apply(this, arguments);\n  }\n}\n\nObject.defineProperty(BaseError, 'prototype', new Error());\n\nexport class ModelvalidationError extends BaseError {\n  constructor(public message: string) {\n    super();\n  }\n}\n\nexport function fcTopSort(graph: FcModel): Array<string> | null {\n  const adjacentList: FcAdjacentList = {};\n  graph.nodes.forEach((node) => {\n    adjacentList[node.id] = {incoming: 0, outgoing: []};\n  });\n  graph.edges.forEach((edge) => {\n    const sourceNode = graph.nodes.filter((node) => {\n      return node.connectors.some((connector) => {\n        return connector.id === edge.source;\n      });\n    })[0];\n    const destinationNode = graph.nodes.filter((node) => {\n      return node.connectors.some((connector) => {\n        return connector.id === edge.destination;\n      });\n    })[0];\n    adjacentList[sourceNode.id].outgoing.push(destinationNode.id);\n    adjacentList[destinationNode.id].incoming++;\n  });\n  const orderedNodes: string[] = [];\n  const sourceNodes: string[] = [];\n  for (const node of Object.keys(adjacentList)) {\n    const edges = adjacentList[node];\n    if (edges.incoming === 0) {\n      sourceNodes.push(node);\n    }\n  }\n  while (sourceNodes.length !== 0) {\n    const sourceNode = sourceNodes.pop();\n    for (let i = 0; i < adjacentList[sourceNode].outgoing.length; i++) {\n      const destinationNode = adjacentList[sourceNode].outgoing[i];\n      adjacentList[destinationNode].incoming--;\n      if (adjacentList[destinationNode].incoming === 0) {\n        sourceNodes.push(destinationNode);\n      }\n      adjacentList[sourceNode].outgoing.splice(i, 1);\n      i--;\n    }\n    orderedNodes.push(sourceNode);\n  }\n  let hasEdges = false;\n  for (const node of Object.keys(adjacentList)) {\n    const edges = adjacentList[node];\n    if (edges.incoming !== 0) {\n      hasEdges = true;\n    }\n  }\n  if (hasEdges) {\n    return null;\n  } else {\n    return orderedNodes;\n  }\n}\n","import { FcModelValidationService } from './modelvalidation.service';\nimport { FcConnector, FcCoords, FcEdge, FcItemInfo, FcModel, FcNode, FcRectBox } from './ngx-flowchart.models';\nimport { Observable, of, Subject } from 'rxjs';\nimport { ChangeDetectorRef, EventEmitter } from '@angular/core';\nimport { debounceTime } from 'rxjs/operators';\n\nexport class FcModelService {\n\n  modelValidation: FcModelValidationService;\n  model: FcModel;\n  private readonly detectChangesSubject: Subject<any>;\n  selectedObjects: any[];\n\n  connectorsHtmlElements: HtmlElementMap = {};\n  nodesHtmlElements: HtmlElementMap = {};\n  canvasHtmlElement: HTMLElement = null;\n  dragImage: HTMLImageElement = null;\n  svgHtmlElement: SVGElement = null;\n\n  dropNode: (event: Event, node: FcNode) => void;\n  createEdge: (event: Event, edge: FcEdge) => Observable<FcEdge>;\n  edgeAddedCallback: (edge: FcEdge) => void;\n  nodeRemovedCallback: (node: FcNode) => void;\n  edgeRemovedCallback: (edge: FcEdge) => void;\n\n  dropTargetId: string;\n\n  private readonly modelChanged: EventEmitter<any>;\n  private readonly debouncer = new Subject<any>();\n\n  connectors: ConnectorsModel;\n  nodes: NodesModel;\n  edges: EdgesModel;\n\n  constructor(modelValidation: FcModelValidationService,\n              model: FcModel,\n              modelChanged: EventEmitter<any>,\n              detectChangesSubject: Subject<any>,\n              selectedObjects: any[],\n              dropNode: (event: Event, node: FcNode) => void,\n              createEdge: (event: Event, edge: FcEdge) => Observable<FcEdge>,\n              edgeAddedCallback: (edge: FcEdge) => void,\n              nodeRemovedCallback: (node: FcNode) => void,\n              edgeRemovedCallback: (edge: FcEdge) => void,\n              canvasHtmlElement: HTMLElement,\n              svgHtmlElement: SVGElement) {\n\n    this.modelValidation = modelValidation;\n    this.model = model;\n    this.modelChanged = modelChanged;\n    this.detectChangesSubject = detectChangesSubject;\n    this.canvasHtmlElement = canvasHtmlElement;\n    this.svgHtmlElement = svgHtmlElement;\n    this.modelValidation.validateModel(this.model);\n    this.selectedObjects = selectedObjects;\n\n    this.dropNode = dropNode || (() => {});\n    this.createEdge = createEdge || ((event, edge) => of({...edge, label: 'label'}));\n    this.edgeAddedCallback = edgeAddedCallback || (() => {});\n    this.nodeRemovedCallback = nodeRemovedCallback || (() => {});\n    this.edgeRemovedCallback = edgeRemovedCallback || (() => {});\n\n    this.connectors = new ConnectorsModel(this);\n    this.nodes = new NodesModel(this);\n    this.edges = new EdgesModel(this);\n\n    this.debouncer\n      .pipe(debounceTime(100))\n      .subscribe(() => this.modelChanged.emit());\n  }\n\n  public notifyModelChanged() {\n    this.debouncer.next();\n  }\n\n  public detectChanges() {\n    setTimeout(() => {\n      this.detectChangesSubject.next();\n    }, 0);\n  }\n\n  public selectObject(object: any) {\n    if (this.isEditable()) {\n      if (this.selectedObjects.indexOf(object) === -1) {\n        this.selectedObjects.push(object);\n      }\n    }\n  }\n\n  public deselectObject(object: any) {\n    if (this.isEditable()) {\n      const index = this.selectedObjects.indexOf(object);\n      if (index === -1) {\n        throw new Error('Tried to deselect an unselected object');\n      }\n      this.selectedObjects.splice(index, 1);\n    }\n  }\n\n  public toggleSelectedObject(object: any) {\n    if (this.isSelectedObject(object)) {\n      this.deselectObject(object);\n    } else {\n      this.selectObject(object);\n    }\n  }\n\n  public isSelectedObject(object: any): boolean {\n    return this.selectedObjects.indexOf(object) !== -1;\n  }\n\n  public selectAll() {\n    this.model.nodes.forEach(node => {\n      if (!node.readonly) {\n        this.nodes.select(node);\n      }\n    });\n    this.model.edges.forEach(edge => {\n      this.edges.select(edge);\n    });\n    this.detectChanges();\n  }\n\n  public deselectAll() {\n    this.selectedObjects.splice(0, this.selectedObjects.length);\n    this.detectChanges();\n  }\n\n  public isEditObject(object: any): boolean {\n    return this.selectedObjects.length === 1 &&\n      this.selectedObjects.indexOf(object) !== -1;\n  }\n\n  private inRectBox(x: number, y: number, rectBox: FcRectBox): boolean {\n    return x >= rectBox.left && x <= rectBox.right &&\n      y >= rectBox.top && y <= rectBox.bottom;\n  }\n\n  public getItemInfoAtPoint(x: number, y: number): FcItemInfo {\n    return {\n      node: this.getNodeAtPoint(x, y),\n      edge: this.getEdgeAtPoint(x, y)\n    };\n  }\n\n  public getNodeAtPoint(x: number, y: number): FcNode {\n    for (const node of this.model.nodes) {\n      const element = this.nodes.getHtmlElement(node.id);\n      const nodeElementBox = element.getBoundingClientRect();\n      if (x >= nodeElementBox.left && x <= nodeElementBox.right\n        && y >= nodeElementBox.top && y <= nodeElementBox.bottom) {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  public getEdgeAtPoint(x: number, y: number): FcEdge {\n    const element = document.elementFromPoint(x, y);\n    const id = element.id;\n    let edgeIndex = -1;\n    if (id) {\n      if (id.startsWith('fc-edge-path-')) {\n        edgeIndex = Number(id.substring('fc-edge-path-'.length));\n      } else if (id.startsWith('fc-edge-label-')) {\n        edgeIndex = Number(id.substring('fc-edge-label-'.length));\n      }\n    }\n    if (edgeIndex > -1) {\n      return this.model.edges[edgeIndex];\n    }\n    return null;\n  }\n\n  public selectAllInRect(rectBox: FcRectBox) {\n    this.model.nodes.forEach((value) => {\n      const element = this.nodes.getHtmlElement(value.id);\n      const nodeElementBox = element.getBoundingClientRect();\n      if (!value.readonly) {\n        const x = nodeElementBox.left + nodeElementBox.width / 2;\n        const y = nodeElementBox.top + nodeElementBox.height / 2;\n        if (this.inRectBox(x, y, rectBox)) {\n          this.nodes.select(value);\n        } else {\n          if (this.nodes.isSelected(value)) {\n            this.nodes.deselect(value);\n          }\n        }\n      }\n    });\n    const canvasElementBox = this.canvasHtmlElement.getBoundingClientRect();\n    this.model.edges.forEach((value) => {\n      const start = this.edges.sourceCoord(value);\n      const end = this.edges.destCoord(value);\n      const x = (start.x + end.x) / 2 + canvasElementBox.left;\n      const y = (start.y + end.y) / 2 + canvasElementBox.top;\n      if (this.inRectBox(x, y, rectBox)) {\n        this.edges.select(value);\n      } else {\n        if (this.edges.isSelected(value)) {\n          this.edges.deselect(value);\n        }\n      }\n    });\n  }\n\n  public deleteSelected() {\n    const edgesToDelete = this.edges.getSelectedEdges();\n    edgesToDelete.forEach((edge) => {\n      this.edges.delete(edge);\n    });\n    const nodesToDelete = this.nodes.getSelectedNodes();\n    nodesToDelete.forEach((node) => {\n      this.nodes.delete(node);\n    });\n  }\n\n  public isEditable(): boolean {\n    return this.dropTargetId === undefined;\n  }\n\n  public isDropSource(): boolean {\n    return this.dropTargetId !== undefined;\n  }\n\n  public getDragImage(): HTMLImageElement {\n    if (!this.dragImage) {\n      this.dragImage = new Image();\n      this.dragImage.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n      this.dragImage.style.visibility = 'hidden';\n    }\n    return this.dragImage;\n  }\n}\n\ninterface HtmlElementMap { [id: string]: HTMLElement; }\n\nabstract class AbstractFcModel<T> {\n\n  modelService: FcModelService;\n\n  protected constructor(modelService: FcModelService) {\n    this.modelService = modelService;\n  }\n\n  public select(object: T) {\n    this.modelService.selectObject(object);\n  }\n\n  public deselect(object: T) {\n    this.modelService.deselectObject(object);\n  }\n\n  public toggleSelected(object: T) {\n    this.modelService.toggleSelectedObject(object);\n  }\n\n  public isSelected(object: T): boolean {\n    return this.modelService.isSelectedObject(object);\n  }\n\n  public isEdit(object: T): boolean {\n    return this.modelService.isEditObject(object);\n  }\n}\n\nclass ConnectorsModel extends AbstractFcModel<FcConnector> {\n\n  constructor(modelService: FcModelService) {\n    super(modelService);\n  }\n\n  public getConnector(connectorId: string): FcConnector {\n    const model = this.modelService.model;\n    for (const node of model.nodes) {\n      for (const connector of node.connectors) {\n        if (connector.id === connectorId) {\n          return connector;\n        }\n      }\n    }\n  }\n\n  public getHtmlElement(connectorId: string): HTMLElement {\n    return this.modelService.connectorsHtmlElements[connectorId];\n  }\n\n  public setHtmlElement(connectorId: string, element: HTMLElement) {\n    this.modelService.connectorsHtmlElements[connectorId] = element;\n    this.modelService.detectChanges();\n  }\n\n  private _getCoords(connectorId: string, centered?: boolean): FcCoords {\n    const element = this.getHtmlElement(connectorId);\n    const canvas = this.modelService.canvasHtmlElement;\n    if (element === null || element === undefined || canvas === null) {\n      return {x: 0, y: 0};\n    }\n    const connectorElementBox = element.getBoundingClientRect();\n    const canvasElementBox = canvas.getBoundingClientRect();\n    let coords: FcCoords = {\n      x: connectorElementBox.left - canvasElementBox.left,\n      y: connectorElementBox.top - canvasElementBox.top\n    };\n    if (centered) {\n      coords = {\n        x: Math.round(coords.x + element.offsetWidth / 2),\n        y: Math.round(coords.y + element.offsetHeight / 2)\n      };\n    }\n    return coords;\n  }\n\n  public getCoords(connectorId: string): FcCoords {\n    return this._getCoords(connectorId, false);\n  }\n\n  public getCenteredCoord(connectorId: string): FcCoords {\n    return this._getCoords(connectorId, true);\n  }\n}\n\nclass NodesModel extends AbstractFcModel<FcNode> {\n\n  constructor(modelService: FcModelService) {\n    super(modelService);\n  }\n\n  public getConnectorsByType(node: FcNode, type: string): Array<FcConnector> {\n    return node.connectors.filter((connector) => {\n      return connector.type === type;\n    });\n  }\n\n  private _addConnector(node: FcNode, connector: FcConnector) {\n    node.connectors.push(connector);\n    try {\n      this.modelService.modelValidation.validateNode(node);\n    } catch (error) {\n      node.connectors.splice(node.connectors.indexOf(connector), 1);\n      throw error;\n    }\n  }\n\n  public delete(node: FcNode) {\n    if (this.isSelected(node)) {\n      this.deselect(node);\n    }\n    const model = this.modelService.model;\n    const index = model.nodes.indexOf(node);\n    if (index === -1) {\n      if (node === undefined) {\n        throw new Error('Passed undefined');\n      }\n      throw new Error('Tried to delete not existing node');\n    }\n    const connectorIds = this.getConnectorIds(node);\n    for (let i = 0; i < model.edges.length; i++) {\n      const edge = model.edges[i];\n      if (connectorIds.indexOf(edge.source) !== -1 || connectorIds.indexOf(edge.destination) !== -1) {\n        this.modelService.edges.delete(edge);\n        i--;\n      }\n    }\n    model.nodes.splice(index, 1);\n    this.modelService.notifyModelChanged();\n    this.modelService.nodeRemovedCallback(node);\n  }\n\n  public getSelectedNodes(): Array<FcNode> {\n    const model = this.modelService.model;\n    return model.nodes.filter((node) => {\n      return this.modelService.nodes.isSelected(node);\n    });\n  }\n\n  public handleClicked(node: FcNode, ctrlKey?: boolean) {\n    if (ctrlKey) {\n      this.modelService.nodes.toggleSelected(node);\n    } else {\n      this.modelService.deselectAll();\n      this.modelService.nodes.select(node);\n    }\n  }\n\n  private _addNode(node: FcNode) {\n    const model = this.modelService.model;\n    try {\n      model.nodes.push(node);\n      this.modelService.modelValidation.validateNodes(model.nodes);\n    } catch (error) {\n      model.nodes.splice(model.nodes.indexOf(node), 1);\n      throw error;\n    }\n  }\n\n  public getConnectorIds(node: FcNode): Array<string> {\n    return node.connectors.map((connector) => {\n      return connector.id;\n    });\n  }\n\n  public getNodeByConnectorId(connectorId: string): FcNode {\n    const model = this.modelService.model;\n    for (const node of model.nodes) {\n      const connectorIds = this.getConnectorIds(node);\n      if (connectorIds.indexOf(connectorId) > -1) {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  public getHtmlElement(nodeId: string): HTMLElement {\n    return this.modelService.nodesHtmlElements[nodeId];\n  }\n\n  public setHtmlElement(nodeId: string, element: HTMLElement) {\n    this.modelService.nodesHtmlElements[nodeId] = element;\n    this.modelService.detectChanges();\n  }\n\n}\n\nclass EdgesModel extends AbstractFcModel<FcEdge> {\n\n  constructor(modelService: FcModelService) {\n    super(modelService);\n  }\n\n  public ready(edge: FcEdge): boolean {\n    const source = this.modelService.connectors.getHtmlElement(edge.source);\n    const destination = this.modelService.connectors.getHtmlElement(edge.destination);\n    return source !== undefined && destination !== undefined;\n  }\n\n  public sourceCoord(edge: FcEdge): FcCoords {\n    return this.modelService.connectors.getCenteredCoord(edge.source);\n  }\n\n  public destCoord(edge: FcEdge): FcCoords {\n    return this.modelService.connectors.getCenteredCoord(edge.destination);\n  }\n\n  public delete(edge: FcEdge) {\n    const model = this.modelService.model;\n    const index = model.edges.indexOf(edge);\n    if (index === -1) {\n      throw new Error('Tried to delete not existing edge');\n    }\n    if (this.isSelected(edge)) {\n      this.deselect(edge);\n    }\n    model.edges.splice(index, 1);\n    this.modelService.notifyModelChanged();\n    this.modelService.edgeRemovedCallback(edge);\n  }\n\n  public getSelectedEdges(): Array<FcEdge> {\n    const model = this.modelService.model;\n    return model.edges.filter((edge) => {\n      return this.modelService.edges.isSelected(edge);\n    });\n  }\n\n  public handleEdgeMouseClick(edge: FcEdge, ctrlKey?: boolean) {\n    if (ctrlKey) {\n      this.modelService.edges.toggleSelected(edge);\n    } else {\n      this.modelService.deselectAll();\n      this.modelService.edges.select(edge);\n    }\n  }\n\n  public putEdge(edge: FcEdge) {\n    const model = this.modelService.model;\n    model.edges.push(edge);\n    this.modelService.notifyModelChanged();\n  }\n\n  public _addEdge(event: Event, sourceConnector: FcConnector, destConnector: FcConnector, label: string) {\n    this.modelService.modelValidation.validateConnector(sourceConnector);\n    this.modelService.modelValidation.validateConnector(destConnector);\n    const edge: FcEdge = {};\n    edge.source = sourceConnector.id;\n    edge.destination = destConnector.id;\n    edge.label = label;\n    const model = this.modelService.model;\n    this.modelService.modelValidation.validateEdges(model.edges.concat([edge]), model.nodes);\n    this.modelService.createEdge(event, edge).subscribe(\n      (created) => {\n        model.edges.push(created);\n        this.modelService.notifyModelChanged();\n        this.modelService.edgeAddedCallback(created);\n      }\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FcConnector, FcEdge, FcModel, FcNode, fcTopSort, ModelvalidationError } from './ngx-flowchart.models';\n\n@Injectable()\nexport class FcModelValidationService {\n\n  constructor() { }\n\n  public validateModel(model: FcModel): FcModel {\n    this.validateNodes(model.nodes);\n    this._validateEdges(model.edges, model.nodes);\n    return model;\n  }\n\n  public validateNodes(nodes: Array<FcNode>): Array<FcNode> {\n    const ids: string[] = [];\n    nodes.forEach((node) => {\n      this.validateNode(node);\n      if (ids.indexOf(node.id) !== -1) {\n        throw new ModelvalidationError('Id not unique.');\n      }\n      ids.push(node.id);\n    });\n    const connectorIds: string[] = [];\n    nodes.forEach((node) => {\n      node.connectors.forEach((connector) => {\n        if (connectorIds.indexOf(connector.id) !== -1) {\n          throw new ModelvalidationError('Id not unique.');\n        }\n        connectorIds.push(connector.id);\n      });\n    });\n    return nodes;\n  }\n\n  public validateNode(node: FcNode): FcNode {\n    if (node.id === undefined) {\n      throw new ModelvalidationError('Id not valid.');\n    }\n    if (typeof node.name !== 'string') {\n      throw new ModelvalidationError('Name not valid.');\n    }\n    if (typeof node.x !== 'number' || node.x < 0 || Math.round(node.x) !== node.x) {\n      throw new ModelvalidationError('Coordinates not valid.');\n    }\n    if (typeof node.y !== 'number' || node.y < 0 || Math.round(node.y) !== node.y) {\n      throw new ModelvalidationError('Coordinates not valid.');\n    }\n    if (!Array.isArray(node.connectors)) {\n      throw new ModelvalidationError('Connectors not valid.');\n    }\n    node.connectors.forEach((connector) => {\n      this.validateConnector(connector);\n    });\n    return node;\n  }\n\n  private _validateEdges(edges: Array<FcEdge>, nodes: Array<FcNode>): Array<FcEdge> {\n    edges.forEach((edge) => {\n      this._validateEdge(edge, nodes);\n    });\n    edges.forEach((edge1, index1) => {\n      edges.forEach((edge2, index2) => {\n        if (index1 !== index2) {\n          if ((edge1.source === edge2.source && edge1.destination === edge2.destination) ||\n            (edge1.source === edge2.destination && edge1.destination === edge2.source)) {\n            throw new ModelvalidationError('Duplicated edge.');\n          }\n        }\n      });\n    });\n    if (fcTopSort({nodes, edges}) === null) {\n      throw new ModelvalidationError('Graph has a circle.');\n    }\n    return edges;\n  }\n\n  public validateEdges(edges: Array<FcEdge>, nodes: Array<FcNode>): Array<FcEdge> {\n    this.validateNodes(nodes);\n    return this._validateEdges(edges, nodes);\n  }\n\n  private _validateEdge(edge: FcEdge, nodes: Array<FcNode>): FcEdge {\n    if (edge.source === undefined) {\n      throw new ModelvalidationError('Source not valid.');\n    }\n    if (edge.destination === undefined) {\n      throw new ModelvalidationError('Destination not valid.');\n    }\n    if (edge.source === edge.destination) {\n      throw new ModelvalidationError('Edge with same source and destination connectors.');\n    }\n    const sourceNode = nodes.filter((node) => node.connectors.some((connector) => connector.id === edge.source))[0];\n    if (sourceNode === undefined) {\n      throw new ModelvalidationError('Source not valid.');\n    }\n    const destinationNode = nodes.filter((node) => node.connectors.some((connector) => connector.id === edge.destination))[0];\n    if (destinationNode === undefined) {\n      throw new ModelvalidationError('Destination not valid.');\n    }\n    if (sourceNode === destinationNode) {\n      throw new ModelvalidationError('Edge with same source and destination nodes.');\n    }\n    return edge;\n  }\n\n  public validateEdge(edge: FcEdge, nodes: Array<FcNode>): FcEdge {\n    this.validateNodes(nodes);\n    return this._validateEdge(edge, nodes);\n  }\n\n  public validateConnector(connector: FcConnector): FcConnector {\n    if (connector.id === undefined) {\n      throw new ModelvalidationError('Id not valid.');\n    }\n    if (connector.type === undefined || connector.type === null || typeof connector.type !== 'string') {\n      throw new ModelvalidationError('Type not valid.');\n    }\n    return connector;\n  }\n\n}\n","import { FcModelService } from './model.service';\nimport { FcCoords, FcNode, FlowchartConstants } from './ngx-flowchart.models';\n\nconst nodeDropScope: NodeDropScope = {\n  dropElement: null\n};\n\nexport class FcNodeDraggingService {\n\n  nodeDraggingScope: NodeDraggingScope = {\n    shadowDragStarted: false,\n    dropElement: null,\n    draggedNodes: [],\n    shadowElements: []\n  };\n\n  private dragOffsets: FcCoords[] = [];\n  private draggedElements: HTMLElement[] = [];\n\n  private destinationHtmlElements: HTMLElement[] = [];\n  private oldDisplayStyles: string[] = [];\n\n  private readonly modelService: FcModelService;\n  private readonly automaticResize: boolean;\n  private readonly dragAnimation: string;\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n\n  constructor(modelService: FcModelService,\n              applyFunction: <T>(fn: (...args: any[]) => T) => T,\n              automaticResize: boolean, dragAnimation: string) {\n    this.modelService = modelService;\n    this.automaticResize = automaticResize;\n    this.dragAnimation = dragAnimation;\n    this.applyFunction = applyFunction;\n  }\n\n  private getCoordinate(coordinate: number, max: number): number {\n    coordinate = Math.max(coordinate, 0);\n    coordinate = Math.min(coordinate, max);\n    return coordinate;\n  }\n\n  private getXCoordinate(x: number): number {\n    return this.getCoordinate(x, this.modelService.canvasHtmlElement.offsetWidth);\n  }\n\n  private getYCoordinate(y: number): number {\n    return this.getCoordinate(y, this.modelService.canvasHtmlElement.offsetHeight);\n  }\n\n  private resizeCanvas(draggedNode: FcNode, nodeElement: HTMLElement) {\n    if (this.automaticResize && !this.modelService.isDropSource()) {\n      const canvasElement = this.modelService.canvasHtmlElement;\n      if (canvasElement.offsetWidth < draggedNode.x + nodeElement.offsetWidth + FlowchartConstants.canvasResizeThreshold) {\n        canvasElement.style.width = canvasElement.offsetWidth + FlowchartConstants.canvasResizeStep + 'px';\n      }\n      if (canvasElement.offsetHeight < draggedNode.y + nodeElement.offsetHeight + FlowchartConstants.canvasResizeThreshold) {\n        canvasElement.style.height = canvasElement.offsetHeight + FlowchartConstants.canvasResizeStep + 'px';\n      }\n    }\n  }\n\n  public isDraggingNode(node: FcNode): boolean {\n    return this.nodeDraggingScope.draggedNodes.includes(node);\n  }\n\n  public dragstart(event: DragEvent, node: FcNode) {\n    if (node.readonly) {\n      return;\n    }\n    this.dragOffsets.length = 0;\n    this.draggedElements.length = 0;\n    this.nodeDraggingScope.draggedNodes.length = 0;\n    this.nodeDraggingScope.shadowElements.length = 0;\n    this.destinationHtmlElements.length = 0;\n    this.oldDisplayStyles.length = 0;\n    const elements: Array<JQuery<HTMLElement>> = [];\n    const nodes: Array<FcNode> = [];\n    if (this.modelService.nodes.isSelected(node)) {\n      const selectedNodes = this.modelService.nodes.getSelectedNodes();\n      for (const selectedNode of selectedNodes) {\n        const element = $(this.modelService.nodes.getHtmlElement(selectedNode.id));\n        elements.push(element);\n        nodes.push(selectedNode);\n      }\n    } else {\n      elements.push($(event.target as HTMLElement));\n      nodes.push(node);\n    }\n    const offsetsX: number[] = [];\n    const offsetsY: number[] = [];\n    for (const element of elements) {\n      offsetsX.push(parseInt(element.css('left'), 10) - event.clientX);\n      offsetsY.push(parseInt(element.css('top'), 10) - event.clientY);\n    }\n    const originalEvent: DragEvent = (event as any).originalEvent || event;\n    if (this.modelService.isDropSource()) {\n      if (nodeDropScope.dropElement) {\n        nodeDropScope.dropElement.parentNode.removeChild(nodeDropScope.dropElement);\n        nodeDropScope.dropElement = null;\n      }\n      nodeDropScope.dropElement = elements[0][0].cloneNode(true) as NodeDropElement;\n      const offset = $(this.modelService.canvasHtmlElement).offset();\n      nodeDropScope.dropElement.offsetInfo = {\n        offsetX: Math.round(offsetsX[0] + offset.left),\n        offsetY: Math.round(offsetsY[0] + offset.top)\n      };\n      nodeDropScope.dropElement.style.position = 'absolute';\n      nodeDropScope.dropElement.style.pointerEvents = 'none';\n      nodeDropScope.dropElement.style.zIndex = '9999';\n\n      document.body.appendChild(nodeDropScope.dropElement);\n      const dropNodeInfo: DropNodeInfo = {\n        node,\n        dropTargetId: this.modelService.dropTargetId,\n        offsetX: Math.round(offsetsX[0] + offset.left),\n        offsetY: Math.round(offsetsY[0] + offset.top)\n      };\n      originalEvent.dataTransfer.setData('text', JSON.stringify(dropNodeInfo));\n\n      if (originalEvent.dataTransfer.setDragImage) {\n        originalEvent.dataTransfer.setDragImage(this.modelService.getDragImage(), 0, 0);\n      } else {\n        const target: HTMLElement = event.target as HTMLElement;\n        this.destinationHtmlElements.push(target);\n        this.oldDisplayStyles.push(target.style.display);\n        target.style.display = 'none';\n        this.nodeDraggingScope.shadowDragStarted = true;\n      }\n      return;\n    }\n    this.nodeDraggingScope.draggedNodes = nodes;\n    for (let i = 0; i < elements.length; i++) {\n      this.draggedElements.push(elements[i][0]);\n      this.dragOffsets.push(\n        {\n          x: offsetsX[i],\n          y: offsetsY[i]\n        }\n      );\n    }\n\n    if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n      for (let i = 0; i < this.draggedElements.length; i++) {\n        const dragOffset = this.dragOffsets[i];\n        const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n        const shadowElement = $(`<div style=\"position: absolute; opacity: 0.7; ` +\n                                `top: ${this.getYCoordinate(dragOffset.y + event.clientY)}px; ` +\n                                `left: ${this.getXCoordinate(dragOffset.x + event.clientX)}px; \">` +\n                                `<div class=\"innerNode\"><p style=\"padding: 0 15px;\">${draggedNode.name}</p> </div></div>`);\n        const targetInnerNode = $(this.draggedElements[i]).children()[0];\n        shadowElement.children()[0].style.backgroundColor = targetInnerNode.style.backgroundColor;\n        this.nodeDraggingScope.shadowElements.push(shadowElement);\n        this.modelService.canvasHtmlElement.appendChild(this.nodeDraggingScope.shadowElements[i][0]);\n      }\n    }\n    originalEvent.dataTransfer.setData('text', 'Just to support firefox');\n    if (originalEvent.dataTransfer.setDragImage) {\n      originalEvent.dataTransfer.setDragImage(this.modelService.getDragImage(), 0, 0);\n    } else {\n      for (let i = 0; i < this.draggedElements.length; i++) {\n        this.destinationHtmlElements.push(this.draggedElements[i]);\n        this.oldDisplayStyles.push(this.destinationHtmlElements[i].style.display);\n        this.destinationHtmlElements[i].style.display = 'none';\n      }\n      if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        this.nodeDraggingScope.shadowDragStarted = true;\n      }\n    }\n  }\n\n  public drop(event: DragEvent): boolean {\n    if (this.modelService.isDropSource()) {\n      event.preventDefault();\n      return false;\n    }\n    let dropNode: FcNode = null;\n    const originalEvent: DragEvent = (event as any).originalEvent || event;\n    const infoText = originalEvent.dataTransfer.getData('text');\n    if (infoText) {\n      let dropNodeInfo: DropNodeInfo = null;\n      try {\n        dropNodeInfo = JSON.parse(infoText);\n      } catch (e) {}\n      if (dropNodeInfo && dropNodeInfo.dropTargetId) {\n        if (this.modelService.canvasHtmlElement.id &&\n          this.modelService.canvasHtmlElement.id === dropNodeInfo.dropTargetId) {\n          dropNode = dropNodeInfo.node;\n          const offset = $(this.modelService.canvasHtmlElement).offset();\n          const x = event.clientX - offset.left;\n          const y = event.clientY - offset.top;\n          dropNode.x = Math.round(this.getXCoordinate(dropNodeInfo.offsetX + x));\n          dropNode.y = Math.round(this.getYCoordinate(dropNodeInfo.offsetY + y));\n        }\n      }\n    }\n    if (dropNode) {\n      this.modelService.dropNode(event, dropNode);\n      event.preventDefault();\n      return false;\n    } else if (this.nodeDraggingScope.draggedNodes.length) {\n      return this.applyFunction(() => {\n        for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n          const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n          const dragOffset = this.dragOffsets[i];\n          draggedNode.x = Math.round(this.getXCoordinate(dragOffset.x + event.clientX));\n          draggedNode.y = Math.round(this.getYCoordinate(dragOffset.y + event.clientY));\n        }\n        event.preventDefault();\n        this.modelService.notifyModelChanged();\n        return false;\n      });\n    }\n  }\n\n  public dragover(event: DragEvent) {\n    if (nodeDropScope.dropElement) {\n      const offsetInfo = nodeDropScope.dropElement.offsetInfo;\n      nodeDropScope.dropElement.style.left = (offsetInfo.offsetX + event.clientX) + 'px';\n      nodeDropScope.dropElement.style.top = (offsetInfo.offsetY + event.clientY) + 'px';\n      if (this.nodeDraggingScope.shadowDragStarted) {\n        this.applyFunction(() => {\n          this.destinationHtmlElements[0].style.display = this.oldDisplayStyles[0];\n          this.nodeDraggingScope.shadowDragStarted = false;\n        });\n      }\n      event.preventDefault();\n      return;\n    }\n    if (this.modelService.isDropSource()) {\n      event.preventDefault();\n      return;\n    }\n    if (!this.nodeDraggingScope.draggedNodes.length) {\n      event.preventDefault();\n      return;\n    }\n    if (this.dragAnimation === FlowchartConstants.dragAnimationRepaint) {\n      if (this.nodeDraggingScope.draggedNodes.length) {\n        return this.applyFunction(() => {\n          for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n            const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n            const dragOffset = this.dragOffsets[i];\n            draggedNode.x = this.getXCoordinate(dragOffset.x + event.clientX);\n            draggedNode.y = this.getYCoordinate(dragOffset.y + event.clientY);\n            this.resizeCanvas(draggedNode, this.draggedElements[i]);\n          }\n          event.preventDefault();\n          this.modelService.notifyModelChanged();\n          return false;\n        });\n      }\n    } else if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n      if (this.nodeDraggingScope.draggedNodes.length) {\n        if (this.nodeDraggingScope.shadowDragStarted) {\n          this.applyFunction(() => {\n            for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n              this.destinationHtmlElements[i].style.display = this.oldDisplayStyles[i];\n            }\n            this.nodeDraggingScope.shadowDragStarted = false;\n          });\n        }\n        for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n          const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n          const dragOffset = this.dragOffsets[i];\n          this.nodeDraggingScope.shadowElements[i].css('left', this.getXCoordinate(dragOffset.x + event.clientX) + 'px');\n          this.nodeDraggingScope.shadowElements[i].css('top', this.getYCoordinate(dragOffset.y + event.clientY) + 'px');\n          this.resizeCanvas(draggedNode, this.draggedElements[i]);\n        }\n        event.preventDefault();\n      }\n    }\n  }\n\n  public dragend(event: DragEvent) {\n    this.applyFunction(() => {\n      if (nodeDropScope.dropElement) {\n        nodeDropScope.dropElement.parentNode.removeChild(nodeDropScope.dropElement);\n        nodeDropScope.dropElement = null;\n      }\n      if (this.modelService.isDropSource()) {\n        return;\n      }\n      if (this.nodeDraggingScope.shadowElements.length) {\n        for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n          const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n          const shadowElement = this.nodeDraggingScope.shadowElements[i];\n          draggedNode.x = parseInt(shadowElement.css('left').replace('px', ''), 10);\n          draggedNode.y = parseInt(shadowElement.css('top').replace('px', ''), 10);\n          this.modelService.canvasHtmlElement.removeChild(shadowElement[0]);\n        }\n        this.nodeDraggingScope.shadowElements.length = 0;\n        this.modelService.notifyModelChanged();\n      }\n\n      if (this.nodeDraggingScope.draggedNodes.length) {\n        this.nodeDraggingScope.draggedNodes.length = 0;\n        this.draggedElements.length = 0;\n        this.dragOffsets.length = 0;\n      }\n    });\n  }\n\n}\n\nexport interface NodeDraggingScope {\n  draggedNodes: Array<FcNode>;\n  shadowElements: Array<JQuery<HTMLElement>>;\n  shadowDragStarted: boolean;\n  dropElement: HTMLElement;\n}\n\nexport interface NodeDropElement extends HTMLElement {\n  offsetInfo?: {\n    offsetX: number;\n    offsetY: number;\n  };\n}\n\nexport interface NodeDropScope {\n  dropElement: NodeDropElement;\n}\n\nexport interface DropNodeInfo {\n  node: FcNode;\n  dropTargetId: string;\n  offsetX: number;\n  offsetY: number;\n}\n","import { Injectable } from '@angular/core';\nimport { FcCoords, FlowchartConstants } from './ngx-flowchart.models';\n\n@Injectable()\nexport class FcEdgeDrawingService {\n\n  constructor() {\n  }\n\n  public getEdgeDAttribute(pt1: FcCoords, pt2: FcCoords, style: string): string {\n    let dAddribute = `M ${pt1.x}, ${pt1.y} `;\n    if (style === FlowchartConstants.curvedStyle) {\n      const sourceTangent = this.computeEdgeSourceTangent(pt1, pt2);\n      const destinationTangent = this.computeEdgeDestinationTangent(pt1, pt2);\n      dAddribute += `C ${sourceTangent.x}, ${sourceTangent.y} ${(destinationTangent.x - 50)}, ${destinationTangent.y} ${pt2.x}, ${pt2.y}`;\n    } else {\n      dAddribute += `L ${pt2.x}, ${pt2.y}`;\n    }\n    return dAddribute;\n  }\n\n  public getEdgeCenter(pt1: FcCoords, pt2: FcCoords): FcCoords {\n    return {\n      x: (pt1.x + pt2.x) / 2,\n      y: (pt1.y + pt2.y) / 2\n    };\n  }\n\n  private computeEdgeTangentOffset(pt1: FcCoords, pt2: FcCoords): number {\n    return (pt2.y - pt1.y) / 2;\n  }\n\n  private computeEdgeSourceTangent(pt1: FcCoords, pt2: FcCoords): FcCoords {\n    return {\n      x: pt1.x,\n      y: pt1.y + this.computeEdgeTangentOffset(pt1, pt2)\n    };\n  }\n\n  private computeEdgeDestinationTangent(pt1: FcCoords, pt2: FcCoords): FcCoords {\n    return {\n      x: pt2.x,\n      y: pt2.y - this.computeEdgeTangentOffset(pt1, pt2)\n    };\n  }\n\n}\n","import { FcModelService } from './model.service';\nimport { FcConnector, FcCoords, FcEdge, FcModel, FlowchartConstants, ModelvalidationError } from './ngx-flowchart.models';\nimport { FcEdgeDrawingService } from './edge-drawing.service';\nimport { FcModelValidationService } from './modelvalidation.service';\n\nexport class FcEdgeDraggingService {\n\n  edgeDragging: EdgeDragging = {\n    isDragging: false,\n    dragPoint1: null,\n    dragPoint2: null,\n    shadowDragStarted: false\n  };\n\n  private draggedEdgeSource: FcConnector = null;\n  private dragOffset: FcCoords = {};\n  private destinationHtmlElement: HTMLElement = null;\n  private oldDisplayStyle = '';\n\n  private readonly modelValidation: FcModelValidationService;\n  private readonly edgeDrawingService: FcEdgeDrawingService;\n  private readonly modelService: FcModelService;\n  private readonly model: FcModel;\n  private readonly isValidEdgeCallback: (source: FcConnector, destination: FcConnector) => boolean;\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n  private readonly dragAnimation: string;\n  private readonly edgeStyle: string;\n\n  constructor(modelValidation: FcModelValidationService,\n              edgeDrawingService: FcEdgeDrawingService,\n              modelService: FcModelService,\n              model: FcModel,\n              isValidEdgeCallback: (source: FcConnector, destination: FcConnector) => boolean,\n              applyFunction: <T>(fn: (...args: any[]) => T) => T,\n              dragAnimation: string,\n              edgeStyle: string) {\n    this.modelValidation = modelValidation;\n    this.edgeDrawingService = edgeDrawingService;\n    this.modelService = modelService;\n    this.model = model;\n    this.isValidEdgeCallback = isValidEdgeCallback || (() => true);\n    this.applyFunction = applyFunction;\n    this.dragAnimation = dragAnimation;\n    this.edgeStyle = edgeStyle;\n  }\n\n  public dragstart(event: DragEvent, connector: FcConnector) {\n    let swapConnector: FcConnector;\n    let dragLabel: string;\n    let prevEdge: FcEdge;\n    if (connector.type === FlowchartConstants.leftConnectorType) {\n      for (const edge of this.model.edges) {\n        if (edge.destination === connector.id) {\n          swapConnector = this.modelService.connectors.getConnector(edge.source);\n          dragLabel = edge.label;\n          prevEdge = edge;\n          this.applyFunction(() => {\n            this.modelService.edges.delete(edge);\n          });\n          break;\n        }\n      }\n    }\n    this.edgeDragging.isDragging = true;\n    if (swapConnector !== undefined) {\n      this.draggedEdgeSource = swapConnector;\n      this.edgeDragging.dragPoint1 = this.modelService.connectors.getCenteredCoord(swapConnector.id);\n      this.edgeDragging.dragLabel = dragLabel;\n      this.edgeDragging.prevEdge = prevEdge;\n    } else {\n      this.draggedEdgeSource = connector;\n      this.edgeDragging.dragPoint1 = this.modelService.connectors.getCenteredCoord(connector.id);\n    }\n    const canvas = this.modelService.canvasHtmlElement;\n    if (!canvas) {\n      throw new Error('No canvas while edgedraggingService found.');\n    }\n    this.dragOffset.x = -canvas.getBoundingClientRect().left;\n    this.dragOffset.y = -canvas.getBoundingClientRect().top;\n\n    this.edgeDragging.dragPoint2 = {\n      x: event.clientX + this.dragOffset.x,\n      y: event.clientY + this.dragOffset.y\n    };\n    const originalEvent: DragEvent = (event as any).originalEvent || event;\n\n    originalEvent.dataTransfer.setData('Text', 'Just to support firefox');\n    if (originalEvent.dataTransfer.setDragImage) {\n      originalEvent.dataTransfer.setDragImage(this.modelService.getDragImage(), 0, 0);\n    } else {\n      this.destinationHtmlElement = event.target as HTMLElement;\n      this.oldDisplayStyle = this.destinationHtmlElement.style.display;\n      this.destinationHtmlElement.style.display = 'none';\n      if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        this.edgeDragging.shadowDragStarted = true;\n      }\n    }\n    if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n      if (this.edgeDragging.gElement === undefined) {\n        this.edgeDragging.gElement = $(document.querySelectorAll('.shadow-svg-class'));\n        this.edgeDragging.pathElement = $(document.querySelectorAll('.shadow-svg-class')).find('path');\n        this.edgeDragging.circleElement = $(document.querySelectorAll('.shadow-svg-class')).find('circle');\n      }\n\n      this.edgeDragging.gElement.css('display', 'block');\n      this.edgeDragging.pathElement.attr('d',\n        this.edgeDrawingService.getEdgeDAttribute(this.edgeDragging.dragPoint1, this.edgeDragging.dragPoint2, this.edgeStyle));\n      this.edgeDragging.circleElement.attr('cx', this.edgeDragging.dragPoint2.x);\n      this.edgeDragging.circleElement.attr('cy', this.edgeDragging.dragPoint2.y);\n    }\n    event.stopPropagation();\n  }\n\n  public dragover(event: DragEvent) {\n    if (this.edgeDragging.isDragging) {\n      if (!this.edgeDragging.magnetActive && this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        if (this.destinationHtmlElement !== null) {\n          this.destinationHtmlElement.style.display = this.oldDisplayStyle;\n        }\n\n        if (this.edgeDragging.shadowDragStarted) {\n          this.applyFunction(() => {\n            this.edgeDragging.shadowDragStarted = false;\n          });\n        }\n\n        this.edgeDragging.dragPoint2 = {\n          x: event.clientX + this.dragOffset.x,\n          y: event.clientY + this.dragOffset.y\n        };\n\n        this.edgeDragging.pathElement.attr('d',\n          this.edgeDrawingService.getEdgeDAttribute(this.edgeDragging.dragPoint1, this.edgeDragging.dragPoint2, this.edgeStyle));\n        this.edgeDragging.circleElement.attr('cx', this.edgeDragging.dragPoint2.x);\n        this.edgeDragging.circleElement.attr('cy', this.edgeDragging.dragPoint2.y);\n\n      } else if (this.dragAnimation === FlowchartConstants.dragAnimationRepaint) {\n        return this.applyFunction(() => {\n          if (this.destinationHtmlElement !== null) {\n            this.destinationHtmlElement.style.display = this.oldDisplayStyle;\n          }\n\n          this.edgeDragging.dragPoint2 = {\n            x: event.clientX + this.dragOffset.x,\n            y: event.clientY + this.dragOffset.y\n          };\n        });\n      }\n    }\n  }\n\n  public dragoverConnector(event: DragEvent, connector: FcConnector): boolean {\n    if (this.edgeDragging.isDragging) {\n      this.dragover(event);\n      try {\n        this.modelValidation.validateEdges(this.model.edges.concat([{\n          source: this.draggedEdgeSource.id,\n          destination: connector.id\n        }]), this.model.nodes);\n      } catch (error) {\n        if (error instanceof ModelvalidationError) {\n          return true;\n        } else {\n          throw error;\n        }\n      }\n      if (this.isValidEdgeCallback(this.draggedEdgeSource, connector)) {\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n      }\n    }\n  }\n\n  public dragleaveMagnet(event: DragEvent) {\n    this.edgeDragging.magnetActive = false;\n  }\n\n  public dragoverMagnet(event: DragEvent, connector: FcConnector): boolean {\n    if (this.edgeDragging.isDragging) {\n      this.dragover(event);\n      try {\n        this.modelValidation.validateEdges(this.model.edges.concat([{\n          source: this.draggedEdgeSource.id,\n          destination: connector.id\n        }]), this.model.nodes);\n      } catch (error) {\n        if (error instanceof ModelvalidationError) {\n          return true;\n        } else {\n          throw error;\n        }\n      }\n      if (this.isValidEdgeCallback(this.draggedEdgeSource, connector)) {\n        if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n\n          this.edgeDragging.magnetActive = true;\n\n          this.edgeDragging.dragPoint2 = this.modelService.connectors.getCenteredCoord(connector.id);\n          this.edgeDragging.pathElement.attr('d',\n            this.edgeDrawingService.getEdgeDAttribute(this.edgeDragging.dragPoint1, this.edgeDragging.dragPoint2, this.edgeStyle));\n          this.edgeDragging.circleElement.attr('cx', this.edgeDragging.dragPoint2.x);\n          this.edgeDragging.circleElement.attr('cy', this.edgeDragging.dragPoint2.y);\n\n          event.preventDefault();\n          event.stopPropagation();\n          return false;\n        } else if (this.dragAnimation === FlowchartConstants.dragAnimationRepaint) {\n          return this.applyFunction(() => {\n            this.edgeDragging.dragPoint2 = this.modelService.connectors.getCenteredCoord(connector.id);\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n          });\n        }\n      }\n    }\n  }\n\n  public dragend(event: DragEvent) {\n    if (this.edgeDragging.isDragging) {\n      this.edgeDragging.isDragging = false;\n      this.edgeDragging.dragPoint1 = null;\n      this.edgeDragging.dragPoint2 = null;\n      this.edgeDragging.dragLabel = null;\n      event.stopPropagation();\n\n      if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        this.edgeDragging.gElement.css('display', 'none');\n      }\n      if (this.edgeDragging.prevEdge) {\n        const edge = this.edgeDragging.prevEdge;\n        this.edgeDragging.prevEdge = null;\n        this.applyFunction(() => {\n          this.modelService.edges.putEdge(edge);\n        });\n      }\n    }\n  }\n\n  public drop(event: DragEvent, targetConnector: FcConnector): boolean {\n    if (this.edgeDragging.isDragging) {\n      try {\n        this.modelValidation.validateEdges(this.model.edges.concat([{\n          source: this.draggedEdgeSource.id,\n          destination: targetConnector.id\n        }]), this.model.nodes);\n      } catch (error) {\n        if (error instanceof ModelvalidationError) {\n          return true;\n        } else {\n          throw error;\n        }\n      }\n\n      if (this.isValidEdgeCallback(this.draggedEdgeSource, targetConnector)) {\n        this.edgeDragging.prevEdge = null;\n        this.modelService.edges._addEdge(event, this.draggedEdgeSource, targetConnector, this.edgeDragging.dragLabel);\n        event.stopPropagation();\n        event.preventDefault();\n        return false;\n      }\n    }\n  }\n}\n\nexport interface EdgeDragging {\n  isDragging: boolean;\n  shadowDragStarted: boolean;\n  dragPoint1: FcCoords;\n  dragPoint2: FcCoords;\n  dragLabel?: string;\n  prevEdge?: FcEdge;\n  magnetActive?: boolean;\n  gElement?: JQuery<Element>;\n  pathElement?: JQuery<Element>;\n  circleElement?: JQuery<Element>;\n}\n","import { FcConnector, FcEdge, FcNode } from './ngx-flowchart.models';\n\nexport class FcMouseOverService {\n\n  mouseoverscope: MouseOverScope = {\n    connector: null,\n    edge: null,\n    node: null\n  };\n\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n\n  constructor(applyFunction: <T>(fn: (...args: any[]) => T) => T) {\n    this.applyFunction = applyFunction;\n  }\n\n  public nodeMouseOver(event: MouseEvent, node: FcNode) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.node = node;\n    });\n  }\n\n  public nodeMouseOut(event: MouseEvent, node: FcNode) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.node = null;\n    });\n  }\n\n  public connectorMouseEnter(event: MouseEvent, connector: FcConnector) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.connector = connector;\n    });\n  }\n\n  public connectorMouseLeave(event: MouseEvent, connector: FcConnector) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.connector = null;\n    });\n  }\n\n  public edgeMouseEnter(event: MouseEvent, edge: FcEdge) {\n    this.mouseoverscope.edge = edge;\n  }\n\n  public edgeMouseLeave(event: MouseEvent, edge: FcEdge) {\n    this.mouseoverscope.edge = null;\n  }\n}\n\nexport interface MouseOverScope {\n  connector: FcConnector;\n  edge: FcEdge;\n  node: FcNode;\n}\n","const regex = /(auto|scroll)/;\n\nconst style = (node: Element, prop: string): string =>\n  getComputedStyle(node, null).getPropertyValue(prop);\n\nconst scroll = (node: Element) =>\n  regex.test(\n    style(node, 'overflow') +\n    style(node, 'overflow-y') +\n    style(node, 'overflow-x'));\n\nconst scrollparent = (node: HTMLElement): HTMLElement =>\n  !node || node === document.body\n    ? document.body\n    : scroll(node)\n    ? node\n    : scrollparent(node.parentNode as HTMLElement);\n\nexport default scrollparent;\n","import { FcModelService } from './model.service';\nimport { FcRectBox } from './ngx-flowchart.models';\nimport scrollparent from './scrollparent';\n\ninterface Rectangle {\n  x1: number;\n  x2: number;\n  y1: number;\n  y2: number;\n}\n\nexport class FcRectangleSelectService {\n\n  private readonly selectRect: Rectangle = {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0\n  };\n\n  private readonly modelService: FcModelService;\n  private readonly selectElement: HTMLElement;\n  private readonly $canvasElement: JQuery<HTMLElement>;\n  private readonly $scrollParent: JQuery<HTMLElement>;\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n\n  constructor(modelService: FcModelService,\n              selectElement: HTMLElement,\n              applyFunction: <T>(fn: (...args: any[]) => T) => T) {\n    this.modelService = modelService;\n    this.selectElement = selectElement;\n    this.$canvasElement = $(this.modelService.canvasHtmlElement);\n    this.$scrollParent = $(scrollparent(this.modelService.canvasHtmlElement));\n    this.applyFunction = applyFunction;\n  }\n\n  public mousedown(e: MouseEvent) {\n    if (this.modelService.isEditable() && !e.ctrlKey && !e.metaKey && e.button === 0\n      && this.selectElement.hidden) {\n      this.selectElement.hidden = false;\n      const offset = this.$canvasElement.offset();\n      this.selectRect.x1 = Math.round(e.pageX - offset.left);\n      this.selectRect.y1 = Math.round(e.pageY - offset.top);\n      this.selectRect.x2 = this.selectRect.x1;\n      this.selectRect.y2 = this.selectRect.y1;\n      this.updateSelectRect();\n    }\n  }\n\n  public mousemove(e: MouseEvent) {\n    if (this.modelService.isEditable() && !e.ctrlKey && !e.metaKey && e.button === 0\n      && !this.selectElement.hidden) {\n      const offset = this.$canvasElement.offset();\n      this.selectRect.x2 = Math.round(e.pageX - offset.left);\n      this.selectRect.y2 = Math.round(e.pageY - offset.top);\n      this.updateScroll(offset);\n      this.updateSelectRect();\n    }\n  }\n\n  private updateScroll(offset: JQuery.Coordinates) {\n    const rect = this.$scrollParent[0].getBoundingClientRect();\n    const bottom = rect.bottom - offset.top;\n    const right = rect.right - offset.left;\n    const top = rect.top - offset.top;\n    const left = rect.left - offset.left;\n    if (this.selectRect.y2 - top < 25) {\n      const topScroll = 25 - (this.selectRect.y2 - top);\n      const scroll = this.$scrollParent.scrollTop();\n      this.$scrollParent.scrollTop(scroll - topScroll);\n    } else if (bottom - this.selectRect.y2 < 40) {\n      const bottomScroll = 40 - (bottom - this.selectRect.y2);\n      const scroll = this.$scrollParent.scrollTop();\n      this.$scrollParent.scrollTop(scroll + bottomScroll);\n    }\n    if (this.selectRect.x2 - left < 25) {\n      const leftScroll = 25 - (this.selectRect.x2 - left);\n      const scroll = this.$scrollParent.scrollLeft();\n      this.$scrollParent.scrollLeft(scroll - leftScroll);\n    } else if (right - this.selectRect.x2 < 40) {\n      const rightScroll = 40 - (right - this.selectRect.x2);\n      const scroll = this.$scrollParent.scrollLeft();\n      this.$scrollParent.scrollLeft(scroll + rightScroll);\n    }\n  }\n\n  public mouseup(e: MouseEvent) {\n    if (this.modelService.isEditable() && !e.ctrlKey && !e.metaKey && e.button === 0\n      && !this.selectElement.hidden) {\n      const rectBox = this.selectElement.getBoundingClientRect() as FcRectBox;\n      this.selectElement.hidden = true;\n      this.selectObjects(rectBox);\n    }\n  }\n\n  private updateSelectRect() {\n    const x3 = Math.min(this.selectRect.x1, this.selectRect.x2);\n    const x4 = Math.max(this.selectRect.x1, this.selectRect.x2);\n    const y3 = Math.min(this.selectRect.y1, this.selectRect.y2);\n    const y4 = Math.max(this.selectRect.y1, this.selectRect.y2);\n    this.selectElement.style.left = x3 + 'px';\n    this.selectElement.style.top = y3 + 'px';\n    this.selectElement.style.width = x4 - x3 + 'px';\n    this.selectElement.style.height = y4 - y3 + 'px';\n  }\n\n  private selectObjects(rectBox: FcRectBox) {\n    this.applyFunction(() => {\n      this.modelService.selectAllInRect(rectBox);\n    });\n  }\n\n}\n\n","import {\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  DoCheck,\n  ElementRef, EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  IterableDiffer,\n  IterableDiffers,\n  NgZone,\n  OnInit, Output\n} from '@angular/core';\nimport { FcCallbacks, FcEdge, FcModel, FcNode, FlowchartConstants, UserCallbacks, UserNodeCallbacks } from './ngx-flowchart.models';\nimport { FcModelService } from './model.service';\nimport { FcModelValidationService } from './modelvalidation.service';\nimport { FcNodeDraggingService } from './node-dragging.service';\nimport { FcEdgeDrawingService } from './edge-drawing.service';\nimport { FcEdgeDraggingService } from './edge-dragging.service';\nimport { FcMouseOverService } from './mouseover.service';\nimport { FcRectangleSelectService } from './rectangleselect.service';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'fc-canvas',\n  templateUrl: './ngx-flowchart.component.html',\n  styleUrls: ['./ngx-flowchart.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NgxFlowchartComponent implements OnInit, DoCheck {\n\n  @HostBinding('attr.class')\n  get canvasClass(): string {\n    return FlowchartConstants.canvasClass;\n  }\n\n  @Input()\n  model: FcModel;\n\n  @Input()\n  selectedObjects: any[];\n\n  @Input()\n  edgeStyle: string;\n\n  @Input()\n  userCallbacks: UserCallbacks;\n\n  @Input()\n  automaticResize: boolean;\n\n  @Input()\n  dragAnimation: string;\n\n  @Input()\n  nodeWidth: number;\n\n  @Input()\n  nodeHeight: number;\n\n  @Input()\n  dropTargetId: string;\n\n  @Output()\n  modelChanged = new EventEmitter();\n\n  private fitModelSizeByDefaultValue = true;\n  get fitModelSizeByDefault(): boolean {\n    return this.fitModelSizeByDefaultValue;\n  }\n  @Input()\n  set fitModelSizeByDefault(value: boolean) {\n    this.fitModelSizeByDefaultValue = coerceBooleanProperty(value);\n  }\n\n  callbacks: FcCallbacks;\n\n  userNodeCallbacks: UserNodeCallbacks;\n\n  modelService: FcModelService;\n  nodeDraggingService: FcNodeDraggingService;\n  edgeDraggingService: FcEdgeDraggingService;\n  mouseoverService: FcMouseOverService;\n  rectangleSelectService: FcRectangleSelectService;\n\n  arrowDefId: string;\n  arrowDefIdSelected: string;\n\n  flowchartConstants = FlowchartConstants;\n\n  private nodesDiffer: IterableDiffer<FcNode> = this.differs.find([]).create<FcNode>((index, item) => {\n    return item;\n  });\n\n  private edgesDiffer: IterableDiffer<FcEdge> = this.differs.find([]).create<FcEdge>((index, item) => {\n    return item;\n  });\n\n  private readonly detectChangesSubject = new Subject<any>();\n\n  constructor(private elementRef: ElementRef<HTMLElement>,\n              private differs: IterableDiffers,\n              private modelValidation: FcModelValidationService,\n              public edgeDrawingService: FcEdgeDrawingService,\n              private cd: ChangeDetectorRef,\n              private zone: NgZone) {\n    this.arrowDefId = 'arrow-' + Math.random();\n    this.arrowDefIdSelected = this.arrowDefId + '-selected';\n    this.detectChangesSubject\n      .pipe(debounceTime(50))\n      .subscribe(() => this.cd.detectChanges());\n  }\n\n  ngOnInit() {\n    if (!this.dropTargetId && this.edgeStyle !== FlowchartConstants.curvedStyle && this.edgeStyle !== FlowchartConstants.lineStyle) {\n      throw new Error('edgeStyle not supported.');\n    }\n    this.nodeHeight = this.nodeHeight || 200;\n    this.nodeWidth = this.nodeWidth || 200;\n    this.dragAnimation = this.dragAnimation || FlowchartConstants.dragAnimationRepaint;\n    this.userCallbacks = this.userCallbacks || {};\n    this.automaticResize = this.automaticResize || false;\n\n    for (const key of Object.keys(this.userCallbacks)) {\n      const callback = this.userCallbacks[key];\n      if (typeof callback !== 'function' && key !== 'nodeCallbacks') {\n        throw new Error('All callbacks should be functions.');\n      }\n    }\n\n    this.userNodeCallbacks = this.userCallbacks.nodeCallbacks;\n\n    const element = $(this.elementRef.nativeElement);\n\n    this.modelService = new FcModelService(this.modelValidation, this.model, this.modelChanged,\n      this.detectChangesSubject, this.selectedObjects,\n      this.userCallbacks.dropNode, this.userCallbacks.createEdge, this.userCallbacks.edgeAdded, this.userCallbacks.nodeRemoved,\n      this.userCallbacks.edgeRemoved, element[0], element[0].querySelector('svg'));\n\n    if (this.dropTargetId) {\n      this.modelService.dropTargetId = this.dropTargetId;\n    }\n\n    const applyFunction = this.zone.run.bind(this.zone);\n\n    this.nodeDraggingService = new FcNodeDraggingService(this.modelService, applyFunction,\n          this.automaticResize, this.dragAnimation);\n\n    this.edgeDraggingService = new FcEdgeDraggingService(this.modelValidation, this.edgeDrawingService, this.modelService,\n      this.model, this.userCallbacks.isValidEdge || null, applyFunction,\n      this.dragAnimation, this.edgeStyle);\n\n    this.mouseoverService = new FcMouseOverService(applyFunction);\n\n    this.rectangleSelectService = new FcRectangleSelectService(this.modelService,\n      element[0].querySelector('#select-rectangle'), applyFunction);\n\n    this.callbacks = {\n      nodeDragstart: this.nodeDraggingService.dragstart.bind(this.nodeDraggingService),\n      nodeDragend: this.nodeDraggingService.dragend.bind(this.nodeDraggingService),\n      edgeDragstart: this.edgeDraggingService.dragstart.bind(this.edgeDraggingService),\n      edgeDragend: this.edgeDraggingService.dragend.bind(this.edgeDraggingService),\n      edgeDrop: this.edgeDraggingService.drop.bind(this.edgeDraggingService),\n      edgeDragoverConnector: this.edgeDraggingService.dragoverConnector.bind(this.edgeDraggingService),\n      edgeDragoverMagnet: this.edgeDraggingService.dragoverMagnet.bind(this.edgeDraggingService),\n      edgeDragleaveMagnet: this.edgeDraggingService.dragleaveMagnet.bind(this.edgeDraggingService),\n      nodeMouseOver: this.mouseoverService.nodeMouseOver.bind(this.mouseoverService),\n      nodeMouseOut: this.mouseoverService.nodeMouseOut.bind(this.mouseoverService),\n      connectorMouseEnter: this.mouseoverService.connectorMouseEnter.bind(this.mouseoverService),\n      connectorMouseLeave: this.mouseoverService.connectorMouseLeave.bind(this.mouseoverService),\n      nodeClicked: (event, node) => {\n        this.modelService.nodes.handleClicked(node, event.ctrlKey);\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    };\n    this.adjustCanvasSize(this.fitModelSizeByDefault);\n  }\n\n  ngDoCheck(): void {\n    if (this.model) {\n      const nodesChange = this.nodesDiffer.diff(this.model.nodes);\n      const edgesChange = this.edgesDiffer.diff(this.model.edges);\n      let nodesChanged = false;\n      let edgesChanged = false;\n      if (nodesChange !== null) {\n        nodesChange.forEachAddedItem(() => {\n          nodesChanged = true;\n        });\n        nodesChange.forEachRemovedItem(() => {\n          nodesChanged = true;\n        });\n      }\n      if (edgesChange !== null) {\n        edgesChange.forEachAddedItem(() => {\n          edgesChanged = true;\n        });\n        edgesChange.forEachRemovedItem(() => {\n          edgesChanged = true;\n        });\n      }\n      if (nodesChanged) {\n        this.adjustCanvasSize(this.fitModelSizeByDefault);\n      }\n      if (nodesChanged || edgesChanged) {\n        this.detectChangesSubject.next();\n      }\n    }\n  }\n\n  getEdgeDAttribute(edge: FcEdge): string {\n    return this.edgeDrawingService.getEdgeDAttribute(this.modelService.edges.sourceCoord(edge),\n      this.modelService.edges.destCoord(edge), this.edgeStyle);\n  }\n\n  public adjustCanvasSize(fit?: boolean) {\n    let maxX = 0;\n    let maxY = 0;\n    const element = $(this.elementRef.nativeElement);\n    this.model.nodes.forEach((node) => {\n      maxX = Math.max(node.x + this.nodeWidth, maxX);\n      maxY = Math.max(node.y + this.nodeHeight, maxY);\n    });\n    let width;\n    let height;\n    if (fit) {\n      width = maxX;\n      height = maxY;\n    } else {\n      width = Math.max(maxX, element.prop('offsetWidth'));\n      height = Math.max(maxY, element.prop('offsetHeight'));\n    }\n    element.css('width', width + 'px');\n    element.css('height', height + 'px');\n  }\n\n  canvasClick(event: MouseEvent) {}\n\n  edgeMouseDown(event: MouseEvent, edge: FcEdge) {\n    event.stopPropagation();\n  }\n\n  edgeClick(event: MouseEvent, edge: FcEdge) {\n    this.modelService.edges.handleEdgeMouseClick(edge, event.ctrlKey);\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  edgeRemove(event: Event, edge: FcEdge) {\n    this.modelService.edges.delete(edge);\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  edgeEdit(event: Event, edge: FcEdge) {\n    if (this.userCallbacks.edgeEdit) {\n      this.userCallbacks.edgeEdit(event, edge);\n    }\n  }\n\n  edgeDoubleClick(event: MouseEvent, edge: FcEdge) {\n    if (this.userCallbacks.edgeDoubleClick) {\n      this.userCallbacks.edgeDoubleClick(event, edge);\n    }\n  }\n\n  edgeMouseOver(event: MouseEvent, edge: FcEdge) {\n    if (this.userCallbacks.edgeMouseOver) {\n      this.userCallbacks.edgeMouseOver(event, edge);\n    }\n  }\n\n  edgeMouseEnter(event: MouseEvent, edge: FcEdge) {\n    this.mouseoverService.edgeMouseEnter(event, edge);\n  }\n\n  edgeMouseLeave(event: MouseEvent, edge: FcEdge) {\n    this.mouseoverService.edgeMouseLeave(event, edge);\n  }\n\n  @HostListener('dragover', ['$event'])\n  dragover(event: DragEvent) {\n    this.nodeDraggingService.dragover(event);\n    this.edgeDraggingService.dragover(event);\n  }\n\n  @HostListener('drop', ['$event'])\n  drop(event: DragEvent) {\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    }\n    this.nodeDraggingService.drop(event);\n  }\n\n  @HostListener('mousedown', ['$event'])\n  mousedown(event: MouseEvent) {\n    this.rectangleSelectService.mousedown(event);\n  }\n\n  @HostListener('mousemove', ['$event'])\n  mousemove(event: MouseEvent) {\n    this.rectangleSelectService.mousemove(event);\n  }\n\n  @HostListener('mouseup', ['$event'])\n  mouseup(event: MouseEvent) {\n    this.rectangleSelectService.mouseup(event);\n  }\n\n}\n","import { Directive, ElementRef, HostListener, Input, OnInit } from '@angular/core';\nimport { FcCallbacks, FcConnector, FlowchartConstants } from './ngx-flowchart.models';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[fc-magnet]'\n})\nexport class FcMagnetDirective implements OnInit {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  connector: FcConnector;\n\n  constructor(public elementRef: ElementRef<HTMLElement>) {\n  }\n\n  ngOnInit(): void {\n    const element = $(this.elementRef.nativeElement);\n    element.addClass(FlowchartConstants.magnetClass);\n  }\n\n  @HostListener('dragover', ['$event'])\n  dragover(event: DragEvent) {\n    return this.callbacks.edgeDragoverMagnet(event, this.connector);\n  }\n\n  @HostListener('dragleave', ['$event'])\n  dragleave(event: DragEvent) {\n    this.callbacks.edgeDragleaveMagnet(event);\n  }\n\n  @HostListener('drop', ['$event'])\n  drop(event: DragEvent) {\n    return this.callbacks.edgeDrop(event, this.connector);\n  }\n\n  @HostListener('dragend', ['$event'])\n  dragend(event: DragEvent) {\n    this.callbacks.edgeDragend(event);\n  }\n\n}\n","import { Directive, ElementRef, HostListener, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { FcCallbacks, FcConnector, FlowchartConstants } from './ngx-flowchart.models';\nimport { FcModelService } from './model.service';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[fc-connector]'\n})\nexport class FcConnectorDirective implements OnInit, OnChanges {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  modelservice: FcModelService;\n\n  @Input()\n  connector: FcConnector;\n\n  @Input()\n  mouseOverConnector: FcConnector;\n\n  constructor(public elementRef: ElementRef<HTMLElement>) {\n  }\n\n  ngOnInit(): void {\n    const element = $(this.elementRef.nativeElement);\n    element.addClass(FlowchartConstants.connectorClass);\n    if (this.modelservice.isEditable()) {\n      element.attr('draggable', 'true');\n      this.updateConnectorClass();\n    }\n    this.modelservice.connectors.setHtmlElement(this.connector.id, element[0]);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    let updateConnector = false;\n    for (const propName of Object.keys(changes)) {\n      const change = changes[propName];\n      if (!change.firstChange && change.currentValue !== change.previousValue) {\n        if (propName === 'mouseOverConnector') {\n          updateConnector = true;\n        }\n      }\n    }\n    if (updateConnector && this.modelservice.isEditable()) {\n      this.updateConnectorClass();\n    }\n  }\n\n  private updateConnectorClass() {\n    const element = $(this.elementRef.nativeElement);\n    if (this.connector === this.mouseOverConnector) {\n      element.addClass(FlowchartConstants.hoverClass);\n    } else {\n      element.removeClass(FlowchartConstants.hoverClass);\n    }\n  }\n\n  @HostListener('dragover', ['$event'])\n  dragover(event: DragEvent) {\n    // Skip - conflict with magnet\n    /* if (this.modelservice.isEditable()) {\n      return this.callbacks.edgeDragoverConnector(event, this.connector);\n    }*/\n  }\n\n  @HostListener('drop', ['$event'])\n  drop(event: DragEvent) {\n    if (this.modelservice.isEditable()) {\n      return this.callbacks.edgeDrop(event, this.connector);\n    }\n  }\n\n  @HostListener('dragend', ['$event'])\n  dragend(event: DragEvent) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.edgeDragend(event);\n    }\n  }\n\n  @HostListener('dragstart', ['$event'])\n  dragstart(event: DragEvent) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.edgeDragstart(event, this.connector);\n    }\n  }\n\n  @HostListener('mouseenter', ['$event'])\n  mouseenter(event: MouseEvent) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.connectorMouseEnter(event, this.connector);\n    }\n  }\n\n  @HostListener('mouseleave', ['$event'])\n  mouseleave(event: MouseEvent) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.connectorMouseLeave(event, this.connector);\n    }\n  }\n\n}\n","import {\n  Component,\n  ComponentFactoryResolver, Directive,\n  ElementRef, HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport {\n  FC_NODE_COMPONENT_CONFIG,\n  FcCallbacks,\n  FcConnector,\n  FcNode,\n  FcNodeComponentConfig,\n  FlowchartConstants,\n  UserNodeCallbacks\n} from './ngx-flowchart.models';\nimport { FcModelService } from './model.service';\n\n@Component({\n  selector: 'fc-node',\n  template: '<ng-template #nodeContent></ng-template>',\n  styleUrls: ['./node.component.scss']\n})\nexport class FcNodeContainerComponent implements OnInit, OnChanges {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  userNodeCallbacks: UserNodeCallbacks;\n\n  @Input()\n  node: FcNode;\n\n  @Input()\n  selected: boolean;\n\n  @Input()\n  edit: boolean;\n\n  @Input()\n  underMouse: boolean;\n\n  @Input()\n  mouseOverConnector: FcConnector;\n\n  @Input()\n  modelservice: FcModelService;\n\n  @Input()\n  dragging: boolean;\n\n  @HostBinding('attr.id')\n  get nodeId(): string {\n    return this.node.id;\n  }\n\n  @HostBinding('style.top')\n  get top(): string {\n    return this.node.y + 'px';\n  }\n\n  @HostBinding('style.left')\n  get left(): string {\n    return this.node.x + 'px';\n  }\n\n  nodeComponent: FcNodeComponent;\n\n  @ViewChild('nodeContent', {read: ViewContainerRef, static: true}) nodeContentContainer: ViewContainerRef;\n\n  constructor(@Inject(FC_NODE_COMPONENT_CONFIG) private nodeComponentConfig: FcNodeComponentConfig,\n              private elementRef: ElementRef<HTMLElement>,\n              private componentFactoryResolver: ComponentFactoryResolver) {\n  }\n\n  ngOnInit(): void {\n    if (!this.userNodeCallbacks) {\n      this.userNodeCallbacks = {};\n    }\n    this.userNodeCallbacks.nodeEdit = this.userNodeCallbacks.nodeEdit || (() => {});\n    this.userNodeCallbacks.doubleClick = this.userNodeCallbacks.doubleClick || (() => {});\n    this.userNodeCallbacks.mouseDown = this.userNodeCallbacks.mouseDown || (() => {});\n    this.userNodeCallbacks.mouseEnter = this.userNodeCallbacks.mouseEnter || (() => {});\n    this.userNodeCallbacks.mouseLeave = this.userNodeCallbacks.mouseLeave || (() => {});\n\n    const element = $(this.elementRef.nativeElement);\n    element.addClass(FlowchartConstants.nodeClass);\n    if (!this.node.readonly) {\n      element.attr('draggable', 'true');\n    }\n    this.updateNodeClass();\n    this.modelservice.nodes.setHtmlElement(this.node.id, element[0]);\n    this.nodeContentContainer.clear();\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.nodeComponentConfig.nodeComponentType);\n    const componentRef = this.nodeContentContainer.createComponent(componentFactory);\n    this.nodeComponent = componentRef.instance;\n    this.nodeComponent.callbacks = this.callbacks;\n    this.nodeComponent.userNodeCallbacks = this.userNodeCallbacks;\n    this.nodeComponent.node = this.node;\n    this.nodeComponent.modelservice = this.modelservice;\n    this.updateNodeComponent();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    let updateNode = false;\n    for (const propName of Object.keys(changes)) {\n      const change = changes[propName];\n      if (!change.firstChange && change.currentValue !== change.previousValue) {\n        if (['selected', 'edit', 'underMouse', 'mouseOverConnector', 'dragging'].includes(propName)) {\n          updateNode = true;\n        }\n      }\n    }\n    if (updateNode) {\n      this.updateNodeClass();\n      this.updateNodeComponent();\n    }\n  }\n\n  private updateNodeClass() {\n    const element = $(this.elementRef.nativeElement);\n    this.toggleClass(element, FlowchartConstants.selectedClass, this.selected);\n    this.toggleClass(element, FlowchartConstants.editClass, this.edit);\n    this.toggleClass(element, FlowchartConstants.hoverClass, this.underMouse);\n    this.toggleClass(element, FlowchartConstants.draggingClass, this.dragging);\n  }\n\n  private updateNodeComponent() {\n    this.nodeComponent.selected = this.selected;\n    this.nodeComponent.edit = this.edit;\n    this.nodeComponent.underMouse = this.underMouse;\n    this.nodeComponent.mouseOverConnector = this.mouseOverConnector;\n    this.nodeComponent.dragging = this.dragging;\n  }\n\n  private toggleClass(element: JQuery<HTMLElement>, clazz: string, set: boolean) {\n    if (set) {\n      element.addClass(clazz);\n    } else {\n      element.removeClass(clazz);\n    }\n  }\n\n  @HostListener('mousedown', ['$event'])\n  mousedown(event: MouseEvent) {\n    event.stopPropagation();\n  }\n\n  @HostListener('dragstart', ['$event'])\n  dragstart(event: DragEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeDragstart(event, this.node);\n    }\n  }\n\n  @HostListener('dragend', ['$event'])\n  dragend(event: DragEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeDragend(event);\n    }\n  }\n\n  @HostListener('click', ['$event'])\n  click(event: MouseEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeClicked(event, this.node);\n    }\n  }\n\n  @HostListener('mouseover', ['$event'])\n  mouseover(event: MouseEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeMouseOver(event, this.node);\n    }\n  }\n\n  @HostListener('mouseout', ['$event'])\n  mouseout(event: MouseEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeMouseOut(event, this.node);\n    }\n  }\n\n}\n\nexport abstract class FcNodeComponent implements OnInit {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  userNodeCallbacks: UserNodeCallbacks;\n\n  @Input()\n  node: FcNode;\n\n  @Input()\n  selected: boolean;\n\n  @Input()\n  edit: boolean;\n\n  @Input()\n  underMouse: boolean;\n\n  @Input()\n  mouseOverConnector: FcConnector;\n\n  @Input()\n  modelservice: FcModelService;\n\n  @Input()\n  dragging: boolean;\n\n  flowchartConstants = FlowchartConstants;\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component } from '@angular/core';\nimport { FcNodeComponent } from './node.component';\n\n@Component({\n  selector: 'fc-default-node',\n  templateUrl: './default-node.component.html',\n  styleUrls: ['./default-node.component.scss']\n})\nexport class DefaultFcNodeComponent extends FcNodeComponent {\n\n  constructor() {\n    super();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgxFlowchartComponent } from './ngx-flowchart.component';\nimport { FcModelValidationService } from './modelvalidation.service';\nimport { FcEdgeDrawingService } from './edge-drawing.service';\nimport { CommonModule } from '@angular/common';\nimport { FcMagnetDirective } from './magnet.directive';\nimport { FcConnectorDirective } from './connector.directive';\nimport { FcNodeContainerComponent } from './node.component';\nimport { FC_NODE_COMPONENT_CONFIG } from './ngx-flowchart.models';\nimport { DefaultFcNodeComponent } from './default-node.component';\n\n@NgModule({\n  entryComponents: [\n    DefaultFcNodeComponent\n  ],\n  declarations: [NgxFlowchartComponent,\n    FcMagnetDirective,\n    FcConnectorDirective,\n    FcNodeContainerComponent,\n    DefaultFcNodeComponent],\n  providers: [\n    FcModelValidationService,\n    FcEdgeDrawingService,\n    {\n      provide: FC_NODE_COMPONENT_CONFIG,\n      useValue: {\n        nodeComponentType: DefaultFcNodeComponent\n      }\n    }\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [NgxFlowchartComponent,\n    FcMagnetDirective,\n    FcConnectorDirective,\n    DefaultFcNodeComponent]\n})\nexport class NgxFlowchartModule { }\n"],"names":["InjectionToken","tslib_1.__extends","tslib_1.__values","Subject","of","debounceTime","Injectable","EventEmitter","coerceBooleanProperty","Component","ChangeDetectionStrategy","ElementRef","IterableDiffers","ChangeDetectorRef","NgZone","HostBinding","Input","Output","HostListener","Directive","Inject","ComponentFactoryResolver","ViewChild","ViewContainerRef","NgModule","CommonModule"],"mappings":";;;;;;IAAA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA,IAAI,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IACnC,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;IACzC,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IACpF,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnF,IAAI,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;;AAEF,IAAO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAChC,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;;AAED,IAAO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,EAAC;;AAED,IAAO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;IACf,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IACvF,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;IACvE,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAChF,YAAY,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,SAAS;IACT,IAAI,OAAO,CAAC,CAAC;IACb,CAAC;;AAED,IAAO,SAAS,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE;IAC1D,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;IACjI,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IACnI,SAAS,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACtJ,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;;AAED,IAAO,SAAS,OAAO,CAAC,UAAU,EAAE,SAAS,EAAE;IAC/C,IAAI,OAAO,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE;IACzE,CAAC;;AAED,IAAO,SAAS,UAAU,CAAC,WAAW,EAAE,aAAa,EAAE;IACvD,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU,EAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;;AAED,IAAO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IAC7D,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;IAC/D,QAAQ,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACnG,QAAQ,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACtG,QAAQ,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;IACvJ,QAAQ,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9E,KAAK,CAAC,CAAC;IACP,CAAC;;AAED,IAAO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IAC3C,IAAI,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACrH,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7J,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACtE,IAAI,SAAS,IAAI,CAAC,EAAE,EAAE;IACtB,QAAQ,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;IACtE,QAAQ,OAAO,CAAC,EAAE,IAAI;IACtB,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACzK,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACpD,YAAY,QAAQ,EAAE,CAAC,CAAC,CAAC;IACzB,gBAAgB,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;IAC9C,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACxE,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;IACjE,gBAAgB,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IACjE,gBAAgB;IAChB,oBAAoB,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;IAChI,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;IAC1G,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;IACzF,oBAAoB,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;IACvF,oBAAoB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC1C,oBAAoB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IAC3C,aAAa;IACb,YAAY,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACvC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;IAClE,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACzF,KAAK;IACL,CAAC;;AAED,IAAO,SAAS,YAAY,CAAC,CAAC,EAAE,OAAO,EAAE;IACzC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;;AAED,IAAO,SAAS,QAAQ,CAAC,CAAC,EAAE;IAC5B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACtE,IAAI,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,OAAO;IACX,QAAQ,IAAI,EAAE,YAAY;IAC1B,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;IAC/C,YAAY,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;IACpD,SAAS;IACT,KAAK,CAAC;IACN,CAAC;;AAED,IAAO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACrB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI;IACR,QAAQ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACnF,KAAK;IACL,IAAI,OAAO,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IAC3C,YAAY;IACZ,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7D,SAAS;IACT,gBAAgB,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;IACzC,KAAK;IACL,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;;AAED,IAAO,SAAS,QAAQ,GAAG;IAC3B,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;IACtD,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;;AAED,IAAO,SAAS,cAAc,GAAG;IACjC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;IACxF,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;IACpD,QAAQ,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;IACzE,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,OAAO,CAAC,CAAC;IACb,CAAC,CAAC;;AAEF,IAAO,SAAS,OAAO,CAAC,CAAC,EAAE;IAC3B,IAAI,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;;AAED,IAAO,SAAS,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE;IACjE,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;IAClE,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAC1H,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAC9I,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE;IACtF,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;IAC5H,IAAI,SAAS,OAAO,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;;AAED,IAAO,SAAS,gBAAgB,CAAC,CAAC,EAAE;IACpC,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC;IACb,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAChJ,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;;AAED,IAAO,SAAS,aAAa,CAAC,CAAC,EAAE;IACjC,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IACvC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACrN,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IACpK,IAAI,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;;AAED,IAAO,SAAS,oBAAoB,CAAC,MAAM,EAAE,GAAG,EAAE;IAClD,IAAI,IAAI,MAAM,CAAC,cAAc,EAAE,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE;IACnH,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC,CAAC;;AAEF,IAAO,SAAS,YAAY,CAAC,GAAG,EAAE;IAClC,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU,EAAE,OAAO,GAAG,CAAC;IAC1C,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;IACpB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,GAAG,EAAE,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACnG,IAAI,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;IACzB,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC;;AAED,IAAO,SAAS,eAAe,CAAC,GAAG,EAAE;IACrC,IAAI,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;;;;;;;AC/LD,QAAa,wBAAwB,GAAG,IAAIA,mBAAc,CAAwB,0BAA0B,CAAC;;;;IAE7G,oCAEC;;;QADC,kDAAyC;;;QAGrC,UAAU,GAAG,IAAI;;QACjB,iBAAiB,GAAG,eAAe;;QACnC,kBAAkB,GAAG,gBAAgB;;AAE3C,QAAa,kBAAkB,GAAG;QAChC,UAAU,YAAA;QACV,iBAAiB,mBAAA;QACjB,kBAAkB,oBAAA;QAClB,WAAW,EAAE,QAAQ;QACrB,SAAS,EAAE,MAAM;QACjB,oBAAoB,EAAE,SAAS;QAC/B,mBAAmB,EAAE,QAAQ;QAC7B,WAAW,EAAE,UAAU,GAAG,SAAS;QACnC,aAAa,EAAE,UAAU,GAAG,WAAW;QACvC,SAAS,EAAE,UAAU,GAAG,OAAO;QAC/B,WAAW,EAAE,UAAU,GAAG,SAAS;QACnC,UAAU,EAAE,UAAU,GAAG,QAAQ;QACjC,aAAa,EAAE,UAAU,GAAG,WAAW;QACvC,SAAS,EAAE,UAAU,GAAG,OAAO;QAC/B,cAAc,EAAE,UAAU,GAAG,aAAa;QAC1C,cAAc,EAAE,UAAU,GAAG,YAAY;QACzC,WAAW,EAAE,UAAU,GAAG,SAAS;QACnC,SAAS,EAAE,UAAU,GAAG,OAAO;QAC/B,gBAAgB,EAAE,UAAU,GAAG,eAAe;QAC9C,kBAAkB,EAAE,UAAU,GAAG,GAAG,GAAG,iBAAiB,GAAG,GAAG;QAC9D,mBAAmB,EAAE,UAAU,GAAG,GAAG,GAAG,kBAAkB,GAAG,GAAG;QAChE,qBAAqB,EAAE,GAAG;QAC1B,gBAAgB,EAAE,GAAG;KACtB;;;;IAGD,uBAGC;;;QAFC,qBAAW;;QACX,qBAAW;;;;;IAGb,wBAKC;;;QAJC,wBAAY;;QACZ,yBAAa;;QACb,0BAAc;;QACd,2BAAe;;;;;IAGjB,0BAGC;;;QAFC,yBAAW;;QACX,2BAAa;;;;;IAGf,qBAMC;;;QALC,oBAAW;;QACX,sBAAa;;QACb,4BAA+B;;QAC/B,0BAAmB;;;;;;IAIrB,qBAKC;;;QAJC,uBAAe;;QACf,wBAAgB;;QAChB,6BAAqB;;QACrB,wBAAiB;;;;;IAGnB,yBAGC;;;QAFC,0BAAc;;QACd,0BAAc;;;;;IAGhB,sBAGC;;;QAFC,wBAAqB;;QACrB,wBAAqB;;;;;IAGvB,4BAWC;;;QAVC,iCAAgD;;QAChD,mCAAgE;;QAChE,kCAAmC;;QACnC,oCAAqC;;QACrC,oCAAqC;;QACrC,wCAA4D;;QAC5D,sCAA0D;;QAC1D,oCAAyE;;QACzE,iCAAgD;;QAChD,sCAAkC;;;;;IAGpC,gCAMC;;;QALC,qCAAqD;;QACrD,wCAAwD;;QACxD,sCAAsD;;QACtD,uCAAuD;;QACvD,uCAAuD;;;;;IAGzD,0BAcC;;;QAbC,oCAAwD;;QACxD,kCAAwC;;QACxC,oCAAkE;;QAClE,kCAAwC;;QACxC,+BAAsE;;QACtE,4CAA6E;;QAC7E,yCAA0E;;QAC1E,0CAAgD;;QAChD,oCAAyD;;QACzD,mCAAwD;;QACxD,0CAAyE;;QACzE,0CAAyE;;QACzE,kCAAuD;;;;;IAGzD,6BAKC;IAED;QACE;YACE,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SAC9B;QACH,gBAAC;KAAA,IAAA;IAED,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,WAAW,EAAE,IAAI,KAAK,EAAE,CAAC,CAAC;AAE3D;QAA0CC,wCAAS;QACjD,8BAAmB,OAAe;YAAlC,YACE,iBAAO,SACR;YAFkB,aAAO,GAAP,OAAO,CAAQ;;SAEjC;QACH,2BAAC;KAJD,CAA0C,SAAS,GAIlD;;;QAHa,uCAAsB;;;;;;IAKpC,SAAgB,SAAS,CAAC,KAAc;;;YAChC,YAAY,GAAmB,EAAE;QACvC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;QAAC,UAAC,IAAI;YACvB,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAC,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAC,CAAC;SACrD,EAAC,CAAC;QACH,KAAK,CAAC,KAAK,CAAC,OAAO;;;;QAAC,UAAC,IAAI;;gBACjB,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAI;gBACzC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI;;;;gBAAC,UAAC,SAAS;oBACpC,OAAO,SAAS,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC;iBACrC,EAAC,CAAC;aACJ,EAAC,CAAC,CAAC,CAAC;;gBACC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAI;gBAC9C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI;;;;gBAAC,UAAC,SAAS;oBACpC,OAAO,SAAS,CAAC,EAAE,KAAK,IAAI,CAAC,WAAW,CAAC;iBAC1C,EAAC,CAAC;aACJ,EAAC,CAAC,CAAC,CAAC;YACL,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;YAC9D,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC7C,EAAC,CAAC;;YACG,YAAY,GAAa,EAAE;;YAC3B,WAAW,GAAa,EAAE;;YAChC,KAAmB,IAAA,KAAAC,SAAA,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA,gBAAA,4BAAE;gBAAzC,IAAM,IAAI,WAAA;;oBACP,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC;gBAChC,IAAI,KAAK,CAAC,QAAQ,KAAK,CAAC,EAAE;oBACxB,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACxB;aACF;;;;;;;;;QACD,OAAO,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;;gBACzB,UAAU,GAAG,WAAW,CAAC,GAAG,EAAE;YACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;oBAC3D,eAAe,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC5D,YAAY,CAAC,eAAe,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACzC,IAAI,YAAY,CAAC,eAAe,CAAC,CAAC,QAAQ,KAAK,CAAC,EAAE;oBAChD,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBACnC;gBACD,YAAY,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC/C,CAAC,EAAE,CAAC;aACL;YACD,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC/B;;YACG,QAAQ,GAAG,KAAK;;YACpB,KAAmB,IAAA,KAAAA,SAAA,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA,gBAAA,4BAAE;gBAAzC,IAAM,IAAI,WAAA;;oBACP,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC;gBAChC,IAAI,KAAK,CAAC,QAAQ,KAAK,CAAC,EAAE;oBACxB,QAAQ,GAAG,IAAI,CAAC;iBACjB;aACF;;;;;;;;;QACD,IAAI,QAAQ,EAAE;YACZ,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,YAAY,CAAC;SACrB;KACF;;;;;;IC3LD;QA4BE,wBAAY,eAAyC,EACzC,KAAc,EACd,YAA+B,EAC/B,oBAAkC,EAClC,eAAsB,EACtB,QAA8C,EAC9C,UAA8D,EAC9D,iBAAyC,EACzC,mBAA2C,EAC3C,mBAA2C,EAC3C,iBAA8B,EAC9B,cAA0B;YAXtC,iBAmCC;YAxDD,2BAAsB,GAAmB,EAAE,CAAC;YAC5C,sBAAiB,GAAmB,EAAE,CAAC;YACvC,sBAAiB,GAAgB,IAAI,CAAC;YACtC,cAAS,GAAqB,IAAI,CAAC;YACnC,mBAAc,GAAe,IAAI,CAAC;YAWjB,cAAS,GAAG,IAAIC,YAAO,EAAO,CAAC;YAmB9C,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;YACjD,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;YAC3C,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YAEvC,IAAI,CAAC,QAAQ,GAAG,QAAQ;;;YAAK,eAAQ,EAAC,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,UAAU;;;;;YAAK,UAAC,KAAK,EAAE,IAAI,IAAK,OAAAC,OAAE,cAAK,IAAI,IAAE,KAAK,EAAE,OAAO,IAAE,GAAA,EAAC,CAAC;YACjF,IAAI,CAAC,iBAAiB,GAAG,iBAAiB;;;YAAK,eAAQ,EAAC,CAAC;YACzD,IAAI,CAAC,mBAAmB,GAAG,mBAAmB;;;YAAK,eAAQ,EAAC,CAAC;YAC7D,IAAI,CAAC,mBAAmB,GAAG,mBAAmB;;;YAAK,eAAQ,EAAC,CAAC;YAE7D,IAAI,CAAC,UAAU,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;YAElC,IAAI,CAAC,SAAS;iBACX,IAAI,CAACC,sBAAY,CAAC,GAAG,CAAC,CAAC;iBACvB,SAAS;;;YAAC,cAAM,OAAA,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,GAAA,EAAC,CAAC;SAC9C;;;;QAEM,2CAAkB;;;QAAzB;YACE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACvB;;;;QAEM,sCAAa;;;QAApB;YAAA,iBAIC;YAHC,UAAU;;;YAAC;gBACT,KAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;aAClC,GAAE,CAAC,CAAC,CAAC;SACP;;;;;QAEM,qCAAY;;;;QAAnB,UAAoB,MAAW;YAC7B,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gBACrB,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;oBAC/C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACnC;aACF;SACF;;;;;QAEM,uCAAc;;;;QAArB,UAAsB,MAAW;YAC/B,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;;oBACf,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC;gBAClD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;oBAChB,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;iBAC3D;gBACD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACvC;SACF;;;;;QAEM,6CAAoB;;;;QAA3B,UAA4B,MAAW;YACrC,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE;gBACjC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;aAC7B;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;aAC3B;SACF;;;;;QAEM,yCAAgB;;;;QAAvB,UAAwB,MAAW;YACjC,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;SACpD;;;;QAEM,kCAAS;;;QAAhB;YAAA,iBAUC;YATC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAA,IAAI;gBAC3B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAClB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBACzB;aACF,EAAC,CAAC;YACH,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAA,IAAI;gBAC3B,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACzB,EAAC,CAAC;YACH,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;;;;QAEM,oCAAW;;;QAAlB;YACE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;;;;;QAEM,qCAAY;;;;QAAnB,UAAoB,MAAW;YAC7B,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,KAAK,CAAC;gBACtC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;SAC/C;;;;;;;;QAEO,kCAAS;;;;;;;QAAjB,UAAkB,CAAS,EAAE,CAAS,EAAE,OAAkB;YACxD,OAAO,CAAC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,KAAK;gBAC5C,CAAC,IAAI,OAAO,CAAC,GAAG,IAAI,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC;SAC3C;;;;;;QAEM,2CAAkB;;;;;QAAzB,UAA0B,CAAS,EAAE,CAAS;YAC5C,OAAO;gBACL,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;gBAC/B,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;aAChC,CAAC;SACH;;;;;;QAEM,uCAAc;;;;;QAArB,UAAsB,CAAS,EAAE,CAAS;;;gBACxC,KAAmB,IAAA,KAAAH,SAAA,IAAI,CAAC,KAAK,CAAC,KAAK,CAAA,gBAAA,4BAAE;oBAAhC,IAAM,IAAI,WAAA;;wBACP,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC;;wBAC5C,cAAc,GAAG,OAAO,CAAC,qBAAqB,EAAE;oBACtD,IAAI,CAAC,IAAI,cAAc,CAAC,IAAI,IAAI,CAAC,IAAI,cAAc,CAAC,KAAK;2BACpD,CAAC,IAAI,cAAc,CAAC,GAAG,IAAI,CAAC,IAAI,cAAc,CAAC,MAAM,EAAE;wBAC1D,OAAO,IAAI,CAAC;qBACb;iBACF;;;;;;;;;YACD,OAAO,IAAI,CAAC;SACb;;;;;;QAEM,uCAAc;;;;;QAArB,UAAsB,CAAS,EAAE,CAAS;;gBAClC,OAAO,GAAG,QAAQ,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC;;gBACzC,EAAE,GAAG,OAAO,CAAC,EAAE;;gBACjB,SAAS,GAAG,CAAC,CAAC;YAClB,IAAI,EAAE,EAAE;gBACN,IAAI,EAAE,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE;oBAClC,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC1D;qBAAM,IAAI,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE;oBAC1C,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;iBAC3D;aACF;YACD,IAAI,SAAS,GAAG,CAAC,CAAC,EAAE;gBAClB,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;aACpC;YACD,OAAO,IAAI,CAAC;SACb;;;;;QAEM,wCAAe;;;;QAAtB,UAAuB,OAAkB;YAAzC,iBA8BC;YA7BC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAC,KAAK;;oBACvB,OAAO,GAAG,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC;;oBAC7C,cAAc,GAAG,OAAO,CAAC,qBAAqB,EAAE;gBACtD,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;;wBACb,CAAC,GAAG,cAAc,CAAC,IAAI,GAAG,cAAc,CAAC,KAAK,GAAG,CAAC;;wBAClD,CAAC,GAAG,cAAc,CAAC,GAAG,GAAG,cAAc,CAAC,MAAM,GAAG,CAAC;oBACxD,IAAI,KAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,EAAE;wBACjC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAC1B;yBAAM;wBACL,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;4BAChC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;yBAC5B;qBACF;iBACF;aACF,EAAC,CAAC;;gBACG,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,qBAAqB,EAAE;YACvE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAC,KAAK;;oBACvB,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC;;oBACrC,GAAG,GAAG,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;;oBACjC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,gBAAgB,CAAC,IAAI;;oBACjD,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,gBAAgB,CAAC,GAAG;gBACtD,IAAI,KAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,EAAE;oBACjC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBAC1B;qBAAM;oBACL,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;wBAChC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;qBAC5B;iBACF;aACF,EAAC,CAAC;SACJ;;;;QAEM,uCAAc;;;QAArB;YAAA,iBASC;;gBARO,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;YACnD,aAAa,CAAC,OAAO;;;;YAAC,UAAC,IAAI;gBACzB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACzB,EAAC,CAAC;;gBACG,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;YACnD,aAAa,CAAC,OAAO;;;;YAAC,UAAC,IAAI;gBACzB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACzB,EAAC,CAAC;SACJ;;;;QAEM,mCAAU;;;QAAjB;YACE,OAAO,IAAI,CAAC,YAAY,KAAK,SAAS,CAAC;SACxC;;;;QAEM,qCAAY;;;QAAnB;YACE,OAAO,IAAI,CAAC,YAAY,KAAK,SAAS,CAAC;SACxC;;;;QAEM,qCAAY;;;QAAnB;YACE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACnB,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,EAAE,CAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,gFAAgF,CAAC;gBACtG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;aAC5C;YACD,OAAO,IAAI,CAAC,SAAS,CAAC;SACvB;QACH,qBAAC;KAAA,IAAA;;;QAjOC,yCAA0C;;QAC1C,+BAAe;;;;;QACf,8CAAoD;;QACpD,yCAAuB;;QAEvB,gDAA4C;;QAC5C,2CAAuC;;QACvC,2CAAsC;;QACtC,mCAAmC;;QACnC,wCAAkC;;QAElC,kCAA+C;;QAC/C,oCAA+D;;QAC/D,2CAA0C;;QAC1C,6CAA4C;;QAC5C,6CAA4C;;QAE5C,sCAAqB;;;;;QAErB,sCAAiD;;;;;QACjD,mCAAgD;;QAEhD,oCAA4B;;QAC5B,+BAAkB;;QAClB,+BAAkB;;;;;IA2MpB,6BAAuD;;;;;IAEvD;;;;;QAIE,yBAAsB,YAA4B;YAChD,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;SAClC;;;;;QAEM,gCAAM;;;;QAAb,UAAc,MAAS;YACrB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SACxC;;;;;QAEM,kCAAQ;;;;QAAf,UAAgB,MAAS;YACvB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;SAC1C;;;;;QAEM,wCAAc;;;;QAArB,UAAsB,MAAS;YAC7B,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;SAChD;;;;;QAEM,oCAAU;;;;QAAjB,UAAkB,MAAS;YACzB,OAAO,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;SACnD;;;;;QAEM,gCAAM;;;;QAAb,UAAc,MAAS;YACrB,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC/C;QACH,sBAAC;KAAA,IAAA;;;QAzBC,uCAA6B;;IA2B/B;QAA8BD,mCAA4B;QAExD,yBAAY,YAA4B;mBACtC,kBAAM,YAAY,CAAC;SACpB;;;;;QAEM,sCAAY;;;;QAAnB,UAAoB,WAAmB;;;gBAC/B,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;;gBACrC,KAAmB,IAAA,KAAAC,SAAA,KAAK,CAAC,KAAK,CAAA,gBAAA,4BAAE;oBAA3B,IAAM,IAAI,WAAA;;wBACb,KAAwB,IAAA,oBAAAA,SAAA,IAAI,CAAC,UAAU,CAAA,CAAA,gBAAA,4BAAE;4BAApC,IAAM,SAAS,WAAA;4BAClB,IAAI,SAAS,CAAC,EAAE,KAAK,WAAW,EAAE;gCAChC,OAAO,SAAS,CAAC;6BAClB;yBACF;;;;;;;;;iBACF;;;;;;;;;SACF;;;;;QAEM,wCAAc;;;;QAArB,UAAsB,WAAmB;YACvC,OAAO,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC;SAC9D;;;;;;QAEM,wCAAc;;;;;QAArB,UAAsB,WAAmB,EAAE,OAAoB;YAC7D,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,WAAW,CAAC,GAAG,OAAO,CAAC;YAChE,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;SACnC;;;;;;;QAEO,oCAAU;;;;;;QAAlB,UAAmB,WAAmB,EAAE,QAAkB;;gBAClD,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;;gBAC1C,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB;YAClD,IAAI,OAAO,KAAK,IAAI,IAAI,OAAO,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,EAAE;gBAChE,OAAO,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;aACrB;;gBACK,mBAAmB,GAAG,OAAO,CAAC,qBAAqB,EAAE;;gBACrD,gBAAgB,GAAG,MAAM,CAAC,qBAAqB,EAAE;;gBACnD,MAAM,GAAa;gBACrB,CAAC,EAAE,mBAAmB,CAAC,IAAI,GAAG,gBAAgB,CAAC,IAAI;gBACnD,CAAC,EAAE,mBAAmB,CAAC,GAAG,GAAG,gBAAgB,CAAC,GAAG;aAClD;YACD,IAAI,QAAQ,EAAE;gBACZ,MAAM,GAAG;oBACP,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC;oBACjD,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,YAAY,GAAG,CAAC,CAAC;iBACnD,CAAC;aACH;YACD,OAAO,MAAM,CAAC;SACf;;;;;QAEM,mCAAS;;;;QAAhB,UAAiB,WAAmB;YAClC,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;SAC5C;;;;;QAEM,0CAAgB;;;;QAAvB,UAAwB,WAAmB;YACzC,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;SAC3C;QACH,sBAAC;KAtDD,CAA8B,eAAe,GAsD5C;IAED;QAAyBD,8BAAuB;QAE9C,oBAAY,YAA4B;mBACtC,kBAAM,YAAY,CAAC;SACpB;;;;;;QAEM,wCAAmB;;;;;QAA1B,UAA2B,IAAY,EAAE,IAAY;YACnD,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM;;;;YAAC,UAAC,SAAS;gBACtC,OAAO,SAAS,CAAC,IAAI,KAAK,IAAI,CAAC;aAChC,EAAC,CAAC;SACJ;;;;;;;QAEO,kCAAa;;;;;;QAArB,UAAsB,IAAY,EAAE,SAAsB;YACxD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAChC,IAAI;gBACF,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;aACtD;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC9D,MAAM,KAAK,CAAC;aACb;SACF;;;;;QAEM,2BAAM;;;;QAAb,UAAc,IAAY;YACxB,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;gBACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACrB;;gBACK,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;;gBAC/B,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;YACvC,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBAChB,IAAI,IAAI,KAAK,SAAS,EAAE;oBACtB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;iBACrC;gBACD,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;aACtD;;gBACK,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;oBACrC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE;oBAC7F,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBACrC,CAAC,EAAE,CAAC;iBACL;aACF;YACD,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;YACvC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;SAC7C;;;;QAEM,qCAAgB;;;QAAvB;YAAA,iBAKC;;gBAJO,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;YACrC,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAI;gBAC7B,OAAO,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;aACjD,EAAC,CAAC;SACJ;;;;;;QAEM,kCAAa;;;;;QAApB,UAAqB,IAAY,EAAE,OAAiB;YAClD,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC9C;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACtC;SACF;;;;;;QAEO,6BAAQ;;;;;QAAhB,UAAiB,IAAY;;gBACrB,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;YACrC,IAAI;gBACF,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACvB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aAC9D;YAAC,OAAO,KAAK,EAAE;gBACd,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBACjD,MAAM,KAAK,CAAC;aACb;SACF;;;;;QAEM,oCAAe;;;;QAAtB,UAAuB,IAAY;YACjC,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG;;;;YAAC,UAAC,SAAS;gBACnC,OAAO,SAAS,CAAC,EAAE,CAAC;aACrB,EAAC,CAAC;SACJ;;;;;QAEM,yCAAoB;;;;QAA3B,UAA4B,WAAmB;;;gBACvC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;;gBACrC,KAAmB,IAAA,KAAAC,SAAA,KAAK,CAAC,KAAK,CAAA,gBAAA,4BAAE;oBAA3B,IAAM,IAAI,WAAA;;wBACP,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;oBAC/C,IAAI,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE;wBAC1C,OAAO,IAAI,CAAC;qBACb;iBACF;;;;;;;;;YACD,OAAO,IAAI,CAAC;SACb;;;;;QAEM,mCAAc;;;;QAArB,UAAsB,MAAc;YAClC,OAAO,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SACpD;;;;;;QAEM,mCAAc;;;;;QAArB,UAAsB,MAAc,EAAE,OAAoB;YACxD,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC;YACtD,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;SACnC;QAEH,iBAAC;KApGD,CAAyB,eAAe,GAoGvC;IAED;QAAyBD,8BAAuB;QAE9C,oBAAY,YAA4B;mBACtC,kBAAM,YAAY,CAAC;SACpB;;;;;QAEM,0BAAK;;;;QAAZ,UAAa,IAAY;;gBACjB,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC;;gBACjE,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC;YACjF,OAAO,MAAM,KAAK,SAAS,IAAI,WAAW,KAAK,SAAS,CAAC;SAC1D;;;;;QAEM,gCAAW;;;;QAAlB,UAAmB,IAAY;YAC7B,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACnE;;;;;QAEM,8BAAS;;;;QAAhB,UAAiB,IAAY;YAC3B,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACxE;;;;;QAEM,2BAAM;;;;QAAb,UAAc,IAAY;;gBAClB,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;;gBAC/B,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;YACvC,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBAChB,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;aACtD;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;gBACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACrB;YACD,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;YACvC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;SAC7C;;;;QAEM,qCAAgB;;;QAAvB;YAAA,iBAKC;;gBAJO,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;YACrC,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAI;gBAC7B,OAAO,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;aACjD,EAAC,CAAC;SACJ;;;;;;QAEM,yCAAoB;;;;;QAA3B,UAA4B,IAAY,EAAE,OAAiB;YACzD,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC9C;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACtC;SACF;;;;;QAEM,4BAAO;;;;QAAd,UAAe,IAAY;;gBACnB,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;YACrC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;SACxC;;;;;;;;QAEM,6BAAQ;;;;;;;QAAf,UAAgB,KAAY,EAAE,eAA4B,EAAE,aAA0B,EAAE,KAAa;YAArG,iBAgBC;YAfC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;YACrE,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;;gBAC7D,IAAI,GAAW,EAAE;YACvB,IAAI,CAAC,MAAM,GAAG,eAAe,CAAC,EAAE,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC,EAAE,CAAC;YACpC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;gBACb,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK;YACrC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YACzF,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,SAAS;;;;YACjD,UAAC,OAAO;gBACN,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1B,KAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;gBACvC,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;aAC9C,EACF,CAAC;SACH;QACH,iBAAC;KAzED,CAAyB,eAAe,GAyEvC;;;;;;ACjfD;QAME;SAAiB;;;;;QAEV,gDAAa;;;;QAApB,UAAqB,KAAc;YACjC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC9C,OAAO,KAAK,CAAC;SACd;;;;;QAEM,gDAAa;;;;QAApB,UAAqB,KAAoB;YAAzC,iBAmBC;;gBAlBO,GAAG,GAAa,EAAE;YACxB,KAAK,CAAC,OAAO;;;;YAAC,UAAC,IAAI;gBACjB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;oBAC/B,MAAM,IAAI,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;iBAClD;gBACD,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACnB,EAAC,CAAC;;gBACG,YAAY,GAAa,EAAE;YACjC,KAAK,CAAC,OAAO;;;;YAAC,UAAC,IAAI;gBACjB,IAAI,CAAC,UAAU,CAAC,OAAO;;;;gBAAC,UAAC,SAAS;oBAChC,IAAI,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;wBAC7C,MAAM,IAAI,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;qBAClD;oBACD,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;iBACjC,EAAC,CAAC;aACJ,EAAC,CAAC;YACH,OAAO,KAAK,CAAC;SACd;;;;;QAEM,+CAAY;;;;QAAnB,UAAoB,IAAY;YAAhC,iBAoBC;YAnBC,IAAI,IAAI,CAAC,EAAE,KAAK,SAAS,EAAE;gBACzB,MAAM,IAAI,oBAAoB,CAAC,eAAe,CAAC,CAAC;aACjD;YACD,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;gBACjC,MAAM,IAAI,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;aACnD;YACD,IAAI,OAAO,IAAI,CAAC,CAAC,KAAK,QAAQ,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,EAAE;gBAC7E,MAAM,IAAI,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;aAC1D;YACD,IAAI,OAAO,IAAI,CAAC,CAAC,KAAK,QAAQ,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,EAAE;gBAC7E,MAAM,IAAI,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;aAC1D;YACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;gBACnC,MAAM,IAAI,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;aACzD;YACD,IAAI,CAAC,UAAU,CAAC,OAAO;;;;YAAC,UAAC,SAAS;gBAChC,KAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;aACnC,EAAC,CAAC;YACH,OAAO,IAAI,CAAC;SACb;;;;;;;QAEO,iDAAc;;;;;;QAAtB,UAAuB,KAAoB,EAAE,KAAoB;YAAjE,iBAkBC;YAjBC,KAAK,CAAC,OAAO;;;;YAAC,UAAC,IAAI;gBACjB,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACjC,EAAC,CAAC;YACH,KAAK,CAAC,OAAO;;;;;YAAC,UAAC,KAAK,EAAE,MAAM;gBAC1B,KAAK,CAAC,OAAO;;;;;gBAAC,UAAC,KAAK,EAAE,MAAM;oBAC1B,IAAI,MAAM,KAAK,MAAM,EAAE;wBACrB,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW;6BAC1E,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,KAAK,KAAK,CAAC,MAAM,CAAC,EAAE;4BAC5E,MAAM,IAAI,oBAAoB,CAAC,kBAAkB,CAAC,CAAC;yBACpD;qBACF;iBACF,EAAC,CAAC;aACJ,EAAC,CAAC;YACH,IAAI,SAAS,CAAC,EAAC,KAAK,OAAA,EAAE,KAAK,OAAA,EAAC,CAAC,KAAK,IAAI,EAAE;gBACtC,MAAM,IAAI,oBAAoB,CAAC,qBAAqB,CAAC,CAAC;aACvD;YACD,OAAO,KAAK,CAAC;SACd;;;;;;QAEM,gDAAa;;;;;QAApB,UAAqB,KAAoB,EAAE,KAAoB;YAC7D,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SAC1C;;;;;;;QAEO,gDAAa;;;;;;QAArB,UAAsB,IAAY,EAAE,KAAoB;YACtD,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;gBAC7B,MAAM,IAAI,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;aACrD;YACD,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE;gBAClC,MAAM,IAAI,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;aAC1D;YACD,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,WAAW,EAAE;gBACpC,MAAM,IAAI,oBAAoB,CAAC,mDAAmD,CAAC,CAAC;aACrF;;gBACK,UAAU,GAAG,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,UAAU,CAAC,IAAI;;;;YAAC,UAAC,SAAS,IAAK,OAAA,SAAS,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,GAAA,EAAC,GAAA,EAAC,CAAC,CAAC,CAAC;YAC/G,IAAI,UAAU,KAAK,SAAS,EAAE;gBAC5B,MAAM,IAAI,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;aACrD;;gBACK,eAAe,GAAG,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAI,IAAK,OAAA,IAAI,CAAC,UAAU,CAAC,IAAI;;;;YAAC,UAAC,SAAS,IAAK,OAAA,SAAS,CAAC,EAAE,KAAK,IAAI,CAAC,WAAW,GAAA,EAAC,GAAA,EAAC,CAAC,CAAC,CAAC;YACzH,IAAI,eAAe,KAAK,SAAS,EAAE;gBACjC,MAAM,IAAI,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;aAC1D;YACD,IAAI,UAAU,KAAK,eAAe,EAAE;gBAClC,MAAM,IAAI,oBAAoB,CAAC,8CAA8C,CAAC,CAAC;aAChF;YACD,OAAO,IAAI,CAAC;SACb;;;;;;QAEM,+CAAY;;;;;QAAnB,UAAoB,IAAY,EAAE,KAAoB;YACpD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACxC;;;;;QAEM,oDAAiB;;;;QAAxB,UAAyB,SAAsB;YAC7C,IAAI,SAAS,CAAC,EAAE,KAAK,SAAS,EAAE;gBAC9B,MAAM,IAAI,oBAAoB,CAAC,eAAe,CAAC,CAAC;aACjD;YACD,IAAI,SAAS,CAAC,IAAI,KAAK,SAAS,IAAI,SAAS,CAAC,IAAI,KAAK,IAAI,IAAI,OAAO,SAAS,CAAC,IAAI,KAAK,QAAQ,EAAE;gBACjG,MAAM,IAAI,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;aACnD;YACD,OAAO,SAAS,CAAC;SAClB;;oBApHFK,eAAU;;;;QAsHX,+BAAC;KAtHD;;;;;;;QCAM,aAAa,GAAkB;QACnC,WAAW,EAAE,IAAI;KAClB;IAED;QAoBE,+BAAY,YAA4B,EAC5B,aAAkD,EAClD,eAAwB,EAAE,aAAqB;YApB3D,sBAAiB,GAAsB;gBACrC,iBAAiB,EAAE,KAAK;gBACxB,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,EAAE;gBAChB,cAAc,EAAE,EAAE;aACnB,CAAC;YAEM,gBAAW,GAAe,EAAE,CAAC;YAC7B,oBAAe,GAAkB,EAAE,CAAC;YAEpC,4BAAuB,GAAkB,EAAE,CAAC;YAC5C,qBAAgB,GAAa,EAAE,CAAC;YAUtC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;SACpC;;;;;;;QAEO,6CAAa;;;;;;QAArB,UAAsB,UAAkB,EAAE,GAAW;YACnD,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACrC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YACvC,OAAO,UAAU,CAAC;SACnB;;;;;;QAEO,8CAAc;;;;;QAAtB,UAAuB,CAAS;YAC9B,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;SAC/E;;;;;;QAEO,8CAAc;;;;;QAAtB,UAAuB,CAAS;YAC9B,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;SAChF;;;;;;;QAEO,4CAAY;;;;;;QAApB,UAAqB,WAAmB,EAAE,WAAwB;YAChE,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE;;oBACvD,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB;gBACzD,IAAI,aAAa,CAAC,WAAW,GAAG,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,WAAW,GAAG,kBAAkB,CAAC,qBAAqB,EAAE;oBAClH,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,aAAa,CAAC,WAAW,GAAG,kBAAkB,CAAC,gBAAgB,GAAG,IAAI,CAAC;iBACpG;gBACD,IAAI,aAAa,CAAC,YAAY,GAAG,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,YAAY,GAAG,kBAAkB,CAAC,qBAAqB,EAAE;oBACpH,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC,YAAY,GAAG,kBAAkB,CAAC,gBAAgB,GAAG,IAAI,CAAC;iBACtG;aACF;SACF;;;;;QAEM,8CAAc;;;;QAArB,UAAsB,IAAY;YAChC,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC3D;;;;;;QAEM,yCAAS;;;;;QAAhB,UAAiB,KAAgB,EAAE,IAAY;;YAC7C,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,OAAO;aACR;YACD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;YAChC,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;YAC/C,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;YACjD,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,CAAC,CAAC;YACxC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;;gBAC3B,QAAQ,GAA+B,EAAE;;gBACzC,KAAK,GAAkB,EAAE;YAC/B,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;;oBACtC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,gBAAgB,EAAE;;oBAChE,KAA2B,IAAA,kBAAAJ,SAAA,aAAa,CAAA,4CAAA,uEAAE;wBAArC,IAAM,YAAY,0BAAA;;4BACf,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;wBAC1E,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBACvB,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;qBAC1B;;;;;;;;;aACF;iBAAM;gBACL,QAAQ,CAAC,IAAI,CAAC,CAAC,oBAAC,KAAK,CAAC,MAAM,GAAgB,CAAC,CAAC;gBAC9C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClB;;gBACK,QAAQ,GAAa,EAAE;;gBACvB,QAAQ,GAAa,EAAE;;gBAC7B,KAAsB,IAAA,aAAAA,SAAA,QAAQ,CAAA,kCAAA,wDAAE;oBAA3B,IAAM,OAAO,qBAAA;oBAChB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;oBACjE,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;iBACjE;;;;;;;;;;gBACK,aAAa,GAAc,oBAAC,KAAK,IAAS,aAAa,IAAI,KAAK;YACtE,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE;gBACpC,IAAI,aAAa,CAAC,WAAW,EAAE;oBAC7B,aAAa,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;oBAC5E,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC;iBAClC;gBACD,aAAa,CAAC,WAAW,sBAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAmB,CAAC;;oBACxE,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE;gBAC9D,aAAa,CAAC,WAAW,CAAC,UAAU,GAAG;oBACrC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;oBAC9C,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;iBAC9C,CAAC;gBACF,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;gBACtD,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;gBACvD,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;gBAEhD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;;oBAC/C,YAAY,GAAiB;oBACjC,IAAI,MAAA;oBACJ,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,YAAY;oBAC5C,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;oBAC9C,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;iBAC9C;gBACD,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;gBAEzE,IAAI,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE;oBAC3C,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;iBACjF;qBAAM;;wBACC,MAAM,sBAAgB,KAAK,CAAC,MAAM,EAAe;oBACvD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC1C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBACjD,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBAC9B,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBACjD;gBACD,OAAO;aACR;YACD,IAAI,CAAC,iBAAiB,CAAC,YAAY,GAAG,KAAK,CAAC;YAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACxC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,CACnB;oBACE,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;oBACd,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;iBACf,CACF,CAAC;aACH;YAED,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;gBACjE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;wBAC9C,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;;wBAChC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;;wBACpD,aAAa,GAAG,CAAC,CAAC,iDAAgD;yBAChD,UAAQ,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,SAAM,CAAA;yBAC/D,WAAS,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,YAAQ,CAAA;yBAClE,4DAAsD,WAAW,CAAC,IAAI,sBAAmB,CAAA,CAAC;;wBAC5G,eAAe,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;oBAChE,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC;oBAC1F,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBAC1D,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC9F;aACF;YACD,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,yBAAyB,CAAC,CAAC;YACtE,IAAI,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE;gBAC3C,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aACjF;iBAAM;gBACL,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACpD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC1E,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;iBACxD;gBACD,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;oBACjE,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBACjD;aACF;SACF;;;;;QAEM,oCAAI;;;;QAAX,UAAY,KAAgB;YAA5B,iBA0CC;YAzCC,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE;gBACpC,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,OAAO,KAAK,CAAC;aACd;;gBACG,QAAQ,GAAW,IAAI;;gBACrB,aAAa,GAAc,oBAAC,KAAK,IAAS,aAAa,IAAI,KAAK;;gBAChE,QAAQ,GAAG,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC;YAC3D,IAAI,QAAQ,EAAE;;oBACR,YAAY,GAAiB,IAAI;gBACrC,IAAI;oBACF,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;iBACrC;gBAAC,OAAO,CAAC,EAAE,GAAE;gBACd,IAAI,YAAY,IAAI,YAAY,CAAC,YAAY,EAAE;oBAC7C,IAAI,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,EAAE;wBACxC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,EAAE,KAAK,YAAY,CAAC,YAAY,EAAE;wBACtE,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC;;4BACvB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE;;4BACxD,CAAC,GAAG,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI;;4BAC/B,CAAC,GAAG,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG;wBACpC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;wBACvE,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;qBACxE;iBACF;aACF;YACD,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAC5C,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,OAAO,KAAK,CAAC;aACd;iBAAM,IAAI,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE;gBACrD,OAAO,IAAI,CAAC,aAAa;;;gBAAC;oBACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;4BAC7D,WAAW,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;;4BACpD,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;wBACtC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;wBAC9E,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;qBAC/E;oBACD,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;oBACvC,OAAO,KAAK,CAAC;iBACd,EAAC,CAAC;aACJ;SACF;;;;;QAEM,wCAAQ;;;;QAAf,UAAgB,KAAgB;YAAhC,iBAyDC;YAxDC,IAAI,aAAa,CAAC,WAAW,EAAE;;oBACvB,UAAU,GAAG,aAAa,CAAC,WAAW,CAAC,UAAU;gBACvD,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC;gBACnF,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC;gBAClF,IAAI,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE;oBAC5C,IAAI,CAAC,aAAa;;;oBAAC;wBACjB,KAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;wBACzE,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,GAAG,KAAK,CAAC;qBAClD,EAAC,CAAC;iBACJ;gBACD,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,OAAO;aACR;YACD,IAAI,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE;gBACpC,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,OAAO;aACR;YACD,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE;gBAC/C,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,OAAO;aACR;YACD,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,oBAAoB,EAAE;gBAClE,IAAI,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE;oBAC9C,OAAO,IAAI,CAAC,aAAa;;;oBAAC;wBACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;gCAC7D,WAAW,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;;gCACpD,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;4BACtC,WAAW,CAAC,CAAC,GAAG,KAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;4BAClE,WAAW,CAAC,CAAC,GAAG,KAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;4BAClE,KAAI,CAAC,YAAY,CAAC,WAAW,EAAE,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;yBACzD;wBACD,KAAK,CAAC,cAAc,EAAE,CAAC;wBACvB,KAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;wBACvC,OAAO,KAAK,CAAC;qBACd,EAAC,CAAC;iBACJ;aACF;iBAAM,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;gBACxE,IAAI,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE;oBAC9C,IAAI,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE;wBAC5C,IAAI,CAAC,aAAa;;;wBAAC;4BACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gCACnE,KAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;6BAC1E;4BACD,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,GAAG,KAAK,CAAC;yBAClD,EAAC,CAAC;qBACJ;oBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;4BAC7D,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;;4BACpD,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;wBACtC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;wBAC/G,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;wBAC9G,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;qBACzD;oBACD,KAAK,CAAC,cAAc,EAAE,CAAC;iBACxB;aACF;SACF;;;;;QAEM,uCAAO;;;;QAAd,UAAe,KAAgB;YAA/B,iBA2BC;YA1BC,IAAI,CAAC,aAAa;;;YAAC;gBACjB,IAAI,aAAa,CAAC,WAAW,EAAE;oBAC7B,aAAa,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;oBAC5E,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC;iBAClC;gBACD,IAAI,KAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE;oBACpC,OAAO;iBACR;gBACD,IAAI,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,EAAE;oBAChD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;4BAC7D,WAAW,GAAG,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;;4BACpD,aAAa,GAAG,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAC;wBAC9D,WAAW,CAAC,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC1E,WAAW,CAAC,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;wBACzE,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;qBACnE;oBACD,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;oBACjD,KAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC;iBACxC;gBAED,IAAI,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,EAAE;oBAC9C,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;oBAC/C,KAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC;oBAChC,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;iBAC7B;aACF,EAAC,CAAC;SACJ;QAEH,4BAAC;KAAA,IAAA;;;QAtSC,kDAKE;;;;;QAEF,4CAAqC;;;;;QACrC,gDAA4C;;;;;QAE5C,wDAAoD;;;;;QACpD,iDAAwC;;;;;QAExC,6CAA8C;;;;;QAC9C,gDAA0C;;;;;QAC1C,8CAAuC;;;;;QACvC,8CAAoE;;;;;IAwRtE,gCAKC;;;QAJC,yCAA4B;;QAC5B,2CAA2C;;QAC3C,8CAA2B;;QAC3B,wCAAyB;;;;;IAG3B,8BAKC;;;QAJC,qCAGE;;;;;IAGJ,4BAEC;;;QADC,oCAA6B;;;;;IAG/B,2BAKC;;;QAJC,4BAAa;;QACb,oCAAqB;;QACrB,+BAAgB;;QAChB,+BAAgB;;;;;;;ACvUlB;QAME;SACC;;;;;;;QAEM,gDAAiB;;;;;;QAAxB,UAAyB,GAAa,EAAE,GAAa,EAAE,KAAa;;gBAC9D,UAAU,GAAG,OAAK,GAAG,CAAC,CAAC,UAAK,GAAG,CAAC,CAAC,MAAG;YACxC,IAAI,KAAK,KAAK,kBAAkB,CAAC,WAAW,EAAE;;oBACtC,aAAa,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,GAAG,CAAC;;oBACvD,kBAAkB,GAAG,IAAI,CAAC,6BAA6B,CAAC,GAAG,EAAE,GAAG,CAAC;gBACvE,UAAU,IAAI,OAAK,aAAa,CAAC,CAAC,UAAK,aAAa,CAAC,CAAC,UAAK,kBAAkB,CAAC,CAAC,GAAG,EAAE,CAAC,UAAK,kBAAkB,CAAC,CAAC,SAAI,GAAG,CAAC,CAAC,UAAK,GAAG,CAAC,CAAG,CAAC;aACrI;iBAAM;gBACL,UAAU,IAAI,OAAK,GAAG,CAAC,CAAC,UAAK,GAAG,CAAC,CAAG,CAAC;aACtC;YACD,OAAO,UAAU,CAAC;SACnB;;;;;;QAEM,4CAAa;;;;;QAApB,UAAqB,GAAa,EAAE,GAAa;YAC/C,OAAO;gBACL,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;gBACtB,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;aACvB,CAAC;SACH;;;;;;;QAEO,uDAAwB;;;;;;QAAhC,UAAiC,GAAa,EAAE,GAAa;YAC3D,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;SAC5B;;;;;;;QAEO,uDAAwB;;;;;;QAAhC,UAAiC,GAAa,EAAE,GAAa;YAC3D,OAAO;gBACL,CAAC,EAAE,GAAG,CAAC,CAAC;gBACR,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,GAAG,CAAC;aACnD,CAAC;SACH;;;;;;;QAEO,4DAA6B;;;;;;QAArC,UAAsC,GAAa,EAAE,GAAa;YAChE,OAAO;gBACL,CAAC,EAAE,GAAG,CAAC,CAAC;gBACR,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,GAAG,CAAC;aACnD,CAAC;SACH;;oBAzCFI,eAAU;;;;QA2CX,2BAAC;KA3CD;;;;;;ICEA;QAuBE,+BAAY,eAAyC,EACzC,kBAAwC,EACxC,YAA4B,EAC5B,KAAc,EACd,mBAA+E,EAC/E,aAAkD,EAClD,aAAqB,EACrB,SAAiB;YA5B7B,iBAAY,GAAiB;gBAC3B,UAAU,EAAE,KAAK;gBACjB,UAAU,EAAE,IAAI;gBAChB,UAAU,EAAE,IAAI;gBAChB,iBAAiB,EAAE,KAAK;aACzB,CAAC;YAEM,sBAAiB,GAAgB,IAAI,CAAC;YACtC,eAAU,GAAa,EAAE,CAAC;YAC1B,2BAAsB,GAAgB,IAAI,CAAC;YAC3C,oBAAe,GAAG,EAAE,CAAC;YAmB3B,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;YAC7C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,mBAAmB,GAAG,mBAAmB;;;YAAK,cAAM,OAAA,IAAI,GAAA,EAAC,CAAC;YAC/D,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;SAC5B;;;;;;QAEM,yCAAS;;;;;QAAhB,UAAiB,KAAgB,EAAE,SAAsB;;YAAzD,iBAiEC;;gBAhEK,aAA0B;;gBAC1B,SAAiB;;gBACjB,QAAgB;YACpB,IAAI,SAAS,CAAC,IAAI,KAAK,kBAAkB,CAAC,iBAAiB,EAAE;wCAChD,IAAI;oBACb,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,CAAC,EAAE,EAAE;wBACrC,aAAa,GAAG,OAAK,YAAY,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;wBACvE,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;wBACvB,QAAQ,GAAG,IAAI,CAAC;wBAChB,OAAK,aAAa;;;wBAAC;4BACjB,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;yBACtC,EAAC,CAAC;;qBAEJ;;;;oBATH,KAAmB,IAAA,KAAAJ,SAAA,IAAI,CAAC,KAAK,CAAC,KAAK,CAAA,gBAAA;wBAA9B,IAAM,IAAI,WAAA;8CAAJ,IAAI;;;qBAUd;;;;;;;;;aACF;YACD,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;YACpC,IAAI,aAAa,KAAK,SAAS,EAAE;gBAC/B,IAAI,CAAC,iBAAiB,GAAG,aAAa,CAAC;gBACvC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;gBAC/F,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC;gBACxC,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,QAAQ,CAAC;aACvC;iBAAM;gBACL,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;gBACnC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;aAC5F;;gBACK,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB;YAClD,IAAI,CAAC,MAAM,EAAE;gBACX,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,IAAI,CAAC;YACzD,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC,GAAG,CAAC;YAExD,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG;gBAC7B,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;gBACpC,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;aACrC,CAAC;;gBACI,aAAa,GAAc,oBAAC,KAAK,IAAS,aAAa,IAAI,KAAK;YAEtE,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,yBAAyB,CAAC,CAAC;YACtE,IAAI,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE;gBAC3C,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aACjF;iBAAM;gBACL,IAAI,CAAC,sBAAsB,sBAAG,KAAK,CAAC,MAAM,EAAe,CAAC;gBAC1D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,OAAO,CAAC;gBACjE,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBACnD,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;oBACjE,IAAI,CAAC,YAAY,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBAC5C;aACF;YACD,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;gBACjE,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC5C,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBAC/E,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC/F,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACpG;gBAED,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;gBACnD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EACpC,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACzH,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC3E,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;aAC5E;YACD,KAAK,CAAC,eAAe,EAAE,CAAC;SACzB;;;;;QAEM,wCAAQ;;;;QAAf,UAAgB,KAAgB;YAAhC,iBAoCC;YAnCC,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;gBAChC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;oBACpG,IAAI,IAAI,CAAC,sBAAsB,KAAK,IAAI,EAAE;wBACxC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC;qBAClE;oBAED,IAAI,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;wBACvC,IAAI,CAAC,aAAa;;;wBAAC;4BACjB,KAAI,CAAC,YAAY,CAAC,iBAAiB,GAAG,KAAK,CAAC;yBAC7C,EAAC,CAAC;qBACJ;oBAED,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG;wBAC7B,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;wBACpC,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;qBACrC,CAAC;oBAEF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EACpC,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACzH,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC3E,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;iBAE5E;qBAAM,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,oBAAoB,EAAE;oBACzE,OAAO,IAAI,CAAC,aAAa;;;oBAAC;wBACxB,IAAI,KAAI,CAAC,sBAAsB,KAAK,IAAI,EAAE;4BACxC,KAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC;yBAClE;wBAED,KAAI,CAAC,YAAY,CAAC,UAAU,GAAG;4BAC7B,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,UAAU,CAAC,CAAC;4BACpC,CAAC,EAAE,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,UAAU,CAAC,CAAC;yBACrC,CAAC;qBACH,EAAC,CAAC;iBACJ;aACF;SACF;;;;;;QAEM,iDAAiB;;;;;QAAxB,UAAyB,KAAgB,EAAE,SAAsB;YAC/D,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;gBAChC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACrB,IAAI;oBACF,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;4BAC1D,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,EAAE;4BACjC,WAAW,EAAE,SAAS,CAAC,EAAE;yBAC1B,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBACxB;gBAAC,OAAO,KAAK,EAAE;oBACd,IAAI,KAAK,YAAY,oBAAoB,EAAE;wBACzC,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,MAAM,KAAK,CAAC;qBACb;iBACF;gBACD,IAAI,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,CAAC,EAAE;oBAC/D,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,OAAO,KAAK,CAAC;iBACd;aACF;SACF;;;;;QAEM,+CAAe;;;;QAAtB,UAAuB,KAAgB;YACrC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,KAAK,CAAC;SACxC;;;;;;QAEM,8CAAc;;;;;QAArB,UAAsB,KAAgB,EAAE,SAAsB;YAA9D,iBAuCC;YAtCC,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;gBAChC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACrB,IAAI;oBACF,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;4BAC1D,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,EAAE;4BACjC,WAAW,EAAE,SAAS,CAAC,EAAE;yBAC1B,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBACxB;gBAAC,OAAO,KAAK,EAAE;oBACd,IAAI,KAAK,YAAY,oBAAoB,EAAE;wBACzC,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,MAAM,KAAK,CAAC;qBACb;iBACF;gBACD,IAAI,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,CAAC,EAAE;oBAC/D,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;wBAEjE,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEtC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAC3F,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EACpC,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBACzH,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC3E,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAE3E,KAAK,CAAC,cAAc,EAAE,CAAC;wBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;wBACxB,OAAO,KAAK,CAAC;qBACd;yBAAM,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,oBAAoB,EAAE;wBACzE,OAAO,IAAI,CAAC,aAAa;;;wBAAC;4BACxB,KAAI,CAAC,YAAY,CAAC,UAAU,GAAG,KAAI,CAAC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;4BAC3F,KAAK,CAAC,cAAc,EAAE,CAAC;4BACvB,KAAK,CAAC,eAAe,EAAE,CAAC;4BACxB,OAAO,KAAK,CAAC;yBACd,EAAC,CAAC;qBACJ;iBACF;aACF;SACF;;;;;QAEM,uCAAO;;;;QAAd,UAAe,KAAgB;YAA/B,iBAmBC;YAlBC,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;gBAChC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,KAAK,CAAC;gBACrC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;gBACpC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;gBACpC,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC;gBACnC,KAAK,CAAC,eAAe,EAAE,CAAC;gBAExB,IAAI,IAAI,CAAC,aAAa,KAAK,kBAAkB,CAAC,mBAAmB,EAAE;oBACjE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;iBACnD;gBACD,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;;wBACxB,MAAI,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ;oBACvC,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;oBAClC,IAAI,CAAC,aAAa;;;oBAAC;wBACjB,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;qBACvC,EAAC,CAAC;iBACJ;aACF;SACF;;;;;;QAEM,oCAAI;;;;;QAAX,UAAY,KAAgB,EAAE,eAA4B;YACxD,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;gBAChC,IAAI;oBACF,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;4BAC1D,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,EAAE;4BACjC,WAAW,EAAE,eAAe,CAAC,EAAE;yBAChC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBACxB;gBAAC,OAAO,KAAK,EAAE;oBACd,IAAI,KAAK,YAAY,oBAAoB,EAAE;wBACzC,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,MAAM,KAAK,CAAC;qBACb;iBACF;gBAED,IAAI,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EAAE,eAAe,CAAC,EAAE;oBACrE,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;oBAClC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;oBAC9G,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,OAAO,KAAK,CAAC;iBACd;aACF;SACF;QACH,4BAAC;KAAA,IAAA;;;QAjQC,6CAKE;;;;;QAEF,kDAA8C;;;;;QAC9C,2CAAkC;;;;;QAClC,uDAAmD;;;;;QACnD,gDAA6B;;;;;QAE7B,gDAA2D;;;;;QAC3D,mDAA0D;;;;;QAC1D,6CAA8C;;;;;QAC9C,sCAAgC;;;;;QAChC,oDAAiG;;;;;QACjG,8CAAoE;;;;;QACpE,8CAAuC;;;;;QACvC,0CAAmC;;;;;IAgPrC,2BAWC;;;QAVC,kCAAoB;;QACpB,yCAA2B;;QAC3B,kCAAqB;;QACrB,kCAAqB;;QACrB,iCAAmB;;QACnB,gCAAkB;;QAClB,oCAAuB;;QACvB,gCAA2B;;QAC3B,mCAA8B;;QAC9B,qCAAgC;;;;;;;IClRlC;QAUE,4BAAY,aAAkD;YAR9D,mBAAc,GAAmB;gBAC/B,SAAS,EAAE,IAAI;gBACf,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;aACX,CAAC;YAKA,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;SACpC;;;;;;QAEM,0CAAa;;;;;QAApB,UAAqB,KAAiB,EAAE,IAAY;YAApD,iBAIC;YAHC,OAAO,IAAI,CAAC,aAAa;;;YAAC;gBACxB,KAAI,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;aACjC,EAAC,CAAC;SACJ;;;;;;QAEM,yCAAY;;;;;QAAnB,UAAoB,KAAiB,EAAE,IAAY;YAAnD,iBAIC;YAHC,OAAO,IAAI,CAAC,aAAa;;;YAAC;gBACxB,KAAI,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;aACjC,EAAC,CAAC;SACJ;;;;;;QAEM,gDAAmB;;;;;QAA1B,UAA2B,KAAiB,EAAE,SAAsB;YAApE,iBAIC;YAHC,OAAO,IAAI,CAAC,aAAa;;;YAAC;gBACxB,KAAI,CAAC,cAAc,CAAC,SAAS,GAAG,SAAS,CAAC;aAC3C,EAAC,CAAC;SACJ;;;;;;QAEM,gDAAmB;;;;;QAA1B,UAA2B,KAAiB,EAAE,SAAsB;YAApE,iBAIC;YAHC,OAAO,IAAI,CAAC,aAAa;;;YAAC;gBACxB,KAAI,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC;aACtC,EAAC,CAAC;SACJ;;;;;;QAEM,2CAAc;;;;;QAArB,UAAsB,KAAiB,EAAE,IAAY;YACnD,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;SACjC;;;;;;QAEM,2CAAc;;;;;QAArB,UAAsB,KAAiB,EAAE,IAAY;YACnD,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;SACjC;QACH,yBAAC;KAAA,IAAA;;;QA3CC,4CAIE;;;;;QAEF,2CAAoE;;;;;IAuCtE,6BAIC;;;QAHC,mCAAuB;;QACvB,8BAAa;;QACb,8BAAa;;;;;;;;QCpDT,KAAK,GAAG,eAAe;;QAEvB,KAAK;;;;;IAAG,UAAC,IAAa,EAAE,IAAY;QACxC,OAAA,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC;KAAA,CAAA;;;QAE/C,MAAM;;;;IAAG,UAAC,IAAa;QAC3B,OAAA,KAAK,CAAC,IAAI,CACR,KAAK,CAAC,IAAI,EAAE,UAAU,CAAC;YACvB,KAAK,CAAC,IAAI,EAAE,YAAY,CAAC;YACzB,KAAK,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;KAAA,CAAA;;;QAExB,YAAY;;;;IAAG,UAAC,IAAiB;QACrC,OAAA,CAAC,IAAI,IAAI,IAAI,KAAK,QAAQ,CAAC,IAAI;cAC3B,QAAQ,CAAC,IAAI;cACb,MAAM,CAAC,IAAI,CAAC;kBACZ,IAAI;kBACJ,YAAY,oBAAC,IAAI,CAAC,UAAU,GAAgB;KAAA,CAAA;;;;;;;ICdlD;;;IAEA,wBAKC;;;QAJC,uBAAW;;QACX,uBAAW;;QACX,uBAAW;;QACX,uBAAW;;IAGb;QAeE,kCAAY,YAA4B,EAC5B,aAA0B,EAC1B,aAAkD;YAf7C,eAAU,GAAc;gBACvC,EAAE,EAAE,CAAC;gBACL,EAAE,EAAE,CAAC;gBACL,EAAE,EAAE,CAAC;gBACL,EAAE,EAAE,CAAC;aACN,CAAC;YAWA,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;YAC7D,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;SACpC;;;;;QAEM,4CAAS;;;;QAAhB,UAAiB,CAAa;YAC5B,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC;mBAC3E,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBAC9B,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;;oBAC5B,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;gBAC3C,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;gBACxC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;gBACxC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;SACF;;;;;QAEM,4CAAS;;;;QAAhB,UAAiB,CAAa;YAC5B,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC;mBAC3E,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;;oBACzB,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;gBAC3C,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;SACF;;;;;;QAEO,+CAAY;;;;;QAApB,UAAqB,MAA0B;;gBACvC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,qBAAqB,EAAE;;gBACpD,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG;;gBACjC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI;;gBAChC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG;;gBAC3B,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI;YACpC,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE;;oBAC3B,SAAS,GAAG,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,GAAG,CAAC;;oBAC3C,QAAM,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBAC7C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAM,GAAG,SAAS,CAAC,CAAC;aAClD;iBAAM,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,EAAE;;oBACrC,YAAY,GAAG,EAAE,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;;oBACjD,QAAM,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;gBAC7C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAM,GAAG,YAAY,CAAC,CAAC;aACrD;YACD,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,GAAG,EAAE,EAAE;;oBAC5B,UAAU,GAAG,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC;;oBAC7C,QAAM,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;gBAC9C,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAM,GAAG,UAAU,CAAC,CAAC;aACpD;iBAAM,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,EAAE;;oBACpC,WAAW,GAAG,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;;oBAC/C,QAAM,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;gBAC9C,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAM,GAAG,WAAW,CAAC,CAAC;aACrD;SACF;;;;;QAEM,0CAAO;;;;QAAd,UAAe,CAAa;YAC1B,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC;mBAC3E,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;;oBACzB,OAAO,sBAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,EAAa;gBACvE,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aAC7B;SACF;;;;;QAEO,mDAAgB;;;;QAAxB;;gBACQ,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;;gBACrD,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;;gBACrD,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;;gBACrD,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YAC3D,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC;YAC1C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC;YACzC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAChD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;SAClD;;;;;;QAEO,gDAAa;;;;;QAArB,UAAsB,OAAkB;YAAxC,iBAIC;YAHC,IAAI,CAAC,aAAa;;;YAAC;gBACjB,KAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;aAC5C,EAAC,CAAC;SACJ;QAEH,+BAAC;KAAA,IAAA;;;;;;QAnGC,8CAKE;;;;;QAEF,gDAA8C;;;;;QAC9C,iDAA4C;;;;;QAC5C,kDAAqD;;;;;QACrD,iDAAoD;;;;;QACpD,iDAAoE;;;;;;;;QC8EpE,+BAAoB,UAAmC,EACnC,OAAwB,EACxB,eAAyC,EAC1C,kBAAwC,EACvC,EAAqB,EACrB,IAAY;YALhC,iBAWC;YAXmB,eAAU,GAAV,UAAU,CAAyB;YACnC,YAAO,GAAP,OAAO,CAAiB;YACxB,oBAAe,GAAf,eAAe,CAA0B;YAC1C,uBAAkB,GAAlB,kBAAkB,CAAsB;YACvC,OAAE,GAAF,EAAE,CAAmB;YACrB,SAAI,GAAJ,IAAI,CAAQ;YAzChC,iBAAY,GAAG,IAAIK,iBAAY,EAAE,CAAC;YAE1B,+BAA0B,GAAG,IAAI,CAAC;YAsB1C,uBAAkB,GAAG,kBAAkB,CAAC;YAEhC,gBAAW,GAA2B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM;;;;;YAAS,UAAC,KAAK,EAAE,IAAI;gBAC7F,OAAO,IAAI,CAAC;aACb,EAAC,CAAC;YAEK,gBAAW,GAA2B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM;;;;;YAAS,UAAC,KAAK,EAAE,IAAI;gBAC7F,OAAO,IAAI,CAAC;aACb,EAAC,CAAC;YAEc,yBAAoB,GAAG,IAAIJ,YAAO,EAAO,CAAC;YAQzD,IAAI,CAAC,UAAU,GAAG,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAC3C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;YACxD,IAAI,CAAC,oBAAoB;iBACtB,IAAI,CAACE,sBAAY,CAAC,EAAE,CAAC,CAAC;iBACtB,SAAS;;;YAAC,cAAM,OAAA,KAAI,CAAC,EAAE,CAAC,aAAa,EAAE,GAAA,EAAC,CAAC;SAC7C;QAhFD,sBACI,8CAAW;;;;YADf;gBAEE,OAAO,kBAAkB,CAAC,WAAW,CAAC;aACvC;;;WAAA;QAiCD,sBAAI,wDAAqB;;;;YAAzB;gBACE,OAAO,IAAI,CAAC,0BAA0B,CAAC;aACxC;;;;;YACD,UAC0B,KAAc;gBACtC,IAAI,CAAC,0BAA0B,GAAGG,8BAAqB,CAAC,KAAK,CAAC,CAAC;aAChE;;;WAJA;;;;QA4CD,wCAAQ;;;QAAR;;YAAA,iBAgEC;YA/DC,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAkB,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAkB,CAAC,SAAS,EAAE;gBAC9H,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,GAAG,CAAC;YACzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC;YACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,kBAAkB,CAAC,oBAAoB,CAAC;YACnF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC;YAC9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,IAAI,KAAK,CAAC;;gBAErD,KAAkB,IAAA,KAAAN,SAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA,gBAAA,4BAAE;oBAA9C,IAAM,GAAG,WAAA;;wBACN,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;oBACxC,IAAI,OAAO,QAAQ,KAAK,UAAU,IAAI,GAAG,KAAK,eAAe,EAAE;wBAC7D,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;qBACvD;iBACF;;;;;;;;;YAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;;gBAEpD,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAEhD,IAAI,CAAC,YAAY,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EACxF,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,EAC/C,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,WAAW,EACxH,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;YAE/E,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;aACpD;;gBAEK,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YAEnD,IAAI,CAAC,mBAAmB,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,YAAY,EAAE,aAAa,EAC/E,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAEhD,IAAI,CAAC,mBAAmB,GAAG,IAAI,qBAAqB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,YAAY,EACnH,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,WAAW,IAAI,IAAI,EAAE,aAAa,EACjE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAEtC,IAAI,CAAC,gBAAgB,GAAG,IAAI,kBAAkB,CAAC,aAAa,CAAC,CAAC;YAE9D,IAAI,CAAC,sBAAsB,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,YAAY,EAC1E,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,mBAAmB,CAAC,EAAE,aAAa,CAAC,CAAC;YAEhE,IAAI,CAAC,SAAS,GAAG;gBACf,aAAa,EAAE,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAChF,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAC5E,aAAa,EAAE,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAChF,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAC5E,QAAQ,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBACtE,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAChG,kBAAkB,EAAE,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAC1F,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;gBAC5F,aAAa,EAAE,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;gBAC9E,YAAY,EAAE,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;gBAC5E,mBAAmB,EAAE,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;gBAC1F,mBAAmB,EAAE,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;gBAC1F,WAAW;;;;;gBAAE,UAAC,KAAK,EAAE,IAAI;oBACvB,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC3D,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,KAAK,CAAC,cAAc,EAAE,CAAC;iBACxB,CAAA;aACF,CAAC;YACF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;SACnD;;;;QAED,yCAAS;;;QAAT;YACE,IAAI,IAAI,CAAC,KAAK,EAAE;;oBACR,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;;oBACrD,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;;oBACvD,cAAY,GAAG,KAAK;;oBACpB,cAAY,GAAG,KAAK;gBACxB,IAAI,WAAW,KAAK,IAAI,EAAE;oBACxB,WAAW,CAAC,gBAAgB;;;oBAAC;wBAC3B,cAAY,GAAG,IAAI,CAAC;qBACrB,EAAC,CAAC;oBACH,WAAW,CAAC,kBAAkB;;;oBAAC;wBAC7B,cAAY,GAAG,IAAI,CAAC;qBACrB,EAAC,CAAC;iBACJ;gBACD,IAAI,WAAW,KAAK,IAAI,EAAE;oBACxB,WAAW,CAAC,gBAAgB;;;oBAAC;wBAC3B,cAAY,GAAG,IAAI,CAAC;qBACrB,EAAC,CAAC;oBACH,WAAW,CAAC,kBAAkB;;;oBAAC;wBAC7B,cAAY,GAAG,IAAI,CAAC;qBACrB,EAAC,CAAC;iBACJ;gBACD,IAAI,cAAY,EAAE;oBAChB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;iBACnD;gBACD,IAAI,cAAY,IAAI,cAAY,EAAE;oBAChC,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;iBAClC;aACF;SACF;;;;;QAED,iDAAiB;;;;QAAjB,UAAkB,IAAY;YAC5B,OAAO,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,EACxF,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SAC5D;;;;;QAEM,gDAAgB;;;;QAAvB,UAAwB,GAAa;YAArC,iBAmBC;;gBAlBK,IAAI,GAAG,CAAC;;gBACR,IAAI,GAAG,CAAC;;gBACN,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAChD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAC,IAAI;gBAC5B,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC/C,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;aACjD,EAAC,CAAC;;gBACC,KAAK;;gBACL,MAAM;YACV,IAAI,GAAG,EAAE;gBACP,KAAK,GAAG,IAAI,CAAC;gBACb,MAAM,GAAG,IAAI,CAAC;aACf;iBAAM;gBACL,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACpD,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;aACvD;YACD,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,GAAG,IAAI,CAAC,CAAC;SACtC;;;;;QAED,2CAAW;;;;QAAX,UAAY,KAAiB,KAAI;;;;;;QAEjC,6CAAa;;;;;QAAb,UAAc,KAAiB,EAAE,IAAY;YAC3C,KAAK,CAAC,eAAe,EAAE,CAAC;SACzB;;;;;;QAED,yCAAS;;;;;QAAT,UAAU,KAAiB,EAAE,IAAY;YACvC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,oBAAoB,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YAClE,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;;;;;;QAED,0CAAU;;;;;QAAV,UAAW,KAAY,EAAE,IAAY;YACnC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACrC,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;;;;;;QAED,wCAAQ;;;;;QAAR,UAAS,KAAY,EAAE,IAAY;YACjC,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;gBAC/B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;aAC1C;SACF;;;;;;QAED,+CAAe;;;;;QAAf,UAAgB,KAAiB,EAAE,IAAY;YAC7C,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE;gBACtC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;aACjD;SACF;;;;;;QAED,6CAAa;;;;;QAAb,UAAc,KAAiB,EAAE,IAAY;YAC3C,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;gBACpC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;aAC/C;SACF;;;;;;QAED,8CAAc;;;;;QAAd,UAAe,KAAiB,EAAE,IAAY;YAC5C,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnD;;;;;;QAED,8CAAc;;;;;QAAd,UAAe,KAAiB,EAAE,IAAY;YAC5C,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACnD;;;;;QAGD,wCAAQ;;;;QADR,UACS,KAAgB;YACvB,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACzC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SAC1C;;;;;QAGD,oCAAI;;;;QADJ,UACK,KAAgB;YACnB,IAAI,KAAK,CAAC,cAAc,EAAE;gBACxB,KAAK,CAAC,cAAc,EAAE,CAAC;aACxB;YACD,IAAI,KAAK,CAAC,eAAe,EAAE;gBACzB,KAAK,CAAC,eAAe,EAAE,CAAC;aACzB;YACD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtC;;;;;QAGD,yCAAS;;;;QADT,UACU,KAAiB;YACzB,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC9C;;;;;QAGD,yCAAS;;;;QADT,UACU,KAAiB;YACzB,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC9C;;;;;QAGD,uCAAO;;;;QADP,UACQ,KAAiB;YACvB,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC5C;;oBA/RFO,cAAS,SAAC;wBACT,QAAQ,EAAE,WAAW;wBACrB,k2LAA6C;wBAE7C,eAAe,EAAEC,4BAAuB,CAAC,MAAM;;qBAChD;;;;oBA1BCC,eAAU;oBAKVC,oBAAe;oBAMR,wBAAwB;oBAExB,oBAAoB;oBAhBFC,sBAAiB;oBAS1CC,WAAM;;;kCAuBLC,gBAAW,SAAC,YAAY;4BAKxBC,UAAK;sCAGLA,UAAK;gCAGLA,UAAK;oCAGLA,UAAK;sCAGLA,UAAK;oCAGLA,UAAK;gCAGLA,UAAK;iCAGLA,UAAK;mCAGLA,UAAK;mCAGLC,WAAM;4CAOND,UAAK;+BAkNLE,iBAAY,SAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;2BAMnCA,iBAAY,SAAC,MAAM,EAAE,CAAC,QAAQ,CAAC;gCAW/BA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;gCAKpCA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;8BAKpCA,iBAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;;QAKrC,4BAAC;KAjSD,IAiSC;;;QApRC,sCACe;;QAEf,gDACuB;;QAEvB,0CACkB;;QAElB,8CAC6B;;QAE7B,gDACyB;;QAEzB,8CACsB;;QAEtB,0CACkB;;QAElB,2CACmB;;QAEnB,6CACqB;;QAErB,6CACkC;;;;;QAElC,2DAA0C;;QAS1C,0CAAuB;;QAEvB,kDAAqC;;QAErC,6CAA6B;;QAC7B,oDAA2C;;QAC3C,oDAA2C;;QAC3C,iDAAqC;;QACrC,uDAAiD;;QAEjD,2CAAmB;;QACnB,mDAA2B;;QAE3B,mDAAwC;;;;;QAExC,4CAEG;;;;;QAEH,4CAEG;;;;;QAEH,qDAA2D;;;;;QAE/C,2CAA2C;;;;;QAC3C,wCAAgC;;;;;QAChC,gDAAiD;;QACjD,mDAA+C;;;;;QAC/C,mCAA6B;;;;;QAC7B,qCAAoB;;;;;;;AC3GlC;QAeE,2BAAmB,UAAmC;YAAnC,eAAU,GAAV,UAAU,CAAyB;SACrD;;;;QAED,oCAAQ;;;QAAR;;gBACQ,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAChD,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;SAClD;;;;;QAGD,oCAAQ;;;;QADR,UACS,KAAgB;YACvB,OAAO,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACjE;;;;;QAGD,qCAAS;;;;QADT,UACU,KAAgB;YACxB,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;SAC3C;;;;;QAGD,gCAAI;;;;QADJ,UACK,KAAgB;YACnB,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACvD;;;;;QAGD,mCAAO;;;;QADP,UACQ,KAAgB;YACtB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACnC;;oBAtCFC,cAAS,SAAC;;wBAET,QAAQ,EAAE,aAAa;qBACxB;;;;oBANmBR,eAAU;;;gCAS3BK,UAAK;gCAGLA,UAAK;+BAWLE,iBAAY,SAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;gCAKnCA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;2BAKpCA,iBAAY,SAAC,MAAM,EAAE,CAAC,QAAQ,CAAC;8BAK/BA,iBAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;;QAKrC,wBAAC;KAxCD,IAwCC;;;QAlCC,sCACuB;;QAEvB,sCACuB;;QAEX,uCAA0C;;;;;;;;QCOtD,8BAAmB,UAAmC;YAAnC,eAAU,GAAV,UAAU,CAAyB;SACrD;;;;QAED,uCAAQ;;;QAAR;;gBACQ,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAChD,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpD,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBAClC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;gBAClC,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;YACD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5E;;;;;QAED,0CAAW;;;;QAAX,UAAY,OAAsB;;;gBAC5B,eAAe,GAAG,KAAK;;gBAC3B,KAAuB,IAAA,KAAAhB,SAAA,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA,gBAAA,4BAAE;oBAAxC,IAAM,QAAQ,WAAA;;wBACX,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC;oBAChC,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,YAAY,KAAK,MAAM,CAAC,aAAa,EAAE;wBACvE,IAAI,QAAQ,KAAK,oBAAoB,EAAE;4BACrC,eAAe,GAAG,IAAI,CAAC;yBACxB;qBACF;iBACF;;;;;;;;;YACD,IAAI,eAAe,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBACrD,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;SACF;;;;;QAEO,mDAAoB;;;;QAA5B;;gBACQ,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAChD,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,kBAAkB,EAAE;gBAC9C,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;aACjD;iBAAM;gBACL,OAAO,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;aACpD;SACF;;;;;QAGD,uCAAQ;;;;QADR,UACS,KAAgB;;;;;SAKxB;;;;;QAGD,mCAAI;;;;QADJ,UACK,KAAgB;YACnB,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBAClC,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aACvD;SACF;;;;;QAGD,sCAAO;;;;QADP,UACQ,KAAgB;YACtB,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBAClC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aACnC;SACF;;;;;QAGD,wCAAS;;;;QADT,UACU,KAAgB;YACxB,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBAClC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aACrD;SACF;;;;;QAGD,yCAAU;;;;QADV,UACW,KAAiB;YAC1B,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBAClC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aAC3D;SACF;;;;;QAGD,yCAAU;;;;QADV,UACW,KAAiB;YAC1B,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;gBAClC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aAC3D;SACF;;oBAhGFiB,cAAS,SAAC;;wBAET,QAAQ,EAAE,gBAAgB;qBAC3B;;;;oBAPmBR,eAAU;;;gCAU3BK,UAAK;mCAGLA,UAAK;gCAGLA,UAAK;yCAGLA,UAAK;+BAwCLE,iBAAY,SAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;2BAQnCA,iBAAY,SAAC,MAAM,EAAE,CAAC,QAAQ,CAAC;8BAO/BA,iBAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;gCAOlCA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;iCAOpCA,iBAAY,SAAC,YAAY,EAAE,CAAC,QAAQ,CAAC;iCAOrCA,iBAAY,SAAC,YAAY,EAAE,CAAC,QAAQ,CAAC;;QAOxC,2BAAC;KAlGD,IAkGC;;;QA5FC,yCACuB;;QAEvB,4CAC6B;;QAE7B,yCACuB;;QAEvB,kDACgC;;QAEpB,0CAA0C;;;;;;;;QCuDtD,kCAAsD,mBAA0C,EAC5E,UAAmC,EACnC,wBAAkD;YAFhB,wBAAmB,GAAnB,mBAAmB,CAAuB;YAC5E,eAAU,GAAV,UAAU,CAAyB;YACnC,6BAAwB,GAAxB,wBAAwB,CAA0B;SACrE;QAtBD,sBACI,4CAAM;;;;YADV;gBAEE,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;aACrB;;;WAAA;QAED,sBACI,yCAAG;;;;YADP;gBAEE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;aAC3B;;;WAAA;QAED,sBACI,0CAAI;;;;YADR;gBAEE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;aAC3B;;;WAAA;;;;QAWD,2CAAQ;;;QAAR;YACE,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;gBAC3B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;aAC7B;YACD,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ;;;YAAK,eAAQ,EAAC,CAAC;YAChF,IAAI,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW;;;YAAK,eAAQ,EAAC,CAAC;YACtF,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS;;;YAAK,eAAQ,EAAC,CAAC;YAClF,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU;;;YAAK,eAAQ,EAAC,CAAC;YACpF,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU;;;YAAK,eAAQ,EAAC,CAAC;;gBAE9E,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAChD,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACvB,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;aACnC;YACD,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC;;gBAC5B,gBAAgB,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;;gBACpH,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,gBAAgB,CAAC;YAChF,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC,QAAQ,CAAC;YAC3C,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAC9C,IAAI,CAAC,aAAa,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;YAC9D,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACpD,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;;;;;QAED,8CAAW;;;;QAAX,UAAY,OAAsB;;;gBAC5B,UAAU,GAAG,KAAK;;gBACtB,KAAuB,IAAA,KAAAhB,SAAA,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA,gBAAA,4BAAE;oBAAxC,IAAM,QAAQ,WAAA;;wBACX,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC;oBAChC,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,YAAY,KAAK,MAAM,CAAC,aAAa,EAAE;wBACvE,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,oBAAoB,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;4BAC3F,UAAU,GAAG,IAAI,CAAC;yBACnB;qBACF;iBACF;;;;;;;;;YACD,IAAI,UAAU,EAAE;gBACd,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC5B;SACF;;;;;QAEO,kDAAe;;;;QAAvB;;gBACQ,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,kBAAkB,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3E,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACnE,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,kBAAkB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAC1E,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,kBAAkB,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC5E;;;;;QAEO,sDAAmB;;;;QAA3B;YACE,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5C,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAChD,IAAI,CAAC,aAAa,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;YAChE,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;SAC7C;;;;;;;;QAEO,8CAAW;;;;;;;QAAnB,UAAoB,OAA4B,EAAE,KAAa,EAAE,GAAY;YAC3E,IAAI,GAAG,EAAE;gBACP,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACzB;iBAAM;gBACL,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC5B;SACF;;;;;QAGD,4CAAS;;;;QADT,UACU,KAAiB;YACzB,KAAK,CAAC,eAAe,EAAE,CAAC;SACzB;;;;;QAGD,4CAAS;;;;QADT,UACU,KAAgB;YACxB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aAChD;SACF;;;;;QAGD,0CAAO;;;;QADP,UACQ,KAAgB;YACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aACnC;SACF;;;;;QAGD,wCAAK;;;;QADL,UACM,KAAiB;YACrB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9C;SACF;;;;;QAGD,4CAAS;;;;QADT,UACU,KAAiB;YACzB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aAChD;SACF;;;;;QAGD,2CAAQ;;;;QADR,UACS,KAAiB;YACxB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/C;SACF;;oBApKFO,cAAS,SAAC;wBACT,QAAQ,EAAE,SAAS;wBACnB,QAAQ,EAAE,0CAA0C;;qBAErD;;;;oDAiDcW,WAAM,SAAC,wBAAwB;oBA1E5CT,eAAU;oBADVU,6BAAwB;;;gCA6BvBL,UAAK;wCAGLA,UAAK;2BAGLA,UAAK;+BAGLA,UAAK;2BAGLA,UAAK;iCAGLA,UAAK;yCAGLA,UAAK;mCAGLA,UAAK;+BAGLA,UAAK;6BAGLD,gBAAW,SAAC,SAAS;0BAKrBA,gBAAW,SAAC,WAAW;2BAKvBA,gBAAW,SAAC,YAAY;2CAOxBO,cAAS,SAAC,aAAa,EAAE,EAAC,IAAI,EAAEC,qBAAgB,EAAE,MAAM,EAAE,IAAI,EAAC;gCA2E/DL,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;gCAKpCA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;8BAOpCA,iBAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;4BAOlCA,iBAAY,SAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;gCAOhCA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;+BAOpCA,iBAAY,SAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;;QAOtC,+BAAC;KAtKD,IAsKC;;;QA/JC,6CACuB;;QAEvB,qDACqC;;QAErC,wCACa;;QAEb,4CACkB;;QAElB,wCACc;;QAEd,8CACoB;;QAEpB,sDACgC;;QAEhC,gDAC6B;;QAE7B,4CACkB;;QAiBlB,iDAA+B;;QAE/B,wDAAyG;;;;;QAE7F,uDAAoF;;;;;QACpF,8CAA2C;;;;;QAC3C,4DAA0D;;;;;AAiHxE;QAAA;YA6BE,uBAAkB,GAAG,kBAAkB,CAAC;SAKzC;;;;QAHC,kCAAQ;;;QAAR;SACC;;gCA9BAF,UAAK;wCAGLA,UAAK;2BAGLA,UAAK;+BAGLA,UAAK;2BAGLA,UAAK;iCAGLA,UAAK;yCAGLA,UAAK;mCAGLA,UAAK;+BAGLA,UAAK;;QAQR,sBAAC;KAlCD,IAkCC;;;QAhCC,oCACuB;;QAEvB,4CACqC;;QAErC,+BACa;;QAEb,mCACkB;;QAElB,+BACc;;QAEd,qCACoB;;QAEpB,6CACgC;;QAEhC,uCAC6B;;QAE7B,mCACkB;;QAElB,6CAAwC;;;;;;;;QCrNEf,0CAAe;QAEzD;mBACE,iBAAO;SACR;;oBATFQ,cAAS,SAAC;wBACT,QAAQ,EAAE,iBAAiB;wBAC3B,8hDAA4C;;qBAE7C;;;;QAOD,6BAAC;KAAA,CAN2C,eAAe;;;;;;ICR3D,WAyBgB;QACR,iBAAiB,EAAE,sBAAsB;KAC1C;AAhBP;QAAA;SA2BmC;;oBA3BlCe,aAAQ,SAAC;wBACR,eAAe,EAAE;4BACf,sBAAsB;yBACvB;wBACD,YAAY,EAAE,CAAC,qBAAqB;4BAClC,iBAAiB;4BACjB,oBAAoB;4BACpB,wBAAwB;4BACxB,sBAAsB,CAAC;wBACzB,SAAS,EAAE;4BACT,wBAAwB;4BACxB,oBAAoB;4BACpB;gCACE,OAAO,EAAE,wBAAwB;gCACjC,QAAQ,MAEP;6BACF;yBACF;wBACD,OAAO,EAAE;4BACPC,mBAAY;yBACb;wBACD,OAAO,EAAE,CAAC,qBAAqB;4BAC7B,iBAAiB;4BACjB,oBAAoB;4BACpB,sBAAsB,CAAC;qBAC1B;;QACiC,yBAAC;KA3BnC;;;;;;;;;;;;;;;;;;;;;;;;"}
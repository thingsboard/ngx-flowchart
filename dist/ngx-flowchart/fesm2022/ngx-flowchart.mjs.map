{"version":3,"file":"ngx-flowchart.mjs","sources":["../../../projects/ngx-flowchart/src/lib/ngx-flowchart.models.ts","../../../projects/ngx-flowchart/src/lib/model.service.ts","../../../projects/ngx-flowchart/src/lib/modelvalidation.service.ts","../../../projects/ngx-flowchart/src/lib/node-dragging.service.ts","../../../projects/ngx-flowchart/src/lib/edge-drawing.service.ts","../../../projects/ngx-flowchart/src/lib/edge-dragging.service.ts","../../../projects/ngx-flowchart/src/lib/mouseover.service.ts","../../../projects/ngx-flowchart/src/lib/scrollparent.ts","../../../projects/ngx-flowchart/src/lib/rectangleselect.service.ts","../../../projects/ngx-flowchart/src/lib/node.component.ts","../../../projects/ngx-flowchart/src/lib/ngx-flowchart.component.ts","../../../projects/ngx-flowchart/src/lib/ngx-flowchart.component.html","../../../projects/ngx-flowchart/src/lib/magnet.directive.ts","../../../projects/ngx-flowchart/src/lib/connector.directive.ts","../../../projects/ngx-flowchart/src/lib/default-node.component.ts","../../../projects/ngx-flowchart/src/lib/default-node.component.html","../../../projects/ngx-flowchart/src/lib/ngx-flowchart.module.ts","../../../projects/ngx-flowchart/src/public-api.ts","../../../projects/ngx-flowchart/src/ngx-flowchart.ts"],"sourcesContent":["import { Observable } from 'rxjs';\nimport { InjectionToken, Type } from '@angular/core';\nimport { FcNodeComponent } from './node.component';\n\nexport const FC_NODE_COMPONENT_CONFIG = new InjectionToken<FcNodeComponentConfig>('fc-node.component.config');\n\nexport interface FcNodeComponentConfig {\n  nodeComponentType: Type<FcNodeComponent>;\n}\n\nconst htmlPrefix = 'fc';\nconst leftConnectorType = 'leftConnector';\nconst rightConnectorType = 'rightConnector';\n\nexport const FlowchartConstants = {\n  htmlPrefix,\n  leftConnectorType,\n  rightConnectorType,\n  curvedStyle: 'curved',\n  lineStyle: 'line',\n  dragAnimationRepaint: 'repaint',\n  dragAnimationShadow: 'shadow',\n  canvasClass: htmlPrefix + '-canvas',\n  selectedClass: htmlPrefix + '-selected',\n  editClass: htmlPrefix + '-edit',\n  activeClass: htmlPrefix + '-active',\n  hoverClass: htmlPrefix + '-hover',\n  draggingClass: htmlPrefix + '-dragging',\n  edgeClass: htmlPrefix + '-edge',\n  edgeLabelClass: htmlPrefix + '-edge-label',\n  connectorClass: htmlPrefix + '-connector',\n  magnetClass: htmlPrefix + '-magnet',\n  nodeClass: htmlPrefix + '-node',\n  nodeOverlayClass: htmlPrefix + '-node-overlay',\n  leftConnectorClass: htmlPrefix + '-' + leftConnectorType + 's',\n  rightConnectorClass: htmlPrefix + '-' + rightConnectorType + 's',\n  canvasResizeThreshold: 200,\n  canvasResizeStep: 200\n};\n\n\nexport interface FcCoords {\n  x?: number;\n  y?: number;\n}\n\nexport interface FcRectBox {\n  top: number;\n  left: number;\n  right: number;\n  bottom: number;\n}\n\nexport interface FcConnector {\n  id: string;\n  type: string;\n}\n\nexport interface FcNode extends FcCoords {\n  id: string;\n  name: string;\n  connectors: Array<FcConnector>;\n  readonly?: boolean;\n  [key: string]: any;\n}\n\nexport interface FcNodeRectInfo {\n  width(): number;\n  height(): number;\n  top(): number;\n  left(): number;\n  right(): number;\n  bottom(): number;\n}\n\nexport interface FcConnectorRectInfo {\n  type: string;\n  width: number;\n  height: number;\n  nodeRectInfo: FcNodeRectInfo;\n}\n\nexport interface FcEdge {\n  label?: string;\n  source?: string;\n  destination?: string;\n  active?: boolean;\n}\n\nexport interface FcItemInfo {\n  node?: FcNode;\n  edge?: FcEdge;\n}\n\nexport interface FcModel {\n  nodes: Array<FcNode>;\n  edges: Array<FcEdge>;\n}\n\nexport interface UserCallbacks {\n  dropNode?: (event: Event, node: FcNode) => void;\n  createEdge?: (event: Event, edge: FcEdge) => Observable<FcEdge>;\n  edgeAdded?: (edge: FcEdge) => void;\n  nodeRemoved?: (node: FcNode) => void;\n  edgeRemoved?: (edge: FcEdge) => void;\n  edgeDoubleClick?: (event: MouseEvent, edge: FcEdge) => void;\n  edgeMouseOver?: (event: MouseEvent, edge: FcEdge) => void;\n  isValidEdge?: (source: FcConnector, destination: FcConnector) => boolean;\n  edgeEdit?: (event: Event, edge: FcEdge) => void;\n  nodeCallbacks?: UserNodeCallbacks;\n}\n\nexport interface UserNodeCallbacks {\n  nodeEdit?: (event: MouseEvent, node: FcNode) => void;\n  doubleClick?: (event: MouseEvent, node: FcNode) => void;\n  mouseDown?: (event: MouseEvent, node: FcNode) => void;\n  mouseEnter?: (event: MouseEvent, node: FcNode) => void;\n  mouseLeave?: (event: MouseEvent, node: FcNode) => void;\n}\n\nexport interface FcCallbacks {\n  nodeDragstart: (event: Event | any, node: FcNode) => void;\n  nodeDragend: (event: Event | any) => void;\n  edgeDragstart: (event: Event | any, connector: FcConnector) => void;\n  edgeDragend: (event: Event | any) => void;\n  edgeDrop: (event: Event | any, targetConnector: FcConnector) => boolean;\n  edgeDragoverConnector: (event: Event | any, connector: FcConnector) => boolean;\n  edgeDragoverMagnet: (event: Event | any, connector: FcConnector) => boolean;\n  edgeDragleaveMagnet: (event: Event | any) => void;\n  nodeMouseOver: (event: MouseEvent, node: FcNode) => void;\n  nodeMouseOut: (event: MouseEvent, node: FcNode) => void;\n  connectorMouseEnter: (event: MouseEvent, connector: FcConnector) => void;\n  connectorMouseLeave: (event: MouseEvent, connector: FcConnector) => void;\n  nodeClicked: (event: MouseEvent, node: FcNode) => void;\n}\n\nexport interface FcAdjacentList {\n  [id: string]: {\n    incoming: number;\n    outgoing: Array<string>;\n  };\n}\n\nclass BaseError {\n  constructor(...args: unknown[]) {\n    Error.apply(this, ...args);\n  }\n}\n\nObject.defineProperty(BaseError, 'prototype', new Error());\n\nexport class ModelvalidationError extends BaseError {\n  constructor(public message: string) {\n    super();\n  }\n}\n\nexport const fcTopSort = (graph: FcModel): Array<string> | null => {\n  const adjacentList: FcAdjacentList = {};\n  graph.nodes.forEach((node) => {\n    adjacentList[node.id] = {incoming: 0, outgoing: []};\n  });\n  graph.edges.forEach((edge) => {\n    const sourceNode = graph.nodes.filter((node) => node.connectors.some((connector) => connector.id === edge.source))[0];\n    const destinationNode = graph.nodes.filter((node) => node.connectors.some((connector) => connector.id === edge.destination))[0];\n    adjacentList[sourceNode.id].outgoing.push(destinationNode.id);\n    adjacentList[destinationNode.id].incoming++;\n  });\n  const orderedNodes: string[] = [];\n  const sourceNodes: string[] = [];\n  for (const node of Object.keys(adjacentList)) {\n    const edges = adjacentList[node];\n    if (edges.incoming === 0) {\n      sourceNodes.push(node);\n    }\n  }\n  while (sourceNodes.length !== 0) {\n    const sourceNode = sourceNodes.pop();\n    for (let i = 0; i < adjacentList[sourceNode].outgoing.length; i++) {\n      const destinationNode = adjacentList[sourceNode].outgoing[i];\n      adjacentList[destinationNode].incoming--;\n      if (adjacentList[destinationNode].incoming === 0) {\n        sourceNodes.push(destinationNode);\n      }\n      adjacentList[sourceNode].outgoing.splice(i, 1);\n      i--;\n    }\n    orderedNodes.push(sourceNode);\n  }\n  let hasEdges = false;\n  for (const node of Object.keys(adjacentList)) {\n    const edges = adjacentList[node];\n    if (edges.incoming !== 0) {\n      hasEdges = true;\n    }\n  }\n  if (hasEdges) {\n    return null;\n  } else {\n    return orderedNodes;\n  }\n};\n","import { FcModelValidationService } from './modelvalidation.service';\nimport {\n  FcConnector,\n  FcConnectorRectInfo,\n  FcCoords,\n  FcEdge,\n  FcItemInfo,\n  FcModel,\n  FcNode,\n  FcRectBox,\n  FlowchartConstants\n} from './ngx-flowchart.models';\nimport { Observable, of, Subject } from 'rxjs';\nimport { EventEmitter } from '@angular/core';\nimport { debounceTime } from 'rxjs/operators';\n\ninterface HtmlElementMap { [id: string]: HTMLElement }\n\ninterface ConnectorRectInfoMap { [id: string]: FcConnectorRectInfo }\n\nabstract class AbstractFcModel<T> {\n\n  modelService: FcModelService;\n\n  protected constructor(modelService: FcModelService) {\n    this.modelService = modelService;\n  }\n\n  public select(object: T) {\n    this.modelService.selectObject(object);\n  }\n\n  public deselect(object: T) {\n    this.modelService.deselectObject(object);\n  }\n\n  public toggleSelected(object: T) {\n    this.modelService.toggleSelectedObject(object);\n  }\n\n  public isSelected(object: T): boolean {\n    return this.modelService.isSelectedObject(object);\n  }\n\n  public isEdit(object: T): boolean {\n    return this.modelService.isEditObject(object);\n  }\n}\n\nclass ConnectorsModel extends AbstractFcModel<FcConnector> {\n\n  constructor(modelService: FcModelService) {\n    super(modelService);\n  }\n\n  public getConnector(connectorId: string): FcConnector {\n    const model = this.modelService.model;\n    for (const node of model.nodes) {\n      for (const connector of node.connectors) {\n        if (connector.id === connectorId) {\n          return connector;\n        }\n      }\n    }\n  }\n\n  public getConnectorRectInfo(connectorId: string): FcConnectorRectInfo {\n    return this.modelService.connectorsRectInfos[connectorId];\n  }\n\n  public setConnectorRectInfo(connectorId: string, connectorRectInfo: FcConnectorRectInfo) {\n    this.modelService.connectorsRectInfos[connectorId] = connectorRectInfo;\n    this.modelService.detectChanges();\n  }\n\n  private _getCoords(connectorId: string, centered?: boolean): FcCoords {\n    const connectorRectInfo = this.getConnectorRectInfo(connectorId);\n    const canvas = this.modelService.canvasHtmlElement;\n    if (connectorRectInfo === null || connectorRectInfo === undefined || canvas === null) {\n      return {x: 0, y: 0};\n    }\n    let x = connectorRectInfo.type === FlowchartConstants.leftConnectorType ?\n      connectorRectInfo.nodeRectInfo.left() : connectorRectInfo.nodeRectInfo.right();\n    let y = connectorRectInfo.nodeRectInfo.top() + connectorRectInfo.nodeRectInfo.height() / 2;\n    if (!centered) {\n      x -= connectorRectInfo.width / 2;\n      y -= connectorRectInfo.height / 2;\n    }\n    return {\n      x: Math.round(x),\n      y: Math.round(y)\n    };\n  }\n\n  public getCoords(connectorId: string): FcCoords {\n    return this._getCoords(connectorId, false);\n  }\n\n  public getCenteredCoord(connectorId: string): FcCoords {\n    return this._getCoords(connectorId, true);\n  }\n}\n\nclass NodesModel extends AbstractFcModel<FcNode> {\n\n  constructor(modelService: FcModelService) {\n    super(modelService);\n  }\n\n  public getConnectorsByType(node: FcNode, type: string): Array<FcConnector> {\n    return node.connectors.filter((connector) => connector.type === type);\n  }\n\n  private _addConnector(node: FcNode, connector: FcConnector) {\n    node.connectors.push(connector);\n    try {\n      this.modelService.modelValidation.validateNode(node);\n    } catch (error) {\n      node.connectors.splice(node.connectors.indexOf(connector), 1);\n      throw error;\n    }\n  }\n\n  public delete(node: FcNode) {\n    if (this.isSelected(node)) {\n      this.deselect(node);\n    }\n    const model = this.modelService.model;\n    const index = model.nodes.indexOf(node);\n    if (index === -1) {\n      if (node === undefined) {\n        throw new Error('Passed undefined');\n      }\n      throw new Error('Tried to delete not existing node');\n    }\n    const connectorIds = this.getConnectorIds(node);\n    for (let i = 0; i < model.edges.length; i++) {\n      const edge = model.edges[i];\n      if (connectorIds.indexOf(edge.source) !== -1 || connectorIds.indexOf(edge.destination) !== -1) {\n        this.modelService.edges.delete(edge);\n        i--;\n      }\n    }\n    model.nodes.splice(index, 1);\n    this.modelService.notifyModelChanged();\n    this.modelService.nodeRemovedCallback(node);\n  }\n\n  public getSelectedNodes(): Array<FcNode> {\n    const model = this.modelService.model;\n    return model.nodes.filter((node) => this.modelService.nodes.isSelected(node));\n  }\n\n  public handleClicked(node: FcNode, ctrlKey?: boolean) {\n    if (ctrlKey) {\n      this.modelService.nodes.toggleSelected(node);\n    } else {\n      this.modelService.deselectAll();\n      this.modelService.nodes.select(node);\n    }\n  }\n\n  private _addNode(node: FcNode) {\n    const model = this.modelService.model;\n    try {\n      model.nodes.push(node);\n      this.modelService.modelValidation.validateNodes(model.nodes);\n    } catch (error) {\n      model.nodes.splice(model.nodes.indexOf(node), 1);\n      throw error;\n    }\n  }\n\n  public getConnectorIds(node: FcNode): Array<string> {\n    return node.connectors.map((connector) => connector.id);\n  }\n\n  public getNodeByConnectorId(connectorId: string): FcNode {\n    const model = this.modelService.model;\n    for (const node of model.nodes) {\n      const connectorIds = this.getConnectorIds(node);\n      if (connectorIds.indexOf(connectorId) > -1) {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  public getHtmlElement(nodeId: string): HTMLElement {\n    return this.modelService.nodesHtmlElements[nodeId];\n  }\n\n  public setHtmlElement(nodeId: string, element: HTMLElement) {\n    this.modelService.nodesHtmlElements[nodeId] = element;\n    this.modelService.detectChanges();\n  }\n\n}\n\nclass EdgesModel extends AbstractFcModel<FcEdge> {\n\n  constructor(modelService: FcModelService) {\n    super(modelService);\n  }\n\n  public sourceCoord(edge: FcEdge): FcCoords {\n    return this.modelService.connectors.getCenteredCoord(edge.source);\n  }\n\n  public destCoord(edge: FcEdge): FcCoords {\n    return this.modelService.connectors.getCenteredCoord(edge.destination);\n  }\n\n  public delete(edge: FcEdge) {\n    const model = this.modelService.model;\n    const index = model.edges.indexOf(edge);\n    if (index === -1) {\n      throw new Error('Tried to delete not existing edge');\n    }\n    if (this.isSelected(edge)) {\n      this.deselect(edge);\n    }\n    model.edges.splice(index, 1);\n    this.modelService.notifyModelChanged();\n    this.modelService.edgeRemovedCallback(edge);\n  }\n\n  public getSelectedEdges(): Array<FcEdge> {\n    const model = this.modelService.model;\n    return model.edges.filter((edge) => this.modelService.edges.isSelected(edge));\n  }\n\n  public handleEdgeMouseClick(edge: FcEdge, ctrlKey?: boolean) {\n    if (ctrlKey) {\n      this.modelService.edges.toggleSelected(edge);\n    } else {\n      this.modelService.deselectAll();\n      this.modelService.edges.select(edge);\n    }\n  }\n\n  public putEdge(edge: FcEdge) {\n    const model = this.modelService.model;\n    model.edges.push(edge);\n    this.modelService.notifyModelChanged();\n  }\n\n  public _addEdge(event: Event, sourceConnector: FcConnector, destConnector: FcConnector, label: string) {\n    this.modelService.modelValidation.validateConnector(sourceConnector);\n    this.modelService.modelValidation.validateConnector(destConnector);\n    const edge: FcEdge = {};\n    edge.source = sourceConnector.id;\n    edge.destination = destConnector.id;\n    edge.label = label;\n    const model = this.modelService.model;\n    this.modelService.modelValidation.validateEdges(model.edges.concat([edge]), model.nodes);\n    this.modelService.createEdge(event, edge).subscribe(\n      (created) => {\n        model.edges.push(created);\n        this.modelService.notifyModelChanged();\n        this.modelService.edgeAddedCallback(created);\n      }\n    );\n  }\n}\nexport class FcModelService {\n\n  modelValidation: FcModelValidationService;\n  model: FcModel;\n  private readonly detectChangesSubject: Subject<any>;\n  selectedObjects: any[];\n\n  connectorsRectInfos: ConnectorRectInfoMap = {};\n  nodesHtmlElements: HtmlElementMap = {};\n  canvasHtmlElement: HTMLElement = null;\n  dragImage: HTMLImageElement = null;\n  svgHtmlElement: SVGElement = null;\n\n  dropNode: (event: Event, node: FcNode) => void;\n  createEdge: (event: Event, edge: FcEdge) => Observable<FcEdge>;\n  edgeAddedCallback: (edge: FcEdge) => void;\n  nodeRemovedCallback: (node: FcNode) => void;\n  edgeRemovedCallback: (edge: FcEdge) => void;\n\n  dropTargetId: string;\n\n  private readonly modelChanged: EventEmitter<any>;\n  private readonly debouncer = new Subject<any>();\n\n  connectors: ConnectorsModel;\n  nodes: NodesModel;\n  edges: EdgesModel;\n\n  constructor(modelValidation: FcModelValidationService,\n              model: FcModel,\n              modelChanged: EventEmitter<any>,\n              detectChangesSubject: Subject<any>,\n              selectedObjects: any[],\n              dropNode: (event: Event, node: FcNode) => void,\n              createEdge: (event: Event, edge: FcEdge) => Observable<FcEdge>,\n              edgeAddedCallback: (edge: FcEdge) => void,\n              nodeRemovedCallback: (node: FcNode) => void,\n              edgeRemovedCallback: (edge: FcEdge) => void,\n              canvasHtmlElement: HTMLElement,\n              svgHtmlElement: SVGElement) {\n\n    this.modelValidation = modelValidation;\n    this.model = model;\n    this.modelChanged = modelChanged;\n    this.detectChangesSubject = detectChangesSubject;\n    this.canvasHtmlElement = canvasHtmlElement;\n    this.svgHtmlElement = svgHtmlElement;\n    this.modelValidation.validateModel(this.model);\n    this.selectedObjects = selectedObjects;\n\n    this.dropNode = dropNode || (() => {});\n    this.createEdge = createEdge || ((event, edge) => of({...edge, label: 'label'}));\n    this.edgeAddedCallback = edgeAddedCallback || (() => {});\n    this.nodeRemovedCallback = nodeRemovedCallback || (() => {});\n    this.edgeRemovedCallback = edgeRemovedCallback || (() => {});\n\n    this.connectors = new ConnectorsModel(this);\n    this.nodes = new NodesModel(this);\n    this.edges = new EdgesModel(this);\n\n    this.debouncer\n      .pipe(debounceTime(100))\n      .subscribe(() => this.modelChanged.emit());\n  }\n\n  public notifyModelChanged() {\n    this.debouncer.next(null);\n  }\n\n  public detectChanges() {\n    setTimeout(() => {\n      this.detectChangesSubject.next(null);\n    }, 0);\n  }\n\n  public selectObject(object: any) {\n    if (this.isEditable()) {\n      if (this.selectedObjects.indexOf(object) === -1) {\n        this.selectedObjects.push(object);\n      }\n    }\n  }\n\n  public deselectObject(object: any) {\n    if (this.isEditable()) {\n      const index = this.selectedObjects.indexOf(object);\n      if (index === -1) {\n        throw new Error('Tried to deselect an unselected object');\n      }\n      this.selectedObjects.splice(index, 1);\n    }\n  }\n\n  public toggleSelectedObject(object: any) {\n    if (this.isSelectedObject(object)) {\n      this.deselectObject(object);\n    } else {\n      this.selectObject(object);\n    }\n  }\n\n  public isSelectedObject(object: any): boolean {\n    return this.selectedObjects.indexOf(object) !== -1;\n  }\n\n  public selectAll() {\n    this.model.nodes.forEach(node => {\n      if (!node.readonly) {\n        this.nodes.select(node);\n      }\n    });\n    this.model.edges.forEach(edge => {\n      this.edges.select(edge);\n    });\n    this.detectChanges();\n  }\n\n  public deselectAll() {\n    this.selectedObjects.splice(0, this.selectedObjects.length);\n    this.detectChanges();\n  }\n\n  public isEditObject(object: any): boolean {\n    return this.selectedObjects.length === 1 &&\n      this.selectedObjects.indexOf(object) !== -1;\n  }\n\n  private inRectBox(x: number, y: number, rectBox: FcRectBox): boolean {\n    return x >= rectBox.left && x <= rectBox.right &&\n      y >= rectBox.top && y <= rectBox.bottom;\n  }\n\n  public getItemInfoAtPoint(x: number, y: number): FcItemInfo {\n    return {\n      node: this.getNodeAtPoint(x, y),\n      edge: this.getEdgeAtPoint(x, y)\n    };\n  }\n\n  public getNodeAtPoint(x: number, y: number): FcNode {\n    for (const node of this.model.nodes) {\n      const element = this.nodes.getHtmlElement(node.id);\n      const nodeElementBox = element.getBoundingClientRect();\n      if (x >= nodeElementBox.left && x <= nodeElementBox.right\n        && y >= nodeElementBox.top && y <= nodeElementBox.bottom) {\n        return node;\n      }\n    }\n    return null;\n  }\n\n  public getEdgeAtPoint(x: number, y: number): FcEdge {\n    const element = document.elementFromPoint(x, y);\n    const id = element.id;\n    let edgeIndex = -1;\n    if (id) {\n      if (id.startsWith('fc-edge-path-')) {\n        edgeIndex = Number(id.substring('fc-edge-path-'.length));\n      } else if (id.startsWith('fc-edge-label-')) {\n        edgeIndex = Number(id.substring('fc-edge-label-'.length));\n      }\n    }\n    if (edgeIndex > -1) {\n      return this.model.edges[edgeIndex];\n    }\n    return null;\n  }\n\n  public selectAllInRect(rectBox: FcRectBox) {\n    this.model.nodes.forEach((value) => {\n      const element = this.nodes.getHtmlElement(value.id);\n      const nodeElementBox = element.getBoundingClientRect();\n      if (!value.readonly) {\n        const x = nodeElementBox.left + nodeElementBox.width / 2;\n        const y = nodeElementBox.top + nodeElementBox.height / 2;\n        if (this.inRectBox(x, y, rectBox)) {\n          this.nodes.select(value);\n        } else {\n          if (this.nodes.isSelected(value)) {\n            this.nodes.deselect(value);\n          }\n        }\n      }\n    });\n    const canvasElementBox = this.canvasHtmlElement.getBoundingClientRect();\n    this.model.edges.forEach((value) => {\n      const start = this.edges.sourceCoord(value);\n      const end = this.edges.destCoord(value);\n      const x = (start.x + end.x) / 2 + canvasElementBox.left;\n      const y = (start.y + end.y) / 2 + canvasElementBox.top;\n      if (this.inRectBox(x, y, rectBox)) {\n        this.edges.select(value);\n      } else {\n        if (this.edges.isSelected(value)) {\n          this.edges.deselect(value);\n        }\n      }\n    });\n  }\n\n  public deleteSelected() {\n    const edgesToDelete = this.edges.getSelectedEdges();\n    edgesToDelete.forEach((edge) => {\n      this.edges.delete(edge);\n    });\n    const nodesToDelete = this.nodes.getSelectedNodes();\n    nodesToDelete.forEach((node) => {\n      this.nodes.delete(node);\n    });\n  }\n\n  public isEditable(): boolean {\n    return this.dropTargetId === undefined;\n  }\n\n  public isDropSource(): boolean {\n    return this.dropTargetId !== undefined;\n  }\n\n  public getDragImage(): HTMLImageElement {\n    if (!this.dragImage) {\n      this.dragImage = new Image();\n      this.dragImage.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n      this.dragImage.style.visibility = 'hidden';\n    }\n    return this.dragImage;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FcConnector, FcEdge, FcModel, FcNode, fcTopSort, ModelvalidationError } from './ngx-flowchart.models';\n\n@Injectable()\nexport class FcModelValidationService {\n\n  public validateModel(model: FcModel): FcModel {\n    this.validateNodes(model.nodes);\n    this._validateEdges(model.edges, model.nodes);\n    return model;\n  }\n\n  public validateNodes(nodes: Array<FcNode>): Array<FcNode> {\n    const ids: string[] = [];\n    nodes.forEach((node) => {\n      this.validateNode(node);\n      if (ids.indexOf(node.id) !== -1) {\n        throw new ModelvalidationError('Id not unique.');\n      }\n      ids.push(node.id);\n    });\n    const connectorIds: string[] = [];\n    nodes.forEach((node) => {\n      node.connectors.forEach((connector) => {\n        if (connectorIds.indexOf(connector.id) !== -1) {\n          throw new ModelvalidationError('Id not unique.');\n        }\n        connectorIds.push(connector.id);\n      });\n    });\n    return nodes;\n  }\n\n  public validateNode(node: FcNode): FcNode {\n    if (node.id === undefined) {\n      throw new ModelvalidationError('Id not valid.');\n    }\n    if (typeof node.name !== 'string') {\n      throw new ModelvalidationError('Name not valid.');\n    }\n    if (typeof node.x !== 'number' || node.x < 0 || Math.round(node.x) !== node.x) {\n      throw new ModelvalidationError('Coordinates not valid.');\n    }\n    if (typeof node.y !== 'number' || node.y < 0 || Math.round(node.y) !== node.y) {\n      throw new ModelvalidationError('Coordinates not valid.');\n    }\n    if (!Array.isArray(node.connectors)) {\n      throw new ModelvalidationError('Connectors not valid.');\n    }\n    node.connectors.forEach((connector) => {\n      this.validateConnector(connector);\n    });\n    return node;\n  }\n\n  private _validateEdges(edges: Array<FcEdge>, nodes: Array<FcNode>): Array<FcEdge> {\n    edges.forEach((edge) => {\n      this._validateEdge(edge, nodes);\n    });\n    edges.forEach((edge1, index1) => {\n      edges.forEach((edge2, index2) => {\n        if (index1 !== index2) {\n          if ((edge1.source === edge2.source && edge1.destination === edge2.destination) ||\n            (edge1.source === edge2.destination && edge1.destination === edge2.source)) {\n            throw new ModelvalidationError('Duplicated edge.');\n          }\n        }\n      });\n    });\n    if (fcTopSort({nodes, edges}) === null) {\n      throw new ModelvalidationError('Graph has a circle.');\n    }\n    return edges;\n  }\n\n  public validateEdges(edges: Array<FcEdge>, nodes: Array<FcNode>): Array<FcEdge> {\n    this.validateNodes(nodes);\n    return this._validateEdges(edges, nodes);\n  }\n\n  private _validateEdge(edge: FcEdge, nodes: Array<FcNode>): FcEdge {\n    if (edge.source === undefined) {\n      throw new ModelvalidationError('Source not valid.');\n    }\n    if (edge.destination === undefined) {\n      throw new ModelvalidationError('Destination not valid.');\n    }\n    if (edge.source === edge.destination) {\n      throw new ModelvalidationError('Edge with same source and destination connectors.');\n    }\n    const sourceNode = nodes.filter((node) => node.connectors.some((connector) => connector.id === edge.source))[0];\n    if (sourceNode === undefined) {\n      throw new ModelvalidationError('Source not valid.');\n    }\n    const destinationNode = nodes.filter((node) => node.connectors.some((connector) => connector.id === edge.destination))[0];\n    if (destinationNode === undefined) {\n      throw new ModelvalidationError('Destination not valid.');\n    }\n    if (sourceNode === destinationNode) {\n      throw new ModelvalidationError('Edge with same source and destination nodes.');\n    }\n    return edge;\n  }\n\n  public validateEdge(edge: FcEdge, nodes: Array<FcNode>): FcEdge {\n    this.validateNodes(nodes);\n    return this._validateEdge(edge, nodes);\n  }\n\n  public validateConnector(connector: FcConnector): FcConnector {\n    if (connector.id === undefined) {\n      throw new ModelvalidationError('Id not valid.');\n    }\n    if (connector.type === undefined || connector.type === null || typeof connector.type !== 'string') {\n      throw new ModelvalidationError('Type not valid.');\n    }\n    return connector;\n  }\n\n}\n","import { FcModelService } from './model.service';\nimport { FcCoords, FcNode, FlowchartConstants } from './ngx-flowchart.models';\n\nconst nodeDropScope: NodeDropScope = {\n  dropElement: null\n};\n\nexport class FcNodeDraggingService {\n\n  nodeDraggingScope: NodeDraggingScope = {\n    shadowDragStarted: false,\n    dropElement: null,\n    draggedNodes: [],\n    shadowElements: []\n  };\n\n  private dragOffsets: FcCoords[] = [];\n  private draggedElements: HTMLElement[] = [];\n\n  private destinationHtmlElements: HTMLElement[] = [];\n  private oldDisplayStyles: string[] = [];\n\n  private readonly modelService: FcModelService;\n  private readonly automaticResize: boolean;\n  private readonly dragAnimation: string;\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n\n  constructor(modelService: FcModelService,\n              applyFunction: <T>(fn: (...args: any[]) => T) => T,\n              automaticResize: boolean, dragAnimation: string) {\n    this.modelService = modelService;\n    this.automaticResize = automaticResize;\n    this.dragAnimation = dragAnimation;\n    this.applyFunction = applyFunction;\n  }\n\n  private getCoordinate(coordinate: number, max: number): number {\n    coordinate = Math.max(coordinate, 0);\n    coordinate = Math.min(coordinate, max);\n    return coordinate;\n  }\n\n  private getXCoordinate(x: number): number {\n    return this.getCoordinate(x, this.modelService.canvasHtmlElement.offsetWidth);\n  }\n\n  private getYCoordinate(y: number): number {\n    return this.getCoordinate(y, this.modelService.canvasHtmlElement.offsetHeight);\n  }\n\n  private resizeCanvas(draggedNode: FcNode, nodeElement: HTMLElement) {\n    if (this.automaticResize && !this.modelService.isDropSource()) {\n      const canvasElement = this.modelService.canvasHtmlElement;\n      if (canvasElement.offsetWidth < draggedNode.x + nodeElement.offsetWidth + FlowchartConstants.canvasResizeThreshold) {\n        canvasElement.style.width = canvasElement.offsetWidth + FlowchartConstants.canvasResizeStep + 'px';\n      }\n      if (canvasElement.offsetHeight < draggedNode.y + nodeElement.offsetHeight + FlowchartConstants.canvasResizeThreshold) {\n        canvasElement.style.height = canvasElement.offsetHeight + FlowchartConstants.canvasResizeStep + 'px';\n      }\n    }\n  }\n\n  public isDraggingNode(node: FcNode): boolean {\n    return this.nodeDraggingScope.draggedNodes.includes(node);\n  }\n\n  public dragstart(event: Event | any, node: FcNode) {\n    if (node.readonly) {\n      return;\n    }\n    this.dragOffsets.length = 0;\n    this.draggedElements.length = 0;\n    this.nodeDraggingScope.draggedNodes.length = 0;\n    this.nodeDraggingScope.shadowElements.length = 0;\n    this.destinationHtmlElements.length = 0;\n    this.oldDisplayStyles.length = 0;\n    const elements: Array<JQuery<HTMLElement>> = [];\n    const nodes: Array<FcNode> = [];\n    if (this.modelService.nodes.isSelected(node)) {\n      const selectedNodes = this.modelService.nodes.getSelectedNodes();\n      for (const selectedNode of selectedNodes) {\n        const element = $(this.modelService.nodes.getHtmlElement(selectedNode.id));\n        elements.push(element);\n        nodes.push(selectedNode);\n      }\n    } else {\n      elements.push($(event.target as HTMLElement));\n      nodes.push(node);\n    }\n    const offsetsX: number[] = [];\n    const offsetsY: number[] = [];\n    for (const element of elements) {\n      offsetsX.push(parseInt(element.css('left'), 10) - event.clientX);\n      offsetsY.push(parseInt(element.css('top'), 10) - event.clientY);\n    }\n    const originalEvent: Event | any = (event as any).originalEvent || event;\n    if (this.modelService.isDropSource()) {\n      if (nodeDropScope.dropElement) {\n        nodeDropScope.dropElement.parentNode.removeChild(nodeDropScope.dropElement);\n        nodeDropScope.dropElement = null;\n      }\n      nodeDropScope.dropElement = elements[0][0].cloneNode(true) as NodeDropElement;\n      const offset = $(this.modelService.canvasHtmlElement).offset();\n      nodeDropScope.dropElement.offsetInfo = {\n        offsetX: Math.round(offsetsX[0] + offset.left),\n        offsetY: Math.round(offsetsY[0] + offset.top)\n      };\n      nodeDropScope.dropElement.style.position = 'absolute';\n      nodeDropScope.dropElement.style.pointerEvents = 'none';\n      nodeDropScope.dropElement.style.zIndex = '9999';\n\n      document.body.appendChild(nodeDropScope.dropElement);\n      const dropNodeInfo: DropNodeInfo = {\n        node,\n        dropTargetId: this.modelService.dropTargetId,\n        offsetX: Math.round(offsetsX[0] + offset.left),\n        offsetY: Math.round(offsetsY[0] + offset.top)\n      };\n      originalEvent.dataTransfer.setData('text', JSON.stringify(dropNodeInfo));\n\n      if (originalEvent.dataTransfer.setDragImage) {\n        originalEvent.dataTransfer.setDragImage(this.modelService.getDragImage(), 0, 0);\n      } else {\n        const target: HTMLElement = event.target as HTMLElement;\n        const cloneNode = target.cloneNode(true);\n        target.parentNode.insertBefore(cloneNode, target);\n        target.style.visibility = 'collapse';\n        setTimeout(() => {\n          target.parentNode.removeChild(cloneNode);\n          target.style.visibility = 'visible';\n        }, 0);\n      }\n      return;\n    }\n    this.nodeDraggingScope.draggedNodes = nodes;\n    for (let i = 0; i < elements.length; i++) {\n      this.draggedElements.push(elements[i][0]);\n      this.dragOffsets.push(\n        {\n          x: offsetsX[i],\n          y: offsetsY[i]\n        }\n      );\n    }\n\n    if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n      for (let i = 0; i < this.draggedElements.length; i++) {\n        const dragOffset = this.dragOffsets[i];\n        const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n        const shadowElement = $(`<div style=\"position: absolute; opacity: 0.7; ` +\n                                `top: ${this.getYCoordinate(dragOffset.y + event.clientY)}px; ` +\n                                `left: ${this.getXCoordinate(dragOffset.x + event.clientX)}px; \">` +\n                                `<div class=\"innerNode\"><p style=\"padding: 0 15px;\">${draggedNode.name}</p> </div></div>`);\n        const targetInnerNode = $(this.draggedElements[i]).children()[0];\n        shadowElement.children()[0].style.backgroundColor = targetInnerNode.style.backgroundColor;\n        this.nodeDraggingScope.shadowElements.push(shadowElement);\n        this.modelService.canvasHtmlElement.appendChild(this.nodeDraggingScope.shadowElements[i][0]);\n      }\n    }\n    originalEvent.dataTransfer.setData('text', 'Just to support firefox');\n    if (originalEvent.dataTransfer.setDragImage) {\n      originalEvent.dataTransfer.setDragImage(this.modelService.getDragImage(), 0, 0);\n    } else {\n      this.draggedElements.forEach((draggedElement) => {\n        const cloneNode = draggedElement.cloneNode(true);\n        draggedElement.parentNode.insertBefore(cloneNode, draggedElement);\n        draggedElement.style.visibility = 'collapse';\n        setTimeout(() => {\n          draggedElement.parentNode.removeChild(cloneNode);\n          draggedElement.style.visibility = 'visible';\n        }, 0);\n      });\n      if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        for (let i = 0; i < this.draggedElements.length; i++) {\n          this.destinationHtmlElements.push(this.draggedElements[i]);\n          this.oldDisplayStyles.push(this.destinationHtmlElements[i].style.display);\n          this.destinationHtmlElements[i].style.display = 'none';\n        }\n        this.nodeDraggingScope.shadowDragStarted = true;\n      }\n    }\n  }\n\n  public drop(event: Event | any): boolean {\n    if (this.modelService.isDropSource()) {\n      event.preventDefault();\n      return false;\n    }\n    let dropNode: FcNode = null;\n    const originalEvent: Event | any = (event as any).originalEvent || event;\n    const infoText = originalEvent.dataTransfer.getData('text');\n    if (infoText) {\n      let dropNodeInfo: DropNodeInfo = null;\n      try {\n        dropNodeInfo = JSON.parse(infoText);\n      } catch (e) {/**/}\n      if (dropNodeInfo && dropNodeInfo.dropTargetId) {\n        if (this.modelService.canvasHtmlElement.id &&\n          this.modelService.canvasHtmlElement.id === dropNodeInfo.dropTargetId) {\n          dropNode = dropNodeInfo.node;\n          const offset = $(this.modelService.canvasHtmlElement).offset();\n          const x = event.clientX - offset.left;\n          const y = event.clientY - offset.top;\n          dropNode.x = Math.round(this.getXCoordinate(dropNodeInfo.offsetX + x));\n          dropNode.y = Math.round(this.getYCoordinate(dropNodeInfo.offsetY + y));\n        }\n      }\n    }\n    if (dropNode) {\n      this.modelService.dropNode(event, dropNode);\n      event.preventDefault();\n      return false;\n    } else if (this.nodeDraggingScope.draggedNodes.length) {\n      return this.applyFunction(() => {\n        for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n          const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n          const dragOffset = this.dragOffsets[i];\n          draggedNode.x = Math.round(this.getXCoordinate(dragOffset.x + event.clientX));\n          draggedNode.y = Math.round(this.getYCoordinate(dragOffset.y + event.clientY));\n        }\n        event.preventDefault();\n        this.modelService.notifyModelChanged();\n        return false;\n      });\n    }\n  }\n\n  public dragover(event: Event | any) {\n    if (nodeDropScope.dropElement) {\n      const offsetInfo = nodeDropScope.dropElement.offsetInfo;\n      nodeDropScope.dropElement.style.left = (offsetInfo.offsetX + event.clientX) + 'px';\n      nodeDropScope.dropElement.style.top = (offsetInfo.offsetY + event.clientY) + 'px';\n      if (this.nodeDraggingScope.shadowDragStarted) {\n        this.applyFunction(() => {\n          this.destinationHtmlElements[0].style.display = this.oldDisplayStyles[0];\n          this.nodeDraggingScope.shadowDragStarted = false;\n        });\n      }\n      event.preventDefault();\n      return;\n    }\n    if (this.modelService.isDropSource()) {\n      event.preventDefault();\n      return;\n    }\n    if (!this.nodeDraggingScope.draggedNodes.length) {\n      event.preventDefault();\n      return;\n    }\n    if (this.dragAnimation === FlowchartConstants.dragAnimationRepaint) {\n      if (this.nodeDraggingScope.draggedNodes.length) {\n        return this.applyFunction(() => {\n          for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n            const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n            const dragOffset = this.dragOffsets[i];\n            draggedNode.x = this.getXCoordinate(dragOffset.x + event.clientX);\n            draggedNode.y = this.getYCoordinate(dragOffset.y + event.clientY);\n            this.resizeCanvas(draggedNode, this.draggedElements[i]);\n          }\n          event.preventDefault();\n          this.modelService.notifyModelChanged();\n          return false;\n        });\n      }\n    } else if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n      if (this.nodeDraggingScope.draggedNodes.length) {\n        if (this.nodeDraggingScope.shadowDragStarted) {\n          this.applyFunction(() => {\n            for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n              this.destinationHtmlElements[i].style.display = this.oldDisplayStyles[i];\n            }\n            this.nodeDraggingScope.shadowDragStarted = false;\n          });\n        }\n        for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n          const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n          const dragOffset = this.dragOffsets[i];\n          this.nodeDraggingScope.shadowElements[i].css('left', this.getXCoordinate(dragOffset.x + event.clientX) + 'px');\n          this.nodeDraggingScope.shadowElements[i].css('top', this.getYCoordinate(dragOffset.y + event.clientY) + 'px');\n          this.resizeCanvas(draggedNode, this.draggedElements[i]);\n        }\n        event.preventDefault();\n      }\n    }\n  }\n\n  public dragend(event: Event | any) {\n    this.applyFunction(() => {\n      if (nodeDropScope.dropElement) {\n        nodeDropScope.dropElement.parentNode.removeChild(nodeDropScope.dropElement);\n        nodeDropScope.dropElement = null;\n      }\n      if (this.modelService.isDropSource()) {\n        return;\n      }\n      if (this.nodeDraggingScope.shadowElements.length) {\n        for (let i = 0; i < this.nodeDraggingScope.draggedNodes.length; i++) {\n          const draggedNode = this.nodeDraggingScope.draggedNodes[i];\n          const shadowElement = this.nodeDraggingScope.shadowElements[i];\n          draggedNode.x = parseInt(shadowElement.css('left').replace('px', ''), 10);\n          draggedNode.y = parseInt(shadowElement.css('top').replace('px', ''), 10);\n          this.modelService.canvasHtmlElement.removeChild(shadowElement[0]);\n        }\n        this.nodeDraggingScope.shadowElements.length = 0;\n        this.modelService.notifyModelChanged();\n      }\n\n      if (this.nodeDraggingScope.draggedNodes.length) {\n        this.nodeDraggingScope.draggedNodes.length = 0;\n        this.draggedElements.length = 0;\n        this.dragOffsets.length = 0;\n      }\n    });\n  }\n\n}\n\nexport interface NodeDraggingScope {\n  draggedNodes: Array<FcNode>;\n  shadowElements: Array<JQuery<HTMLElement>>;\n  shadowDragStarted: boolean;\n  dropElement: HTMLElement;\n}\n\nexport interface NodeDropElement extends HTMLElement {\n  offsetInfo?: {\n    offsetX: number;\n    offsetY: number;\n  };\n}\n\nexport interface NodeDropScope {\n  dropElement: NodeDropElement;\n}\n\nexport interface DropNodeInfo {\n  node: FcNode;\n  dropTargetId: string;\n  offsetX: number;\n  offsetY: number;\n}\n","import { Injectable } from '@angular/core';\nimport { FcCoords, FlowchartConstants } from './ngx-flowchart.models';\n\n@Injectable()\nexport class FcEdgeDrawingService {\n\n  public getEdgeDAttribute(pt1: FcCoords, pt2: FcCoords, style: string): string {\n    let dAddribute = `M ${pt1.x}, ${pt1.y} `;\n    if (style === FlowchartConstants.curvedStyle) {\n      const sourceTangent = this.computeEdgeSourceTangent(pt1, pt2);\n      const destinationTangent = this.computeEdgeDestinationTangent(pt1, pt2);\n      dAddribute += `C ${sourceTangent.x}, ${sourceTangent.y} ${(destinationTangent.x - 50)}, ${destinationTangent.y} ${pt2.x}, ${pt2.y}`;\n    } else {\n      dAddribute += `L ${pt2.x}, ${pt2.y}`;\n    }\n    return dAddribute;\n  }\n\n  public getEdgeCenter(pt1: FcCoords, pt2: FcCoords): FcCoords {\n    return {\n      x: (pt1.x + pt2.x) / 2,\n      y: (pt1.y + pt2.y) / 2\n    };\n  }\n\n  private computeEdgeTangentOffset(pt1: FcCoords, pt2: FcCoords): number {\n    return (pt2.y - pt1.y) / 2;\n  }\n\n  private computeEdgeSourceTangent(pt1: FcCoords, pt2: FcCoords): FcCoords {\n    return {\n      x: pt1.x,\n      y: pt1.y + this.computeEdgeTangentOffset(pt1, pt2)\n    };\n  }\n\n  private computeEdgeDestinationTangent(pt1: FcCoords, pt2: FcCoords): FcCoords {\n    return {\n      x: pt2.x,\n      y: pt2.y - this.computeEdgeTangentOffset(pt1, pt2)\n    };\n  }\n\n}\n","import { FcModelService } from './model.service';\nimport { FcConnector, FcCoords, FcEdge, FcModel, FlowchartConstants, ModelvalidationError } from './ngx-flowchart.models';\nimport { FcEdgeDrawingService } from './edge-drawing.service';\nimport { FcModelValidationService } from './modelvalidation.service';\n\nexport class FcEdgeDraggingService {\n\n  edgeDragging: EdgeDragging = {\n    isDragging: false,\n    dragPoint1: null,\n    dragPoint2: null,\n    shadowDragStarted: false\n  };\n\n  private draggedEdgeSource: FcConnector = null;\n  private dragOffset: FcCoords = {};\n  private destinationHtmlElement: HTMLElement = null;\n  private oldDisplayStyle = '';\n\n  private readonly modelValidation: FcModelValidationService;\n  private readonly edgeDrawingService: FcEdgeDrawingService;\n  private readonly modelService: FcModelService;\n  private readonly model: FcModel;\n  private readonly isValidEdgeCallback: (source: FcConnector, destination: FcConnector) => boolean;\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n  private readonly dragAnimation: string;\n  private readonly edgeStyle: string;\n\n  constructor(modelValidation: FcModelValidationService,\n              edgeDrawingService: FcEdgeDrawingService,\n              modelService: FcModelService,\n              model: FcModel,\n              isValidEdgeCallback: (source: FcConnector, destination: FcConnector) => boolean,\n              applyFunction: <T>(fn: (...args: any[]) => T) => T,\n              dragAnimation: string,\n              edgeStyle: string) {\n    this.modelValidation = modelValidation;\n    this.edgeDrawingService = edgeDrawingService;\n    this.modelService = modelService;\n    this.model = model;\n    this.isValidEdgeCallback = isValidEdgeCallback || (() => true);\n    this.applyFunction = applyFunction;\n    this.dragAnimation = dragAnimation;\n    this.edgeStyle = edgeStyle;\n  }\n\n  public dragstart(event: Event | any, connector: FcConnector) {\n    let swapConnector: FcConnector;\n    let dragLabel: string;\n    let prevEdge: FcEdge;\n    if (connector.type === FlowchartConstants.leftConnectorType) {\n      for (const edge of this.model.edges) {\n        if (edge.destination === connector.id) {\n          swapConnector = this.modelService.connectors.getConnector(edge.source);\n          dragLabel = edge.label;\n          prevEdge = edge;\n          this.applyFunction(() => {\n            this.modelService.edges.delete(edge);\n          });\n          break;\n        }\n      }\n    }\n    this.edgeDragging.isDragging = true;\n    if (swapConnector !== undefined) {\n      this.draggedEdgeSource = swapConnector;\n      this.edgeDragging.dragPoint1 = this.modelService.connectors.getCenteredCoord(swapConnector.id);\n      this.edgeDragging.dragLabel = dragLabel;\n      this.edgeDragging.prevEdge = prevEdge;\n    } else {\n      this.draggedEdgeSource = connector;\n      this.edgeDragging.dragPoint1 = this.modelService.connectors.getCenteredCoord(connector.id);\n    }\n    const canvas = this.modelService.canvasHtmlElement;\n    if (!canvas) {\n      throw new Error('No canvas while edgedraggingService found.');\n    }\n    this.dragOffset.x = -canvas.getBoundingClientRect().left;\n    this.dragOffset.y = -canvas.getBoundingClientRect().top;\n\n    this.edgeDragging.dragPoint2 = {\n      x: event.clientX + this.dragOffset.x,\n      y: event.clientY + this.dragOffset.y\n    };\n    const originalEvent: Event | any = (event as any).originalEvent || event;\n\n    originalEvent.dataTransfer.setData('Text', 'Just to support firefox');\n    if (originalEvent.dataTransfer.setDragImage) {\n      originalEvent.dataTransfer.setDragImage(this.modelService.getDragImage(), 0, 0);\n    } else {\n      this.destinationHtmlElement = event.target as HTMLElement;\n      this.oldDisplayStyle = this.destinationHtmlElement.style.display;\n      this.destinationHtmlElement.style.display = 'none';\n      if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        this.edgeDragging.shadowDragStarted = true;\n      }\n    }\n    if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n      if (this.edgeDragging.gElement === undefined) {\n        this.edgeDragging.gElement = $(document.querySelectorAll('.shadow-svg-class'));\n        this.edgeDragging.pathElement = $(document.querySelectorAll('.shadow-svg-class')).find('path');\n        this.edgeDragging.circleElement = $(document.querySelectorAll('.shadow-svg-class')).find('circle');\n      }\n\n      this.edgeDragging.gElement.css('display', 'block');\n      this.edgeDragging.pathElement.attr('d',\n        this.edgeDrawingService.getEdgeDAttribute(this.edgeDragging.dragPoint1, this.edgeDragging.dragPoint2, this.edgeStyle));\n      this.edgeDragging.circleElement.attr('cx', this.edgeDragging.dragPoint2.x);\n      this.edgeDragging.circleElement.attr('cy', this.edgeDragging.dragPoint2.y);\n    }\n    event.stopPropagation();\n  }\n\n  public dragover(event: Event | any) {\n    if (this.edgeDragging.isDragging) {\n      if (!this.edgeDragging.magnetActive && this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        if (this.destinationHtmlElement !== null) {\n          this.destinationHtmlElement.style.display = this.oldDisplayStyle;\n        }\n\n        if (this.edgeDragging.shadowDragStarted) {\n          this.applyFunction(() => {\n            this.edgeDragging.shadowDragStarted = false;\n          });\n        }\n\n        this.edgeDragging.dragPoint2 = {\n          x: event.clientX + this.dragOffset.x,\n          y: event.clientY + this.dragOffset.y\n        };\n\n        this.edgeDragging.pathElement.attr('d',\n          this.edgeDrawingService.getEdgeDAttribute(this.edgeDragging.dragPoint1, this.edgeDragging.dragPoint2, this.edgeStyle));\n        this.edgeDragging.circleElement.attr('cx', this.edgeDragging.dragPoint2.x);\n        this.edgeDragging.circleElement.attr('cy', this.edgeDragging.dragPoint2.y);\n\n      } else if (this.dragAnimation === FlowchartConstants.dragAnimationRepaint) {\n        return this.applyFunction(() => {\n          if (this.destinationHtmlElement !== null) {\n            this.destinationHtmlElement.style.display = this.oldDisplayStyle;\n          }\n\n          this.edgeDragging.dragPoint2 = {\n            x: event.clientX + this.dragOffset.x,\n            y: event.clientY + this.dragOffset.y\n          };\n        });\n      }\n    }\n  }\n\n  public dragoverConnector(event: Event | any, connector: FcConnector): boolean {\n    if (this.edgeDragging.isDragging) {\n      this.dragover(event);\n      try {\n        this.modelValidation.validateEdges(this.model.edges.concat([{\n          source: this.draggedEdgeSource.id,\n          destination: connector.id\n        }]), this.model.nodes);\n      } catch (error) {\n        if (error instanceof ModelvalidationError) {\n          return true;\n        } else {\n          throw error;\n        }\n      }\n      if (this.isValidEdgeCallback(this.draggedEdgeSource, connector)) {\n        event.preventDefault();\n        event.stopPropagation();\n        return false;\n      }\n    }\n  }\n\n  public dragleaveMagnet(_event: Event | any) {\n    this.edgeDragging.magnetActive = false;\n  }\n\n  public dragoverMagnet(event: Event | any, connector: FcConnector): boolean {\n    if (this.edgeDragging.isDragging) {\n      this.dragover(event);\n      try {\n        this.modelValidation.validateEdges(this.model.edges.concat([{\n          source: this.draggedEdgeSource.id,\n          destination: connector.id\n        }]), this.model.nodes);\n      } catch (error) {\n        if (error instanceof ModelvalidationError) {\n          return true;\n        } else {\n          throw error;\n        }\n      }\n      if (this.isValidEdgeCallback(this.draggedEdgeSource, connector)) {\n        if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n\n          this.edgeDragging.magnetActive = true;\n\n          this.edgeDragging.dragPoint2 = this.modelService.connectors.getCenteredCoord(connector.id);\n          this.edgeDragging.pathElement.attr('d',\n            this.edgeDrawingService.getEdgeDAttribute(this.edgeDragging.dragPoint1, this.edgeDragging.dragPoint2, this.edgeStyle));\n          this.edgeDragging.circleElement.attr('cx', this.edgeDragging.dragPoint2.x);\n          this.edgeDragging.circleElement.attr('cy', this.edgeDragging.dragPoint2.y);\n\n          event.preventDefault();\n          event.stopPropagation();\n          return false;\n        } else if (this.dragAnimation === FlowchartConstants.dragAnimationRepaint) {\n          return this.applyFunction(() => {\n            this.edgeDragging.dragPoint2 = this.modelService.connectors.getCenteredCoord(connector.id);\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n          });\n        }\n      }\n    }\n  }\n\n  public dragend(event: Event | any) {\n    if (this.edgeDragging.isDragging) {\n      this.edgeDragging.isDragging = false;\n      this.edgeDragging.dragPoint1 = null;\n      this.edgeDragging.dragPoint2 = null;\n      this.edgeDragging.dragLabel = null;\n      event.stopPropagation();\n\n      if (this.dragAnimation === FlowchartConstants.dragAnimationShadow) {\n        this.edgeDragging.gElement.css('display', 'none');\n      }\n      if (this.edgeDragging.prevEdge) {\n        const edge = this.edgeDragging.prevEdge;\n        this.edgeDragging.prevEdge = null;\n        this.applyFunction(() => {\n          this.modelService.edges.putEdge(edge);\n        });\n      }\n    }\n  }\n\n  public drop(event: Event | any, targetConnector: FcConnector): boolean {\n    if (this.edgeDragging.isDragging) {\n      try {\n        this.modelValidation.validateEdges(this.model.edges.concat([{\n          source: this.draggedEdgeSource.id,\n          destination: targetConnector.id\n        }]), this.model.nodes);\n      } catch (error) {\n        if (error instanceof ModelvalidationError) {\n          return true;\n        } else {\n          throw error;\n        }\n      }\n\n      if (this.isValidEdgeCallback(this.draggedEdgeSource, targetConnector)) {\n        this.edgeDragging.prevEdge = null;\n        this.modelService.edges._addEdge(event, this.draggedEdgeSource, targetConnector, this.edgeDragging.dragLabel);\n        event.stopPropagation();\n        event.preventDefault();\n        return false;\n      }\n    }\n  }\n}\n\nexport interface EdgeDragging {\n  isDragging: boolean;\n  shadowDragStarted: boolean;\n  dragPoint1: FcCoords;\n  dragPoint2: FcCoords;\n  dragLabel?: string;\n  prevEdge?: FcEdge;\n  magnetActive?: boolean;\n  gElement?: JQuery<Element>;\n  pathElement?: JQuery<Element>;\n  circleElement?: JQuery<Element>;\n}\n","import { FcConnector, FcEdge, FcNode } from './ngx-flowchart.models';\n\nexport class FcMouseOverService {\n\n  mouseoverscope: MouseOverScope = {\n    connector: null,\n    edge: null,\n    node: null\n  };\n\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n\n  constructor(applyFunction: <T>(fn: (...args: any[]) => T) => T) {\n    this.applyFunction = applyFunction;\n  }\n\n  public nodeMouseOver(_event: MouseEvent, node: FcNode) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.node = node;\n    });\n  }\n\n  public nodeMouseOut(_event: MouseEvent, _node: FcNode) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.node = null;\n    });\n  }\n\n  public connectorMouseEnter(_event: MouseEvent, connector: FcConnector) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.connector = connector;\n    });\n  }\n\n  public connectorMouseLeave(_event: MouseEvent, _connector: FcConnector) {\n    return this.applyFunction(() => {\n      this.mouseoverscope.connector = null;\n    });\n  }\n\n  public edgeMouseEnter(_event: MouseEvent, edge: FcEdge) {\n    this.mouseoverscope.edge = edge;\n  }\n\n  public edgeMouseLeave(_event: MouseEvent, _edge: FcEdge) {\n    this.mouseoverscope.edge = null;\n  }\n}\n\nexport interface MouseOverScope {\n  connector: FcConnector;\n  edge: FcEdge;\n  node: FcNode;\n}\n","const regex = /(auto|scroll)/;\n\nconst style = (node: Element, prop: string): string =>\n  getComputedStyle(node, null).getPropertyValue(prop);\n\nconst scroll = (node: Element) =>\n  regex.test(\n    style(node, 'overflow') +\n    style(node, 'overflow-y') +\n    style(node, 'overflow-x'));\n\nconst scrollparent = (node: HTMLElement): HTMLElement =>\n  !node || node === document.body\n    ? document.body\n    : scroll(node)\n    ? node\n    : scrollparent(node.parentNode as HTMLElement);\n\nexport default scrollparent;\n","import { FcModelService } from './model.service';\nimport { FcRectBox } from './ngx-flowchart.models';\nimport scrollparent from './scrollparent';\n\ninterface Rectangle {\n  x1: number;\n  x2: number;\n  y1: number;\n  y2: number;\n}\n\nexport class FcRectangleSelectService {\n\n  private readonly selectRect: Rectangle = {\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0\n  };\n\n  private readonly modelService: FcModelService;\n  private readonly selectElement: HTMLElement;\n  private readonly $canvasElement: JQuery<HTMLElement>;\n  private readonly $scrollParent: JQuery<HTMLElement>;\n  private readonly applyFunction: <T>(fn: (...args: any[]) => T) => T;\n\n  constructor(modelService: FcModelService,\n              selectElement: HTMLElement,\n              applyFunction: <T>(fn: (...args: any[]) => T) => T) {\n    this.modelService = modelService;\n    this.selectElement = selectElement;\n    this.$canvasElement = $(this.modelService.canvasHtmlElement);\n    this.$scrollParent = $(scrollparent(this.modelService.canvasHtmlElement));\n    this.applyFunction = applyFunction;\n  }\n\n  public mousedown(e: MouseEvent) {\n    if (this.modelService.isEditable() && !e.ctrlKey && !e.metaKey && e.button === 0\n      && this.selectElement.hidden) {\n      this.selectElement.hidden = false;\n      const offset = this.$canvasElement.offset();\n      this.selectRect.x1 = Math.round(e.pageX - offset.left);\n      this.selectRect.y1 = Math.round(e.pageY - offset.top);\n      this.selectRect.x2 = this.selectRect.x1;\n      this.selectRect.y2 = this.selectRect.y1;\n      this.updateSelectRect();\n    }\n  }\n\n  public mousemove(e: MouseEvent) {\n    if (this.modelService.isEditable() && !e.ctrlKey && !e.metaKey && e.button === 0\n      && !this.selectElement.hidden) {\n      const offset = this.$canvasElement.offset();\n      this.selectRect.x2 = Math.round(e.pageX - offset.left);\n      this.selectRect.y2 = Math.round(e.pageY - offset.top);\n      this.updateScroll(offset);\n      this.updateSelectRect();\n    }\n  }\n\n  private updateScroll(offset: JQuery.Coordinates) {\n    const rect = this.$scrollParent[0].getBoundingClientRect();\n    const bottom = rect.bottom - offset.top;\n    const right = rect.right - offset.left;\n    const top = rect.top - offset.top;\n    const left = rect.left - offset.left;\n    if (this.selectRect.y2 - top < 25) {\n      const topScroll = 25 - (this.selectRect.y2 - top);\n      const scroll = this.$scrollParent.scrollTop();\n      this.$scrollParent.scrollTop(scroll - topScroll);\n    } else if (bottom - this.selectRect.y2 < 40) {\n      const bottomScroll = 40 - (bottom - this.selectRect.y2);\n      const scroll = this.$scrollParent.scrollTop();\n      this.$scrollParent.scrollTop(scroll + bottomScroll);\n    }\n    if (this.selectRect.x2 - left < 25) {\n      const leftScroll = 25 - (this.selectRect.x2 - left);\n      const scroll = this.$scrollParent.scrollLeft();\n      this.$scrollParent.scrollLeft(scroll - leftScroll);\n    } else if (right - this.selectRect.x2 < 40) {\n      const rightScroll = 40 - (right - this.selectRect.x2);\n      const scroll = this.$scrollParent.scrollLeft();\n      this.$scrollParent.scrollLeft(scroll + rightScroll);\n    }\n  }\n\n  public mouseup(e: MouseEvent) {\n    if (this.modelService.isEditable() && !e.ctrlKey && !e.metaKey && e.button === 0\n      && !this.selectElement.hidden) {\n      const rectBox = this.selectElement.getBoundingClientRect() as FcRectBox;\n      this.selectElement.hidden = true;\n      this.selectObjects(rectBox);\n    }\n  }\n\n  private updateSelectRect() {\n    const x3 = Math.min(this.selectRect.x1, this.selectRect.x2);\n    const x4 = Math.max(this.selectRect.x1, this.selectRect.x2);\n    const y3 = Math.min(this.selectRect.y1, this.selectRect.y2);\n    const y4 = Math.max(this.selectRect.y1, this.selectRect.y2);\n    this.selectElement.style.left = x3 + 'px';\n    this.selectElement.style.top = y3 + 'px';\n    this.selectElement.style.width = x4 - x3 + 'px';\n    this.selectElement.style.height = y4 - y3 + 'px';\n  }\n\n  private selectObjects(rectBox: FcRectBox) {\n    this.applyFunction(() => {\n      this.modelService.selectAllInRect(rectBox);\n    });\n  }\n\n}\n\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport {\n  FC_NODE_COMPONENT_CONFIG,\n  FcCallbacks,\n  FcConnector,\n  FcNode,\n  FcNodeComponentConfig,\n  FcNodeRectInfo,\n  FlowchartConstants,\n  UserNodeCallbacks\n} from './ngx-flowchart.models';\nimport { FcModelService } from './model.service';\n\n@Component({\n  selector: 'fc-node',\n  template: '<ng-template #nodeContent></ng-template>',\n  styleUrls: ['./node.component.scss'],\n  standalone: false\n})\nexport class FcNodeContainerComponent implements OnInit, AfterViewInit, OnChanges {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  userNodeCallbacks: UserNodeCallbacks;\n\n  @Input()\n  node: FcNode;\n\n  @Input()\n  selected: boolean;\n\n  @Input()\n  edit: boolean;\n\n  @Input()\n  underMouse: boolean;\n\n  @Input()\n  mouseOverConnector: FcConnector;\n\n  @Input()\n  modelservice: FcModelService;\n\n  @Input()\n  dragging: boolean;\n\n  @HostBinding('attr.id')\n  get nodeId(): string {\n    return this.node.id;\n  }\n\n  @HostBinding('style.top')\n  get top(): string {\n    return this.node.y + 'px';\n  }\n\n  @HostBinding('style.left')\n  get left(): string {\n    return this.node.x + 'px';\n  }\n\n  nodeComponent: FcNodeComponent;\n\n  @ViewChild('nodeContent', {read: ViewContainerRef, static: true}) nodeContentContainer: ViewContainerRef;\n\n  constructor(@Inject(FC_NODE_COMPONENT_CONFIG) private nodeComponentConfig: FcNodeComponentConfig,\n              private elementRef: ElementRef<HTMLElement>,\n              private componentFactoryResolver: ComponentFactoryResolver) {\n  }\n\n  ngOnInit(): void {\n    if (!this.userNodeCallbacks) {\n      this.userNodeCallbacks = {};\n    }\n    this.userNodeCallbacks.nodeEdit = this.userNodeCallbacks.nodeEdit || (() => {});\n    this.userNodeCallbacks.doubleClick = this.userNodeCallbacks.doubleClick || (() => {});\n    this.userNodeCallbacks.mouseDown = this.userNodeCallbacks.mouseDown || (() => {});\n    this.userNodeCallbacks.mouseEnter = this.userNodeCallbacks.mouseEnter || (() => {});\n    this.userNodeCallbacks.mouseLeave = this.userNodeCallbacks.mouseLeave || (() => {});\n\n    const element = $(this.elementRef.nativeElement);\n    element.addClass(FlowchartConstants.nodeClass);\n    if (!this.node.readonly) {\n      element.attr('draggable', 'true');\n    }\n    this.updateNodeClass();\n    this.modelservice.nodes.setHtmlElement(this.node.id, element[0]);\n    this.nodeContentContainer.clear();\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.nodeComponentConfig.nodeComponentType);\n    const componentRef = this.nodeContentContainer.createComponent(componentFactory);\n    this.nodeComponent = componentRef.instance;\n    this.nodeComponent.callbacks = this.callbacks;\n    this.nodeComponent.userNodeCallbacks = this.userNodeCallbacks;\n    this.nodeComponent.node = this.node;\n    this.nodeComponent.modelservice = this.modelservice;\n    this.updateNodeComponent();\n    this.nodeComponent.width = this.elementRef.nativeElement.offsetWidth;\n    this.nodeComponent.height = this.elementRef.nativeElement.offsetHeight;\n  }\n\n  ngAfterViewInit(): void {\n    this.nodeComponent.width = this.elementRef.nativeElement.offsetWidth;\n    this.nodeComponent.height = this.elementRef.nativeElement.offsetHeight;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    let updateNode = false;\n    for (const propName of Object.keys(changes)) {\n      const change = changes[propName];\n      if (!change.firstChange && change.currentValue !== change.previousValue) {\n        if (['selected', 'edit', 'underMouse', 'mouseOverConnector', 'dragging'].includes(propName)) {\n          updateNode = true;\n        }\n      }\n    }\n    if (updateNode) {\n      this.updateNodeClass();\n      this.updateNodeComponent();\n    }\n  }\n\n  private updateNodeClass() {\n    const element = $(this.elementRef.nativeElement);\n    this.toggleClass(element, FlowchartConstants.selectedClass, this.selected);\n    this.toggleClass(element, FlowchartConstants.editClass, this.edit);\n    this.toggleClass(element, FlowchartConstants.hoverClass, this.underMouse);\n    this.toggleClass(element, FlowchartConstants.draggingClass, this.dragging);\n  }\n\n  private updateNodeComponent() {\n    this.nodeComponent.selected = this.selected;\n    this.nodeComponent.edit = this.edit;\n    this.nodeComponent.underMouse = this.underMouse;\n    this.nodeComponent.mouseOverConnector = this.mouseOverConnector;\n    this.nodeComponent.dragging = this.dragging;\n  }\n\n  private toggleClass(element: JQuery<HTMLElement>, clazz: string, set: boolean) {\n    if (set) {\n      element.addClass(clazz);\n    } else {\n      element.removeClass(clazz);\n    }\n  }\n\n  @HostListener('mousedown', ['$event'])\n  mousedown(event: MouseEvent) {\n    event.stopPropagation();\n  }\n\n  @HostListener('dragstart', ['$event'])\n  dragstart(event: Event | any) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeDragstart(event, this.node);\n    }\n  }\n\n  @HostListener('dragend', ['$event'])\n  dragend(event: Event | any) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeDragend(event);\n    }\n  }\n\n  @HostListener('click', ['$event'])\n  click(event: MouseEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeClicked(event, this.node);\n    }\n  }\n\n  @HostListener('mouseover', ['$event'])\n  mouseover(event: MouseEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeMouseOver(event, this.node);\n    }\n  }\n\n  @HostListener('mouseout', ['$event'])\n  mouseout(event: MouseEvent) {\n    if (!this.node.readonly) {\n      this.callbacks.nodeMouseOut(event, this.node);\n    }\n  }\n\n}\n\n@Directive()\nexport abstract class FcNodeComponent implements OnInit {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  userNodeCallbacks: UserNodeCallbacks;\n\n  @Input()\n  node: FcNode;\n\n  @Input()\n  selected: boolean;\n\n  @Input()\n  edit: boolean;\n\n  @Input()\n  underMouse: boolean;\n\n  @Input()\n  mouseOverConnector: FcConnector;\n\n  @Input()\n  modelservice: FcModelService;\n\n  @Input()\n  dragging: boolean;\n\n  flowchartConstants = FlowchartConstants;\n\n  width: number;\n\n  height: number;\n\n  nodeRectInfo: FcNodeRectInfo = {\n    top: () => this.node.y,\n\n    left: () => this.node.x,\n\n    bottom: () => this.node.y + this.height,\n\n    right: () => this.node.x + this.width,\n\n    width: () => this.width,\n\n    height: () => this.height\n  };\n\n  ngOnInit(): void {\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  IterableDiffer,\n  IterableDiffers,\n  NgZone,\n  OnInit,\n  Output\n} from '@angular/core';\nimport { FcCallbacks, FcEdge, FcModel, FcNode, FlowchartConstants, UserCallbacks, UserNodeCallbacks } from './ngx-flowchart.models';\nimport { FcModelService } from './model.service';\nimport { FcModelValidationService } from './modelvalidation.service';\nimport { FcNodeDraggingService } from './node-dragging.service';\nimport { FcEdgeDrawingService } from './edge-drawing.service';\nimport { FcEdgeDraggingService } from './edge-dragging.service';\nimport { FcMouseOverService } from './mouseover.service';\nimport { FcRectangleSelectService } from './rectangleselect.service';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'fc-canvas',\n  templateUrl: './ngx-flowchart.component.html',\n  styleUrls: ['./ngx-flowchart.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: false\n})\nexport class NgxFlowchartComponent implements OnInit, DoCheck {\n\n  @HostBinding('attr.class')\n  get canvasClass(): string {\n    return FlowchartConstants.canvasClass;\n  }\n\n  @Input()\n  model: FcModel;\n\n  @Input()\n  selectedObjects: any[];\n\n  @Input()\n  edgeStyle: string;\n\n  @Input()\n  userCallbacks: UserCallbacks;\n\n  @Input()\n  automaticResize: boolean;\n\n  @Input()\n  dragAnimation: string;\n\n  @Input()\n  nodeWidth: number;\n\n  @Input()\n  nodeHeight: number;\n\n  @Input()\n  dropTargetId: string;\n\n  @Output()\n  modelChanged = new EventEmitter();\n\n  private fitModelSizeByDefaultValue = true;\n  get fitModelSizeByDefault(): boolean {\n    return this.fitModelSizeByDefaultValue;\n  }\n  @Input()\n  set fitModelSizeByDefault(value: boolean) {\n    this.fitModelSizeByDefaultValue = coerceBooleanProperty(value);\n  }\n\n  callbacks: FcCallbacks;\n\n  userNodeCallbacks: UserNodeCallbacks;\n\n  modelService: FcModelService;\n  nodeDraggingService: FcNodeDraggingService;\n  edgeDraggingService: FcEdgeDraggingService;\n  mouseoverService: FcMouseOverService;\n  rectangleSelectService: FcRectangleSelectService;\n\n  arrowDefId: string;\n  arrowDefIdSelected: string;\n\n  flowchartConstants = FlowchartConstants;\n\n  private nodesDiffer: IterableDiffer<FcNode> = this.differs.find([]).create<FcNode>((_index, item) => item);\n\n  private edgesDiffer: IterableDiffer<FcEdge> = this.differs.find([]).create<FcEdge>((_index, item) => item);\n\n  private readonly detectChangesSubject = new Subject<any>();\n\n  constructor(private elementRef: ElementRef<HTMLElement>,\n              private differs: IterableDiffers,\n              private modelValidation: FcModelValidationService,\n              public edgeDrawingService: FcEdgeDrawingService,\n              private cd: ChangeDetectorRef,\n              private zone: NgZone) {\n    this.arrowDefId = 'arrow-' + Math.random();\n    this.arrowDefIdSelected = this.arrowDefId + '-selected';\n    this.detectChangesSubject\n      .pipe(debounceTime(50))\n      .subscribe(() => this.cd.detectChanges());\n  }\n\n  ngOnInit() {\n    if (!this.dropTargetId && this.edgeStyle !== FlowchartConstants.curvedStyle && this.edgeStyle !== FlowchartConstants.lineStyle) {\n      throw new Error('edgeStyle not supported.');\n    }\n    this.nodeHeight = this.nodeHeight || 200;\n    this.nodeWidth = this.nodeWidth || 200;\n    this.dragAnimation = this.dragAnimation || FlowchartConstants.dragAnimationRepaint;\n    this.userCallbacks = this.userCallbacks || {};\n    this.automaticResize = this.automaticResize || false;\n\n    for (const key of Object.keys(this.userCallbacks)) {\n      const callback = this.userCallbacks[key];\n      if (typeof callback !== 'function' && key !== 'nodeCallbacks') {\n        throw new Error('All callbacks should be functions.');\n      }\n    }\n\n    this.userNodeCallbacks = this.userCallbacks.nodeCallbacks;\n\n    const element = $(this.elementRef.nativeElement);\n\n    this.modelService = new FcModelService(this.modelValidation, this.model, this.modelChanged,\n      this.detectChangesSubject, this.selectedObjects,\n      this.userCallbacks.dropNode, this.userCallbacks.createEdge, this.userCallbacks.edgeAdded, this.userCallbacks.nodeRemoved,\n      this.userCallbacks.edgeRemoved, element[0], element[0].querySelector('svg'));\n\n    if (this.dropTargetId) {\n      this.modelService.dropTargetId = this.dropTargetId;\n    }\n\n    const applyFunction = this.zone.run.bind(this.zone);\n\n    this.nodeDraggingService = new FcNodeDraggingService(this.modelService, applyFunction,\n          this.automaticResize, this.dragAnimation);\n\n    this.edgeDraggingService = new FcEdgeDraggingService(this.modelValidation, this.edgeDrawingService, this.modelService,\n      this.model, this.userCallbacks.isValidEdge || null, applyFunction,\n      this.dragAnimation, this.edgeStyle);\n\n    this.mouseoverService = new FcMouseOverService(applyFunction);\n\n    this.rectangleSelectService = new FcRectangleSelectService(this.modelService,\n      element[0].querySelector('#select-rectangle'), applyFunction);\n\n    this.callbacks = {\n      nodeDragstart: this.nodeDraggingService.dragstart.bind(this.nodeDraggingService),\n      nodeDragend: this.nodeDraggingService.dragend.bind(this.nodeDraggingService),\n      edgeDragstart: this.edgeDraggingService.dragstart.bind(this.edgeDraggingService),\n      edgeDragend: this.edgeDraggingService.dragend.bind(this.edgeDraggingService),\n      edgeDrop: this.edgeDraggingService.drop.bind(this.edgeDraggingService),\n      edgeDragoverConnector: this.edgeDraggingService.dragoverConnector.bind(this.edgeDraggingService),\n      edgeDragoverMagnet: this.edgeDraggingService.dragoverMagnet.bind(this.edgeDraggingService),\n      edgeDragleaveMagnet: this.edgeDraggingService.dragleaveMagnet.bind(this.edgeDraggingService),\n      nodeMouseOver: this.mouseoverService.nodeMouseOver.bind(this.mouseoverService),\n      nodeMouseOut: this.mouseoverService.nodeMouseOut.bind(this.mouseoverService),\n      connectorMouseEnter: this.mouseoverService.connectorMouseEnter.bind(this.mouseoverService),\n      connectorMouseLeave: this.mouseoverService.connectorMouseLeave.bind(this.mouseoverService),\n      nodeClicked: (event, node) => {\n        this.modelService.nodes.handleClicked(node, event.ctrlKey);\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    };\n    this.adjustCanvasSize(this.fitModelSizeByDefault);\n  }\n\n  ngDoCheck(): void {\n    if (this.model) {\n      const nodesChange = this.nodesDiffer.diff(this.model.nodes);\n      const edgesChange = this.edgesDiffer.diff(this.model.edges);\n      let nodesChanged = false;\n      let edgesChanged = false;\n      if (nodesChange !== null) {\n        nodesChange.forEachAddedItem(() => {\n          nodesChanged = true;\n        });\n        nodesChange.forEachRemovedItem(() => {\n          nodesChanged = true;\n        });\n      }\n      if (edgesChange !== null) {\n        edgesChange.forEachAddedItem(() => {\n          edgesChanged = true;\n        });\n        edgesChange.forEachRemovedItem(() => {\n          edgesChanged = true;\n        });\n      }\n      if (nodesChanged) {\n        this.adjustCanvasSize(this.fitModelSizeByDefault);\n      }\n      if (nodesChanged || edgesChanged) {\n        this.detectChangesSubject.next(null);\n      }\n    }\n  }\n\n  getEdgeDAttribute(edge: FcEdge): string {\n    return this.edgeDrawingService.getEdgeDAttribute(this.modelService.edges.sourceCoord(edge),\n      this.modelService.edges.destCoord(edge), this.edgeStyle);\n  }\n\n  public adjustCanvasSize(fit?: boolean) {\n    let maxX = 0;\n    let maxY = 0;\n    const element = $(this.elementRef.nativeElement);\n    this.model.nodes.forEach((node) => {\n      maxX = Math.max(node.x + this.nodeWidth, maxX);\n      maxY = Math.max(node.y + this.nodeHeight, maxY);\n    });\n    let width: number;\n    let height: number;\n    if (fit) {\n      width = maxX;\n      height = maxY;\n    } else {\n      width = Math.max(maxX, element.prop('offsetWidth'));\n      height = Math.max(maxY, element.prop('offsetHeight'));\n    }\n    element.css('width', width + 'px');\n    element.css('height', height + 'px');\n  }\n\n  canvasClick(_event: MouseEvent) {}\n\n  edgeMouseDown(event: MouseEvent, _edge: FcEdge) {\n    event.stopPropagation();\n  }\n\n  edgeClick(event: MouseEvent, edge: FcEdge) {\n    this.modelService.edges.handleEdgeMouseClick(edge, event.ctrlKey);\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  edgeRemove(event: Event, edge: FcEdge) {\n    this.modelService.edges.delete(edge);\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  edgeEdit(event: Event, edge: FcEdge) {\n    if (this.userCallbacks.edgeEdit) {\n      this.userCallbacks.edgeEdit(event, edge);\n    }\n  }\n\n  edgeDoubleClick(event: MouseEvent, edge: FcEdge) {\n    if (this.userCallbacks.edgeDoubleClick) {\n      this.userCallbacks.edgeDoubleClick(event, edge);\n    }\n  }\n\n  edgeMouseOver(event: MouseEvent, edge: FcEdge) {\n    if (this.userCallbacks.edgeMouseOver) {\n      this.userCallbacks.edgeMouseOver(event, edge);\n    }\n  }\n\n  edgeMouseEnter(event: MouseEvent, edge: FcEdge) {\n    this.mouseoverService.edgeMouseEnter(event, edge);\n  }\n\n  edgeMouseLeave(event: MouseEvent, edge: FcEdge) {\n    this.mouseoverService.edgeMouseLeave(event, edge);\n  }\n\n  @HostListener('dragover', ['$event'])\n  dragover(event: Event | any) {\n    this.nodeDraggingService.dragover(event);\n    this.edgeDraggingService.dragover(event);\n  }\n\n  @HostListener('drop', ['$event'])\n  drop(event: Event | any) {\n    if (event.preventDefault) {\n      event.preventDefault();\n    }\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    }\n    this.nodeDraggingService.drop(event);\n  }\n\n  @HostListener('mousedown', ['$event'])\n  mousedown(event: MouseEvent) {\n    this.rectangleSelectService.mousedown(event);\n  }\n\n  @HostListener('mousemove', ['$event'])\n  mousemove(event: MouseEvent) {\n    this.rectangleSelectService.mousemove(event);\n  }\n\n  @HostListener('mouseup', ['$event'])\n  mouseup(event: MouseEvent) {\n    this.rectangleSelectService.mouseup(event);\n  }\n\n}\n","<div (click)=\"canvasClick($event)\" class=\"fc-canvas-container\">\n  <svg class=\"fc-canvas-svg\">\n    <defs>\n      <marker class=\"fc-arrow-marker\" [id]=\"arrowDefId\" markerWidth=\"5\" markerHeight=\"5\" viewBox=\"-6 -6 12 12\" refX=\"10\" refY=\"0\" markerUnits=\"strokeWidth\" orient=\"auto\">\n        <polygon points=\"-2,0 -5,5 5,0 -5,-5\" stroke=\"gray\" fill=\"gray\" stroke-width=\"1px\"/>\n      </marker>\n      <marker class=\"fc-arrow-marker-selected\" [id]=\"arrowDefIdSelected\" markerWidth=\"5\" markerHeight=\"5\" viewBox=\"-6 -6 12 12\" refX=\"10\" refY=\"0\" markerUnits=\"strokeWidth\" orient=\"auto\">\n        <polygon points=\"-2,0 -5,5 5,0 -5,-5\" stroke=\"red\" fill=\"red\" stroke-width=\"1px\"/>\n      </marker>\n    </defs>\n    @for (edge of model.edges; track edge) {\n      <g>\n        <path\n          [id]=\"'fc-edge-path-'+$index\"\n          (mousedown)=\"edgeMouseDown($event, edge)\"\n          (click)=\"edgeClick($event, edge)\"\n          (dblclick)=\"edgeDoubleClick($event, edge)\"\n          (mouseover)=\"edgeMouseOver($event, edge)\"\n          (mouseenter)=\"edgeMouseEnter($event, edge)\"\n          (mouseleave)=\"edgeMouseLeave($event, edge)\"\n        [class]=\"(modelService.edges.isSelected(edge) && flowchartConstants.selectedClass + ' ' + flowchartConstants.edgeClass) ||\n                      edge === mouseoverService.mouseoverscope.edge && flowchartConstants.hoverClass + ' ' + flowchartConstants.edgeClass ||\n                      edge.active && flowchartConstants.activeClass + ' ' + flowchartConstants.edgeClass ||\n                      flowchartConstants.edgeClass\"\n          [attr.d]=\"getEdgeDAttribute(edge)\"\n          [attr.marker-end]=\"'url(#' + (modelService.edges.isSelected(edge) ? arrowDefIdSelected : arrowDefId) + ')'\">\n        </path>\n      </g>\n    }\n    @if (dragAnimation === flowchartConstants.dragAnimationRepaint && edgeDraggingService.edgeDragging.isDragging) {\n      <g>\n        <path [class]=\"flowchartConstants.edgeClass + ' ' + flowchartConstants.draggingClass\"\n        [attr.d]=\"edgeDrawingService.getEdgeDAttribute(edgeDraggingService.edgeDragging.dragPoint1, edgeDraggingService.edgeDragging.dragPoint2, edgeStyle)\"></path>\n        <circle class=\"edge-endpoint\" r=\"4\"\n          [attr.cx]=\"edgeDraggingService.edgeDragging.dragPoint2.x\"\n          [attr.cy]=\"edgeDraggingService.edgeDragging.dragPoint2.y\">\n        </circle>\n      </g>\n    }\n    @if (dragAnimation === flowchartConstants.dragAnimationShadow) {\n      <g\n        class=\"shadow-svg-class {{ flowchartConstants.edgeClass }} {{ flowchartConstants.draggingClass }}\"\n        style=\"display:none\">\n        <path d=\"\"></path>\n        <circle class=\"edge-endpoint\" r=\"4\"></circle>\n      </g>\n    }\n  </svg>\n  @for (node of model.nodes; track node) {\n    <fc-node\n      [selected]=\"modelService.nodes.isSelected(node)\"\n      [edit]=\"modelService.nodes.isEdit(node)\"\n      [underMouse]=\"node === mouseoverService.mouseoverscope.node\"\n      [node]=\"node\"\n      [mouseOverConnector]=\"mouseoverService.mouseoverscope.connector\"\n      [modelservice]=\"modelService\"\n      [dragging]=\"nodeDraggingService.isDraggingNode(node)\"\n      [callbacks]=\"callbacks\"\n      [userNodeCallbacks]=\"userNodeCallbacks\">\n    </fc-node>\n  }\n  @if (dragAnimation === flowchartConstants.dragAnimationRepaint && edgeDraggingService.edgeDragging.isDragging) {\n    <div\n      [class]=\"'fc-noselect ' + flowchartConstants.edgeLabelClass\"\n      [style]=\"{\n        top: (edgeDrawingService.getEdgeCenter(edgeDraggingService.edgeDragging.dragPoint1, edgeDraggingService.edgeDragging.dragPoint2).y)+'px',\n        left: (edgeDrawingService.getEdgeCenter(edgeDraggingService.edgeDragging.dragPoint1, edgeDraggingService.edgeDragging.dragPoint2).x)+'px'\n      }\">\n      <div class=\"fc-edge-label-text\">\n        @if (edgeDraggingService.edgeDragging.dragLabel) {\n          <span [attr.id]=\"'fc-edge-label-dragging'\">{{edgeDraggingService.edgeDragging.dragLabel}}</span>\n        }\n      </div>\n    </div>\n  }\n  @for (edge of model.edges; track edge) {\n    <div\n      (mousedown)=\"edgeMouseDown($event, edge)\"\n      (click)=\"edgeClick($event, edge)\"\n      (dblclick)=\"edgeDoubleClick($event, edge)\"\n      (mouseover)=\"edgeMouseOver($event, edge)\"\n      (mouseenter)=\"edgeMouseEnter($event, edge)\"\n      (mouseleave)=\"edgeMouseLeave($event, edge)\"\n      [class]=\"'fc-noselect ' + ((modelService.edges.isEdit(edge) && flowchartConstants.editClass + ' ' + flowchartConstants.edgeLabelClass) ||\n                        (modelService.edges.isSelected(edge) && flowchartConstants.selectedClass + ' ' + flowchartConstants.edgeLabelClass) ||\n                        edge === mouseoverService.mouseoverscope.edge && flowchartConstants.hoverClass + ' ' + flowchartConstants.edgeLabelClass ||\n                        edge.active && flowchartConstants.activeClass + ' ' + flowchartConstants.edgeLabelClass ||\n                        flowchartConstants.edgeLabelClass)\"\n      [style]=\"{\n        top: (edgeDrawingService.getEdgeCenter(modelService.edges.sourceCoord(edge), modelService.edges.destCoord(edge)).y)+'px',\n        left: (edgeDrawingService.getEdgeCenter(modelService.edges.sourceCoord(edge), modelService.edges.destCoord(edge)).x)+'px'\n      }\">\n      <div class=\"fc-edge-label-text\">\n        @if (modelService.isEditable()) {\n          <div class=\"fc-noselect fc-nodeedit\" (click)=\"edgeEdit($event, edge)\">\n            <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n          </div>\n        }\n        @if (modelService.isEditable()) {\n          <div class=\"fc-noselect fc-nodedelete\" (click)=\"edgeRemove($event, edge)\">\n            &times;\n          </div>\n        }\n        @if (edge.label) {\n          <span [attr.id]=\"'fc-edge-label-'+$index\">{{edge.label}}</span>\n        }\n      </div>\n    </div>\n  }\n  <div id=\"select-rectangle\" class=\"fc-select-rectangle\" hidden>\n  </div>\n</div>\n","import { Directive, ElementRef, HostListener, Input, OnInit } from '@angular/core';\nimport { FcCallbacks, FcConnector, FlowchartConstants } from './ngx-flowchart.models';\n\n@Directive({\n  selector: '[fc-magnet]',\n  standalone: false\n})\nexport class FcMagnetDirective implements OnInit {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  connector: FcConnector;\n\n  constructor(public elementRef: ElementRef<HTMLElement>) {\n  }\n\n  ngOnInit(): void {\n    const element = $(this.elementRef.nativeElement);\n    element.addClass(FlowchartConstants.magnetClass);\n  }\n\n  @HostListener('dragover', ['$event'])\n  dragover(event: Event | any) {\n    return this.callbacks.edgeDragoverMagnet(event, this.connector);\n  }\n\n  @HostListener('dragleave', ['$event'])\n  dragleave(event: Event | any) {\n    this.callbacks.edgeDragleaveMagnet(event);\n  }\n\n  @HostListener('drop', ['$event'])\n  drop(event: Event | any) {\n    return this.callbacks.edgeDrop(event, this.connector);\n  }\n\n  @HostListener('dragend', ['$event'])\n  dragend(event: Event | any) {\n    this.callbacks.edgeDragend(event);\n  }\n\n}\n","import { Directive, ElementRef, HostListener, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { FcCallbacks, FcConnector, FcConnectorRectInfo, FcNodeRectInfo, FlowchartConstants } from './ngx-flowchart.models';\nimport { FcModelService } from './model.service';\n\n@Directive({\n  selector: '[fc-connector]',\n  standalone: false\n})\nexport class FcConnectorDirective implements OnInit, OnChanges {\n\n  @Input()\n  callbacks: FcCallbacks;\n\n  @Input()\n  modelservice: FcModelService;\n\n  @Input()\n  connector: FcConnector;\n\n  @Input()\n  nodeRectInfo: FcNodeRectInfo;\n\n  @Input()\n  mouseOverConnector: FcConnector;\n\n  constructor(public elementRef: ElementRef<HTMLElement>) {\n  }\n\n  ngOnInit(): void {\n    const element = $(this.elementRef.nativeElement);\n    element.addClass(FlowchartConstants.connectorClass);\n    if (this.modelservice.isEditable()) {\n      element.attr('draggable', 'true');\n      this.updateConnectorClass();\n    }\n    const connectorRectInfo: FcConnectorRectInfo = {\n      type: this.connector.type,\n      width: this.elementRef.nativeElement.offsetWidth,\n      height: this.elementRef.nativeElement.offsetHeight,\n      nodeRectInfo: this.nodeRectInfo\n    };\n    this.modelservice.connectors.setConnectorRectInfo(this.connector.id, connectorRectInfo);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    let updateConnector = false;\n    for (const propName of Object.keys(changes)) {\n      const change = changes[propName];\n      if (!change.firstChange && change.currentValue !== change.previousValue) {\n        if (propName === 'mouseOverConnector') {\n          updateConnector = true;\n        }\n      }\n    }\n    if (updateConnector && this.modelservice.isEditable()) {\n      this.updateConnectorClass();\n    }\n  }\n\n  private updateConnectorClass() {\n    const element = $(this.elementRef.nativeElement);\n    if (this.connector === this.mouseOverConnector) {\n      element.addClass(FlowchartConstants.hoverClass);\n    } else {\n      element.removeClass(FlowchartConstants.hoverClass);\n    }\n  }\n\n  @HostListener('dragover', ['$event'])\n  dragover(_event: Event | any) {\n    // Skip - conflict with magnet\n    /* if (this.modelservice.isEditable()) {\n      return this.callbacks.edgeDragoverConnector(event, this.connector);\n    }*/\n  }\n\n  @HostListener('drop', ['$event'])\n  drop(event: Event | any) {\n    if (this.modelservice.isEditable()) {\n      return this.callbacks.edgeDrop(event, this.connector);\n    }\n  }\n\n  @HostListener('dragend', ['$event'])\n  dragend(event: Event | any) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.edgeDragend(event);\n    }\n  }\n\n  @HostListener('dragstart', ['$event'])\n  dragstart(event: Event | any) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.edgeDragstart(event, this.connector);\n    }\n  }\n\n  @HostListener('mouseenter', ['$event'])\n  mouseenter(event: MouseEvent) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.connectorMouseEnter(event, this.connector);\n    }\n  }\n\n  @HostListener('mouseleave', ['$event'])\n  mouseleave(event: MouseEvent) {\n    if (this.modelservice.isEditable()) {\n      this.callbacks.connectorMouseLeave(event, this.connector);\n    }\n  }\n\n}\n","import { Component } from '@angular/core';\nimport { FcNodeComponent } from './node.component';\n\n@Component({\n  selector: 'fc-default-node',\n  templateUrl: './default-node.component.html',\n  styleUrls: ['./default-node.component.scss'],\n  standalone: false\n})\nexport class DefaultFcNodeComponent extends FcNodeComponent {\n\n  constructor() {\n    super();\n  }\n\n}\n","<div\n  (dblclick)=\"userNodeCallbacks.doubleClick($event, node)\">\n  <div class=\"{{flowchartConstants.nodeOverlayClass}}\"></div>\n  <div class=\"innerNode\">\n    <p>{{ node.name }}</p>\n\n    <div class=\"{{flowchartConstants.leftConnectorClass}}\">\n      @for (connector of modelservice.nodes.getConnectorsByType(node, flowchartConstants.leftConnectorType); track connector) {\n        <div fc-magnet [connector]=\"connector\" [callbacks]=\"callbacks\">\n          <div fc-connector [connector]=\"connector\"\n            [nodeRectInfo]=\"nodeRectInfo\"\n            [mouseOverConnector]=\"mouseOverConnector\"\n            [callbacks]=\"callbacks\"\n          [modelservice]=\"modelservice\"></div>\n        </div>\n      }\n    </div>\n    <div class=\"{{flowchartConstants.rightConnectorClass}}\">\n      @for (connector of modelservice.nodes.getConnectorsByType(node, flowchartConstants.rightConnectorType); track connector) {\n        <div fc-magnet [connector]=\"connector\" [callbacks]=\"callbacks\">\n          <div fc-connector [connector]=\"connector\"\n            [nodeRectInfo]=\"nodeRectInfo\"\n            [mouseOverConnector]=\"mouseOverConnector\"\n            [callbacks]=\"callbacks\"\n          [modelservice]=\"modelservice\"></div>\n        </div>\n      }\n    </div>\n  </div>\n  @if (modelservice.isEditable() && !node.readonly) {\n    <div class=\"fc-nodeedit\" (click)=\"userNodeCallbacks.nodeEdit($event, node)\">\n      <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n    </div>\n  }\n  @if (modelservice.isEditable() && !node.readonly) {\n    <div class=\"fc-nodedelete\" (click)=\"modelservice.nodes.delete(node)\">\n      &times;\n    </div>\n  }\n</div>\n","import { NgModule } from '@angular/core';\nimport { NgxFlowchartComponent } from './ngx-flowchart.component';\nimport { FcModelValidationService } from './modelvalidation.service';\nimport { FcEdgeDrawingService } from './edge-drawing.service';\nimport { CommonModule } from '@angular/common';\nimport { FcMagnetDirective } from './magnet.directive';\nimport { FcConnectorDirective } from './connector.directive';\nimport { FcNodeContainerComponent } from './node.component';\nimport { FC_NODE_COMPONENT_CONFIG } from './ngx-flowchart.models';\nimport { DefaultFcNodeComponent } from './default-node.component';\n\n@NgModule({\n    declarations: [NgxFlowchartComponent,\n        FcMagnetDirective,\n        FcConnectorDirective,\n        FcNodeContainerComponent,\n        DefaultFcNodeComponent],\n    providers: [\n        FcModelValidationService,\n        FcEdgeDrawingService,\n        {\n            provide: FC_NODE_COMPONENT_CONFIG,\n            useValue: {\n                nodeComponentType: DefaultFcNodeComponent\n            }\n        }\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [NgxFlowchartComponent,\n        FcMagnetDirective,\n        FcConnectorDirective,\n        DefaultFcNodeComponent]\n})\nexport class NgxFlowchartModule { }\n","/*\n * Public API Surface of ngx-flowchart\n */\n\nexport * from './lib/ngx-flowchart.component';\nexport * from './lib/ngx-flowchart.module';\nexport * from './lib/ngx-flowchart.models';\nexport { FcNodeComponent } from './lib/node.component';\nexport { FcMagnetDirective } from './lib/magnet.directive';\nexport { FcConnectorDirective } from './lib/connector.directive';\nexport { DefaultFcNodeComponent } from './lib/default-node.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.FcModelValidationService","i2.FcEdgeDrawingService","i3.FcNodeContainerComponent","i1.FcMagnetDirective","i2.FcConnectorDirective"],"mappings":"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"}